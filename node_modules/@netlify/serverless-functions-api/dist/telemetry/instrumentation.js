import{createRequire}from"module";const require=createRequire(import.meta.url);
var JV=Object.create;var Ql=Object.defineProperty;var QV=Object.getOwnPropertyDescriptor;var ZV=Object.getOwnPropertyNames;var eF=Object.getPrototypeOf,tF=Object.prototype.hasOwnProperty;var F=(i=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(i,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):i)(function(i){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+i+'" is not supported')});var m=(i,e)=>()=>(i&&(e=i(i=0)),e);var S=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),Ie=(i,e)=>{for(var t in e)Ql(i,t,{get:e[t],enumerable:!0})},ay=(i,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of ZV(e))!tF.call(i,s)&&s!==t&&Ql(i,s,{get:()=>e[s],enumerable:!(o=QV(e,s))||o.enumerable});return i};var pn=(i,e,t)=>(t=i!=null?JV(eF(i)):{},ay(e||!i||!i.__esModule?Ql(t,"default",{value:i,enumerable:!0}):t,i)),ee=i=>ay(Ql({},"__esModule",{value:!0}),i);var ly,cy=m(()=>{ly=typeof globalThis=="object"?globalThis:global});var uy=m(()=>{cy()});var dy=m(()=>{uy()});var $r,Kp=m(()=>{$r="1.9.0"});function rF(i){var e=new Set([i]),t=new Set,o=i.match(fy);if(!o)return function(){return!1};var s={major:+o[1],minor:+o[2],patch:+o[3],prerelease:o[4]};if(s.prerelease!=null)return function(l){return l===i};function a(r){return t.add(r),!1}function n(r){return e.add(r),!0}return function(l){if(e.has(l))return!0;if(t.has(l))return!1;var c=l.match(fy);if(!c)return a(l);var u={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return u.prerelease!=null||s.major!==u.major?a(l):s.major===0?s.minor===u.minor&&s.patch<=u.patch?n(l):a(l):s.minor<=u.minor?n(l):a(l)}}var fy,py,hy=m(()=>{Kp();fy=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;py=rF($r)});function Sr(i,e,t,o){var s;o===void 0&&(o=!1);var a=ws[Ls]=(s=ws[Ls])!==null&&s!==void 0?s:{version:$r};if(!o&&a[i]){var n=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+i);return t.error(n.stack||n.message),!1}if(a.version!==$r){var n=new Error("@opentelemetry/api: Registration of version v"+a.version+" for "+i+" does not match previously registered API v"+$r);return t.error(n.stack||n.message),!1}return a[i]=e,t.debug("@opentelemetry/api: Registered a global for "+i+" v"+$r+"."),!0}function xt(i){var e,t,o=(e=ws[Ls])===null||e===void 0?void 0:e.version;if(!(!o||!py(o)))return(t=ws[Ls])===null||t===void 0?void 0:t[i]}function gr(i,e){e.debug("@opentelemetry/api: Unregistering a global for "+i+" v"+$r+".");var t=ws[Ls];t&&delete t[i]}var nF,Ls,ws,ei=m(()=>{dy();Kp();hy();nF=$r.split(".")[0],Ls=Symbol.for("opentelemetry.js.api."+nF),ws=ly});function Ds(i,e,t){var o=xt("diag");if(o)return t.unshift(e),o[i].apply(o,oF([],iF(t),!1))}var iF,oF,my,_y=m(()=>{ei();iF=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var o=t.call(i),s,a=[],n;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(r){n={error:r}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(n)throw n.error}}return a},oF=function(i,e,t){if(t||arguments.length===2)for(var o=0,s=e.length,a;o<s;o++)(a||!(o in e))&&(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return i.concat(a||Array.prototype.slice.call(e))},my=function(){function i(e){this._namespace=e.namespace||"DiagComponentLogger"}return i.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ds("debug",this._namespace,e)},i.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ds("error",this._namespace,e)},i.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ds("info",this._namespace,e)},i.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ds("warn",this._namespace,e)},i.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ds("verbose",this._namespace,e)},i}()});var ve,Zl=m(()=>{(function(i){i[i.NONE=0]="NONE",i[i.ERROR=30]="ERROR",i[i.WARN=50]="WARN",i[i.INFO=60]="INFO",i[i.DEBUG=70]="DEBUG",i[i.VERBOSE=80]="VERBOSE",i[i.ALL=9999]="ALL"})(ve||(ve={}))});function Ey(i,e){i<ve.NONE?i=ve.NONE:i>ve.ALL&&(i=ve.ALL),e=e||{};function t(o,s){var a=e[o];return typeof a=="function"&&i>=s?a.bind(e):function(){}}return{error:t("error",ve.ERROR),warn:t("warn",ve.WARN),info:t("info",ve.INFO),debug:t("debug",ve.DEBUG),verbose:t("verbose",ve.VERBOSE)}}var Sy=m(()=>{Zl()});var sF,aF,lF,ot,ti=m(()=>{_y();Sy();Zl();ei();sF=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var o=t.call(i),s,a=[],n;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(r){n={error:r}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(n)throw n.error}}return a},aF=function(i,e,t){if(t||arguments.length===2)for(var o=0,s=e.length,a;o<s;o++)(a||!(o in e))&&(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return i.concat(a||Array.prototype.slice.call(e))},lF="diag",ot=function(){function i(){function e(s){return function(){for(var a=[],n=0;n<arguments.length;n++)a[n]=arguments[n];var r=xt("diag");if(r)return r[s].apply(r,aF([],sF(a),!1))}}var t=this,o=function(s,a){var n,r,l;if(a===void 0&&(a={logLevel:ve.INFO}),s===t){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error((n=c.stack)!==null&&n!==void 0?n:c.message),!1}typeof a=="number"&&(a={logLevel:a});var u=xt("diag"),d=Ey((r=a.logLevel)!==null&&r!==void 0?r:ve.INFO,s);if(u&&!a.suppressOverrideMessage){var _=(l=new Error().stack)!==null&&l!==void 0?l:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+_),d.warn("Current logger will overwrite one already registered from "+_)}return Sr("diag",d,t,!0)};t.setLogger=o,t.disable=function(){gr(lF,t)},t.createComponentLogger=function(s){return new my(s)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return i.instance=function(){return this._instance||(this._instance=new i),this._instance},i}()});var cF,uF,gy,Ty=m(()=>{cF=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var o=t.call(i),s,a=[],n;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(r){n={error:r}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(n)throw n.error}}return a},uF=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],o=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gy=function(){function i(e){this._entries=e?new Map(e):new Map}return i.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},i.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=cF(e,2),o=t[0],s=t[1];return[o,s]})},i.prototype.setEntry=function(e,t){var o=new i(this._entries);return o._entries.set(e,t),o},i.prototype.removeEntry=function(e){var t=new i(this._entries);return t._entries.delete(e),t},i.prototype.removeEntries=function(){for(var e,t,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=new i(this._entries);try{for(var n=uF(o),r=n.next();!r.done;r=n.next()){var l=r.value;a._entries.delete(l)}}catch(c){e={error:c}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return a},i.prototype.clear=function(){return new i},i}()});var yy,vy=m(()=>{yy=Symbol("BaggageEntryMetadata")});function Ay(i){return i===void 0&&(i={}),new gy(new Map(Object.entries(i)))}function ec(i){return typeof i!="string"&&(dF.error("Cannot create baggage metadata from unknown type: "+typeof i),i=""),{__TYPE__:yy,toString:function(){return i}}}var dF,Wp=m(()=>{ti();Ty();vy();dF=ot.instance()});function Vt(i){return Symbol.for(i)}var fF,tc,Us=m(()=>{fF=function(){function i(e){var t=this;t._currentContext=e?new Map(e):new Map,t.getValue=function(o){return t._currentContext.get(o)},t.setValue=function(o,s){var a=new i(t._currentContext);return a._currentContext.set(o,s),a},t.deleteValue=function(o){var s=new i(t._currentContext);return s._currentContext.delete(o),s}}return i}(),tc=new fF});var Xp,rc,Oy=m(()=>{Xp=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],rc=function(){function i(){function e(o){return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(console){var n=console[o];if(typeof n!="function"&&(n=console.log),typeof n=="function")return n.apply(console,s)}}}for(var t=0;t<Xp.length;t++)this[Xp[t].n]=e(Xp[t].c)}return i}()});function ic(){return Qp}var ri,pF,nc,hF,mF,_F,EF,Jp,SF,gF,TF,Qp,yF,vF,AF,OF,RF,bF,CF,Zp=m(()=>{ri=function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),pF=function(){function i(){}return i.prototype.createGauge=function(e,t){return vF},i.prototype.createHistogram=function(e,t){return AF},i.prototype.createCounter=function(e,t){return yF},i.prototype.createUpDownCounter=function(e,t){return OF},i.prototype.createObservableGauge=function(e,t){return bF},i.prototype.createObservableCounter=function(e,t){return RF},i.prototype.createObservableUpDownCounter=function(e,t){return CF},i.prototype.addBatchObservableCallback=function(e,t){},i.prototype.removeBatchObservableCallback=function(e){},i}(),nc=function(){function i(){}return i}(),hF=function(i){ri(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.add=function(t,o){},e}(nc),mF=function(i){ri(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.add=function(t,o){},e}(nc),_F=function(i){ri(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.record=function(t,o){},e}(nc),EF=function(i){ri(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.record=function(t,o){},e}(nc),Jp=function(){function i(){}return i.prototype.addCallback=function(e){},i.prototype.removeCallback=function(e){},i}(),SF=function(i){ri(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e}(Jp),gF=function(i){ri(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e}(Jp),TF=function(i){ri(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e}(Jp),Qp=new pF,yF=new hF,vF=new _F,AF=new EF,OF=new mF,RF=new SF,bF=new gF,CF=new TF});var Tt,Ry=m(()=>{(function(i){i[i.INT=0]="INT",i[i.DOUBLE=1]="DOUBLE"})(Tt||(Tt={}))});var oc,sc,eh=m(()=>{oc={get:function(i,e){if(i!=null)return i[e]},keys:function(i){return i==null?[]:Object.keys(i)}},sc={set:function(i,e,t){i!=null&&(i[e]=t)}}});var NF,xF,by,Cy=m(()=>{Us();NF=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var o=t.call(i),s,a=[],n;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(r){n={error:r}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(n)throw n.error}}return a},xF=function(i,e,t){if(t||arguments.length===2)for(var o=0,s=e.length,a;o<s;o++)(a||!(o in e))&&(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return i.concat(a||Array.prototype.slice.call(e))},by=function(){function i(){}return i.prototype.active=function(){return tc},i.prototype.with=function(e,t,o){for(var s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];return t.call.apply(t,xF([o],NF(s),!1))},i.prototype.bind=function(e,t){return t},i.prototype.enable=function(){return this},i.prototype.disable=function(){return this},i}()});var PF,IF,th,MF,hn,ks=m(()=>{Cy();ei();ti();PF=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var o=t.call(i),s,a=[],n;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(r){n={error:r}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(n)throw n.error}}return a},IF=function(i,e,t){if(t||arguments.length===2)for(var o=0,s=e.length,a;o<s;o++)(a||!(o in e))&&(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return i.concat(a||Array.prototype.slice.call(e))},th="context",MF=new by,hn=function(){function i(){}return i.getInstance=function(){return this._instance||(this._instance=new i),this._instance},i.prototype.setGlobalContextManager=function(e){return Sr(th,e,ot.instance())},i.prototype.active=function(){return this._getContextManager().active()},i.prototype.with=function(e,t,o){for(var s,a=[],n=3;n<arguments.length;n++)a[n-3]=arguments[n];return(s=this._getContextManager()).with.apply(s,IF([e,t,o],PF(a),!1))},i.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},i.prototype._getContextManager=function(){return xt(th)||MF},i.prototype.disable=function(){this._getContextManager().disable(),gr(th,ot.instance())},i}()});var he,rh=m(()=>{(function(i){i[i.NONE=0]="NONE",i[i.SAMPLED=1]="SAMPLED"})(he||(he={}))});var Bs,Vs,$i,ac=m(()=>{rh();Bs="0000000000000000",Vs="00000000000000000000000000000000",$i={traceId:Vs,spanId:Bs,traceFlags:he.NONE}});var mn,lc=m(()=>{ac();mn=function(){function i(e){e===void 0&&(e=$i),this._spanContext=e}return i.prototype.spanContext=function(){return this._spanContext},i.prototype.setAttribute=function(e,t){return this},i.prototype.setAttributes=function(e){return this},i.prototype.addEvent=function(e,t){return this},i.prototype.addLink=function(e){return this},i.prototype.addLinks=function(e){return this},i.prototype.setStatus=function(e){return this},i.prototype.updateName=function(e){return this},i.prototype.end=function(e){},i.prototype.isRecording=function(){return!1},i.prototype.recordException=function(e,t){},i}()});function cc(i){return i.getValue(nh)||void 0}function Ny(){return cc(hn.getInstance().active())}function Fs(i,e){return i.setValue(nh,e)}function xy(i){return i.deleteValue(nh)}function Py(i,e){return Fs(i,new mn(e))}function uc(i){var e;return(e=cc(i))===null||e===void 0?void 0:e.spanContext()}var nh,ih=m(()=>{Us();lc();ks();nh=Vt("OpenTelemetry Context Key SPAN")});function or(i){return LF.test(i)&&i!==Vs}function ni(i){return wF.test(i)&&i!==Bs}function je(i){return or(i.traceId)&&ni(i.spanId)}function Iy(i){return new mn(i)}var LF,wF,dc=m(()=>{ac();lc();LF=/^([0-9a-f]{32})$/i,wF=/^[0-9a-f]{16}$/i});function DF(i){return typeof i=="object"&&typeof i.spanId=="string"&&typeof i.traceId=="string"&&typeof i.traceFlags=="number"}var oh,fc,sh=m(()=>{ks();ih();lc();dc();oh=hn.getInstance(),fc=function(){function i(){}return i.prototype.startSpan=function(e,t,o){o===void 0&&(o=oh.active());var s=!!(t!=null&&t.root);if(s)return new mn;var a=o&&uc(o);return DF(a)&&je(a)?new mn(a):new mn},i.prototype.startActiveSpan=function(e,t,o,s){var a,n,r;if(!(arguments.length<2)){arguments.length===2?r=t:arguments.length===3?(a=t,r=o):(a=t,n=o,r=s);var l=n??oh.active(),c=this.startSpan(e,a,l),u=Fs(l,c);return oh.with(u,r,void 0,c)}},i}()});var UF,pc,ah=m(()=>{sh();UF=new fc,pc=function(){function i(e,t,o,s){this._provider=e,this.name=t,this.version=o,this.options=s}return i.prototype.startSpan=function(e,t,o){return this._getTracer().startSpan(e,t,o)},i.prototype.startActiveSpan=function(e,t,o,s){var a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)},i.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):UF},i}()});var My,Ly=m(()=>{sh();My=function(){function i(){}return i.prototype.getTracer=function(e,t,o){return new fc},i}()});var kF,qs,lh=m(()=>{ah();Ly();kF=new My,qs=function(){function i(){}return i.prototype.getTracer=function(e,t,o){var s;return(s=this.getDelegateTracer(e,t,o))!==null&&s!==void 0?s:new pc(this,e,t,o)},i.prototype.getDelegate=function(){var e;return(e=this._delegate)!==null&&e!==void 0?e:kF},i.prototype.setDelegate=function(e){this._delegate=e},i.prototype.getDelegateTracer=function(e,t,o){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getTracer(e,t,o)},i}()});var yt,wy=m(()=>{(function(i){i[i.NOT_RECORD=0]="NOT_RECORD",i[i.RECORD=1]="RECORD",i[i.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(yt||(yt={}))});var Ft,Dy=m(()=>{(function(i){i[i.INTERNAL=0]="INTERNAL",i[i.SERVER=1]="SERVER",i[i.CLIENT=2]="CLIENT",i[i.PRODUCER=3]="PRODUCER",i[i.CONSUMER=4]="CONSUMER"})(Ft||(Ft={}))});var Tr,Uy=m(()=>{(function(i){i[i.UNSET=0]="UNSET",i[i.OK=1]="OK",i[i.ERROR=2]="ERROR"})(Tr||(Tr={}))});function ky(i){return FF.test(i)}function By(i){return qF.test(i)&&!GF.test(i)}var ch,BF,VF,FF,qF,GF,Vy=m(()=>{ch="[_0-9a-z-*/]",BF="[a-z]"+ch+"{0,255}",VF="[a-z0-9]"+ch+"{0,240}@[a-z]"+ch+"{0,13}",FF=new RegExp("^(?:"+BF+"|"+VF+")$"),qF=/^[ -~]{0,255}[!-~]$/,GF=/,|=/});var Fy,HF,qy,Gy,Hy,jy=m(()=>{Vy();Fy=32,HF=512,qy=",",Gy="=",Hy=function(){function i(e){this._internalState=new Map,e&&this._parse(e)}return i.prototype.set=function(e,t){var o=this._clone();return o._internalState.has(e)&&o._internalState.delete(e),o._internalState.set(e,t),o},i.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},i.prototype.get=function(e){return this._internalState.get(e)},i.prototype.serialize=function(){var e=this;return this._keys().reduce(function(t,o){return t.push(o+Gy+e.get(o)),t},[]).join(qy)},i.prototype._parse=function(e){e.length>HF||(this._internalState=e.split(qy).reverse().reduce(function(t,o){var s=o.trim(),a=s.indexOf(Gy);if(a!==-1){var n=s.slice(0,a),r=s.slice(a+1,o.length);ky(n)&&By(r)&&t.set(n,r)}return t},new Map),this._internalState.size>Fy&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Fy))))},i.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},i.prototype._clone=function(){var e=new i;return e._internalState=new Map(this._internalState),e},i}()});function zy(i){return new Hy(i)}var $y=m(()=>{jy()});var qe,Yy=m(()=>{ks();qe=hn.getInstance()});var v,Ky=m(()=>{ti();v=ot.instance()});var jF,Wy,Xy=m(()=>{Zp();jF=function(){function i(){}return i.prototype.getMeter=function(e,t,o){return Qp},i}(),Wy=new jF});var uh,Jy,Qy=m(()=>{Xy();ei();ti();uh="metrics",Jy=function(){function i(){}return i.getInstance=function(){return this._instance||(this._instance=new i),this._instance},i.prototype.setGlobalMeterProvider=function(e){return Sr(uh,e,ot.instance())},i.prototype.getMeterProvider=function(){return xt(uh)||Wy},i.prototype.getMeter=function(e,t,o){return this.getMeterProvider().getMeter(e,t,o)},i.prototype.disable=function(){gr(uh,ot.instance())},i}()});var ii,Zy=m(()=>{Qy();ii=Jy.getInstance()});var ev,tv=m(()=>{ev=function(){function i(){}return i.prototype.inject=function(e,t){},i.prototype.extract=function(e,t){return e},i.prototype.fields=function(){return[]},i}()});function fh(i){return i.getValue(dh)||void 0}function rv(){return fh(hn.getInstance().active())}function nv(i,e){return i.setValue(dh,e)}function iv(i){return i.deleteValue(dh)}var dh,ov=m(()=>{ks();Us();dh=Vt("OpenTelemetry Baggage Key")});var ph,zF,sv,av=m(()=>{ei();tv();eh();ov();Wp();ti();ph="propagation",zF=new ev,sv=function(){function i(){this.createBaggage=Ay,this.getBaggage=fh,this.getActiveBaggage=rv,this.setBaggage=nv,this.deleteBaggage=iv}return i.getInstance=function(){return this._instance||(this._instance=new i),this._instance},i.prototype.setGlobalPropagator=function(e){return Sr(ph,e,ot.instance())},i.prototype.inject=function(e,t,o){return o===void 0&&(o=sc),this._getGlobalPropagator().inject(e,t,o)},i.prototype.extract=function(e,t,o){return o===void 0&&(o=oc),this._getGlobalPropagator().extract(e,t,o)},i.prototype.fields=function(){return this._getGlobalPropagator().fields()},i.prototype.disable=function(){gr(ph,ot.instance())},i.prototype._getGlobalPropagator=function(){return xt(ph)||zF},i}()});var vt,lv=m(()=>{av();vt=sv.getInstance()});var hh,cv,uv=m(()=>{ei();lh();dc();ih();ti();hh="trace",cv=function(){function i(){this._proxyTracerProvider=new qs,this.wrapSpanContext=Iy,this.isSpanContextValid=je,this.deleteSpan=xy,this.getSpan=cc,this.getActiveSpan=Ny,this.getSpanContext=uc,this.setSpan=Fs,this.setSpanContext=Py}return i.getInstance=function(){return this._instance||(this._instance=new i),this._instance},i.prototype.setGlobalTracerProvider=function(e){var t=Sr(hh,this._proxyTracerProvider,ot.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},i.prototype.getTracerProvider=function(){return xt(hh)||this._proxyTracerProvider},i.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},i.prototype.disable=function(){gr(hh,ot.instance()),this._proxyTracerProvider=new qs},i}()});var fe,dv=m(()=>{uv();fe=cv.getInstance()});var Je={};Ie(Je,{DiagConsoleLogger:()=>rc,DiagLogLevel:()=>ve,INVALID_SPANID:()=>Bs,INVALID_SPAN_CONTEXT:()=>$i,INVALID_TRACEID:()=>Vs,ProxyTracer:()=>pc,ProxyTracerProvider:()=>qs,ROOT_CONTEXT:()=>tc,SamplingDecision:()=>yt,SpanKind:()=>Ft,SpanStatusCode:()=>Tr,TraceFlags:()=>he,ValueType:()=>Tt,baggageEntryMetadataFromString:()=>ec,context:()=>qe,createContextKey:()=>Vt,createNoopMeter:()=>ic,createTraceState:()=>zy,default:()=>$F,defaultTextMapGetter:()=>oc,defaultTextMapSetter:()=>sc,diag:()=>v,isSpanContextValid:()=>je,isValidSpanId:()=>ni,isValidTraceId:()=>or,metrics:()=>ii,propagation:()=>vt,trace:()=>fe});var $F,w=m(()=>{Wp();Us();Oy();Zl();Zp();Ry();eh();ah();lh();wy();Dy();Uy();rh();$y();dc();ac();Yy();Ky();Zy();lv();dv();$F={context:qe,diag:v,metrics:ii,propagation:vt,trace:fe}});function Ue(i){let e={},t=i.length;for(let o=0;o<t;o++){let s=i[o];s&&(e[String(s).toUpperCase().replace(/[-.]/g,"_")]=s)}return e}var mh=m(()=>{});var fv,pv,hv,mv,_v,Ev,Sv,gv,Tv,yv,vv,Av,Ov,Rv,bv,Cv,Nv,xv,Pv,Iv,Mv,Lv,wv,Dv,Uv,kv,Bv,Vv,Fv,qv,Gv,Hv,jv,zv,$v,Yv,Kv,Wv,Xv,Jv,Qv,Zv,eA,tA,rA,nA,iA,oA,sA,aA,lA,cA,uA,dA,fA,pA,hA,mA,_A,EA,SA,gA,TA,yA,vA,AA,OA,RA,bA,CA,NA,xA,PA,IA,MA,LA,wA,DA,UA,kA,BA,VA,FA,qA,GA,HA,jA,zA,$A,YA,KA,WA,XA,JA,QA,ZA,eO,tO,rO,nO,iO,oO,sO,aO,lO,cO,uO,dO,fO,pO,hO,mO,_O,EO,SO,gO,TO,yO,vO,AO,OO,RO,bO,CO,NO,xO,PO,IO,YF,KF,WF,XF,JF,QF,ZF,e3,t3,r3,n3,i3,o3,s3,a3,l3,c3,u3,d3,f3,p3,Gs,Hs,_h,h3,m3,_3,E3,S3,g3,T3,y3,v3,A3,O3,R3,b3,C3,N3,x3,P3,I3,M3,L3,w3,D3,U3,k3,B3,V3,F3,q3,G3,H3,j3,z3,$3,Y3,K3,W3,X3,J3,Q3,Z3,eq,tq,rq,nq,iq,oq,sq,aq,lq,cq,uq,dq,fq,pq,hq,mq,_q,Eq,Sq,gq,Tq,yq,vq,Aq,Oq,Rq,bq,Cq,Nq,xq,Pq,Iq,Mq,Lq,wq,Dq,Uq,kq,Bq,Vq,Fq,qq,Gq,Hq,jq,zq,$q,Yq,Kq,Wq,Xq,Jq,Qq,Zq,eG,tG,rG,nG,iG,oG,sG,aG,lG,cG,uG,MO,LO,wO,DO,UO,kO,BO,VO,FO,qO,GO,HO,jO,zO,$O,YO,KO,WO,XO,JO,QO,ZO,eR,tR,rR,nR,iR,oR,sR,aR,lR,cR,uR,dR,fR,pR,hR,mR,_R,ER,SR,gR,TR,yR,vR,AR,OR,dG,fG,pG,hG,mG,_G,EG,SG,gG,TG,yG,vG,AG,OG,RG,bG,CG,NG,xG,PG,IG,MG,LG,wG,DG,UG,kG,BG,VG,FG,qG,GG,HG,jG,zG,$G,YG,KG,WG,XG,JG,QG,ZG,eH,tH,rH,nH,iH,RR,bR,CR,NR,xR,PR,IR,MR,LR,wR,DR,oH,sH,aH,lH,cH,uH,dH,fH,pH,hH,mH,_H,UR,kR,BR,VR,FR,EH,SH,gH,TH,yH,vH,qR,GR,HR,AH,OH,RH,bH,jR,zR,$R,YR,CH,NH,xH,PH,IH,KR,WR,XR,JR,QR,ZR,eb,MH,LH,wH,DH,UH,kH,BH,VH,tb,rb,nb,ib,ob,FH,qH,GH,HH,jH,zH,sb,ab,lb,cb,ub,db,fb,pb,hb,mb,_b,Eb,Sb,gb,Tb,yb,vb,Ab,Ob,Rb,bb,$H,YH,KH,WH,XH,JH,QH,ZH,e4,t4,r4,n4,i4,o4,s4,a4,l4,c4,u4,d4,f4,p4,Cb,Nb,xb,Pb,Ib,h4,m4,_4,E4,S4,g4,Mb,Lb,T4,y4,v4,wb,Db,A4,O4,R4,Ub,kb,Bb,Vb,Fb,qb,Gb,Hb,jb,zb,$b,Yb,Kb,Wb,Xb,Jb,Qb,b4,C4,N4,x4,P4,I4,M4,L4,w4,D4,U4,k4,B4,V4,F4,q4,G4,H4,Zb,eC,j4,z4,$4,tC=m(()=>{mh();fv="aws.lambda.invoked_arn",pv="db.system",hv="db.connection_string",mv="db.user",_v="db.jdbc.driver_classname",Ev="db.name",Sv="db.statement",gv="db.operation",Tv="db.mssql.instance_name",yv="db.cassandra.keyspace",vv="db.cassandra.page_size",Av="db.cassandra.consistency_level",Ov="db.cassandra.table",Rv="db.cassandra.idempotence",bv="db.cassandra.speculative_execution_count",Cv="db.cassandra.coordinator.id",Nv="db.cassandra.coordinator.dc",xv="db.hbase.namespace",Pv="db.redis.database_index",Iv="db.mongodb.collection",Mv="db.sql.table",Lv="exception.type",wv="exception.message",Dv="exception.stacktrace",Uv="exception.escaped",kv="faas.trigger",Bv="faas.execution",Vv="faas.document.collection",Fv="faas.document.operation",qv="faas.document.time",Gv="faas.document.name",Hv="faas.time",jv="faas.cron",zv="faas.coldstart",$v="faas.invoked_name",Yv="faas.invoked_provider",Kv="faas.invoked_region",Wv="net.transport",Xv="net.peer.ip",Jv="net.peer.port",Qv="net.peer.name",Zv="net.host.ip",eA="net.host.port",tA="net.host.name",rA="net.host.connection.type",nA="net.host.connection.subtype",iA="net.host.carrier.name",oA="net.host.carrier.mcc",sA="net.host.carrier.mnc",aA="net.host.carrier.icc",lA="peer.service",cA="enduser.id",uA="enduser.role",dA="enduser.scope",fA="thread.id",pA="thread.name",hA="code.function",mA="code.namespace",_A="code.filepath",EA="code.lineno",SA="http.method",gA="http.url",TA="http.target",yA="http.host",vA="http.scheme",AA="http.status_code",OA="http.flavor",RA="http.user_agent",bA="http.request_content_length",CA="http.request_content_length_uncompressed",NA="http.response_content_length",xA="http.response_content_length_uncompressed",PA="http.server_name",IA="http.route",MA="http.client_ip",LA="aws.dynamodb.table_names",wA="aws.dynamodb.consumed_capacity",DA="aws.dynamodb.item_collection_metrics",UA="aws.dynamodb.provisioned_read_capacity",kA="aws.dynamodb.provisioned_write_capacity",BA="aws.dynamodb.consistent_read",VA="aws.dynamodb.projection",FA="aws.dynamodb.limit",qA="aws.dynamodb.attributes_to_get",GA="aws.dynamodb.index_name",HA="aws.dynamodb.select",jA="aws.dynamodb.global_secondary_indexes",zA="aws.dynamodb.local_secondary_indexes",$A="aws.dynamodb.exclusive_start_table",YA="aws.dynamodb.table_count",KA="aws.dynamodb.scan_forward",WA="aws.dynamodb.segment",XA="aws.dynamodb.total_segments",JA="aws.dynamodb.count",QA="aws.dynamodb.scanned_count",ZA="aws.dynamodb.attribute_definitions",eO="aws.dynamodb.global_secondary_index_updates",tO="messaging.system",rO="messaging.destination",nO="messaging.destination_kind",iO="messaging.temp_destination",oO="messaging.protocol",sO="messaging.protocol_version",aO="messaging.url",lO="messaging.message_id",cO="messaging.conversation_id",uO="messaging.message_payload_size_bytes",dO="messaging.message_payload_compressed_size_bytes",fO="messaging.operation",pO="messaging.consumer_id",hO="messaging.rabbitmq.routing_key",mO="messaging.kafka.message_key",_O="messaging.kafka.consumer_group",EO="messaging.kafka.client_id",SO="messaging.kafka.partition",gO="messaging.kafka.tombstone",TO="rpc.system",yO="rpc.service",vO="rpc.method",AO="rpc.grpc.status_code",OO="rpc.jsonrpc.version",RO="rpc.jsonrpc.request_id",bO="rpc.jsonrpc.error_code",CO="rpc.jsonrpc.error_message",NO="message.type",xO="message.id",PO="message.compressed_size",IO="message.uncompressed_size",YF=fv,KF=pv,WF=hv,XF=mv,JF=_v,QF=Ev,ZF=Sv,e3=gv,t3=Tv,r3=yv,n3=vv,i3=Av,o3=Ov,s3=Rv,a3=bv,l3=Cv,c3=Nv,u3=xv,d3=Pv,f3=Iv,p3=Mv,Gs=Lv,Hs=wv,_h=Dv,h3=Uv,m3=kv,_3=Bv,E3=Vv,S3=Fv,g3=qv,T3=Gv,y3=Hv,v3=jv,A3=zv,O3=$v,R3=Yv,b3=Kv,C3=Wv,N3=Xv,x3=Jv,P3=Qv,I3=Zv,M3=eA,L3=tA,w3=rA,D3=nA,U3=iA,k3=oA,B3=sA,V3=aA,F3=lA,q3=cA,G3=uA,H3=dA,j3=fA,z3=pA,$3=hA,Y3=mA,K3=_A,W3=EA,X3=SA,J3=gA,Q3=TA,Z3=yA,eq=vA,tq=AA,rq=OA,nq=RA,iq=bA,oq=CA,sq=NA,aq=xA,lq=PA,cq=IA,uq=MA,dq=LA,fq=wA,pq=DA,hq=UA,mq=kA,_q=BA,Eq=VA,Sq=FA,gq=qA,Tq=GA,yq=HA,vq=jA,Aq=zA,Oq=$A,Rq=YA,bq=KA,Cq=WA,Nq=XA,xq=JA,Pq=QA,Iq=ZA,Mq=eO,Lq=tO,wq=rO,Dq=nO,Uq=iO,kq=oO,Bq=sO,Vq=aO,Fq=lO,qq=cO,Gq=uO,Hq=dO,jq=fO,zq=pO,$q=hO,Yq=mO,Kq=_O,Wq=EO,Xq=SO,Jq=gO,Qq=TO,Zq=yO,eG=vO,tG=AO,rG=OO,nG=RO,iG=bO,oG=CO,sG=NO,aG=xO,lG=PO,cG=IO,uG=Ue([fv,pv,hv,mv,_v,Ev,Sv,gv,Tv,yv,vv,Av,Ov,Rv,bv,Cv,Nv,xv,Pv,Iv,Mv,Lv,wv,Dv,Uv,kv,Bv,Vv,Fv,qv,Gv,Hv,jv,zv,$v,Yv,Kv,Wv,Xv,Jv,Qv,Zv,eA,tA,rA,nA,iA,oA,sA,aA,lA,cA,uA,dA,fA,pA,hA,mA,_A,EA,SA,gA,TA,yA,vA,AA,OA,RA,bA,CA,NA,xA,PA,IA,MA,LA,wA,DA,UA,kA,BA,VA,FA,qA,GA,HA,jA,zA,$A,YA,KA,WA,XA,JA,QA,ZA,eO,tO,rO,nO,iO,oO,sO,aO,lO,cO,uO,dO,fO,pO,hO,mO,_O,EO,SO,gO,TO,yO,vO,AO,OO,RO,bO,CO,NO,xO,PO,IO]),MO="other_sql",LO="mssql",wO="mysql",DO="oracle",UO="db2",kO="postgresql",BO="redshift",VO="hive",FO="cloudscape",qO="hsqldb",GO="progress",HO="maxdb",jO="hanadb",zO="ingres",$O="firstsql",YO="edb",KO="cache",WO="adabas",XO="firebird",JO="derby",QO="filemaker",ZO="informix",eR="instantdb",tR="interbase",rR="mariadb",nR="netezza",iR="pervasive",oR="pointbase",sR="sqlite",aR="sybase",lR="teradata",cR="vertica",uR="h2",dR="coldfusion",fR="cassandra",pR="hbase",hR="mongodb",mR="redis",_R="couchbase",ER="couchdb",SR="cosmosdb",gR="dynamodb",TR="neo4j",yR="geode",vR="elasticsearch",AR="memcached",OR="cockroachdb",dG=MO,fG=LO,pG=wO,hG=DO,mG=UO,_G=kO,EG=BO,SG=VO,gG=FO,TG=qO,yG=GO,vG=HO,AG=jO,OG=zO,RG=$O,bG=YO,CG=KO,NG=WO,xG=XO,PG=JO,IG=QO,MG=ZO,LG=eR,wG=tR,DG=rR,UG=nR,kG=iR,BG=oR,VG=sR,FG=aR,qG=lR,GG=cR,HG=uR,jG=dR,zG=fR,$G=pR,YG=hR,KG=mR,WG=_R,XG=ER,JG=SR,QG=gR,ZG=TR,eH=yR,tH=vR,rH=AR,nH=OR,iH=Ue([MO,LO,wO,DO,UO,kO,BO,VO,FO,qO,GO,HO,jO,zO,$O,YO,KO,WO,XO,JO,QO,ZO,eR,tR,rR,nR,iR,oR,sR,aR,lR,cR,uR,dR,fR,pR,hR,mR,_R,ER,SR,gR,TR,yR,vR,AR,OR]),RR="all",bR="each_quorum",CR="quorum",NR="local_quorum",xR="one",PR="two",IR="three",MR="local_one",LR="any",wR="serial",DR="local_serial",oH=RR,sH=bR,aH=CR,lH=NR,cH=xR,uH=PR,dH=IR,fH=MR,pH=LR,hH=wR,mH=DR,_H=Ue([RR,bR,CR,NR,xR,PR,IR,MR,LR,wR,DR]),UR="datasource",kR="http",BR="pubsub",VR="timer",FR="other",EH=UR,SH=kR,gH=BR,TH=VR,yH=FR,vH=Ue([UR,kR,BR,VR,FR]),qR="insert",GR="edit",HR="delete",AH=qR,OH=GR,RH=HR,bH=Ue([qR,GR,HR]),jR="alibaba_cloud",zR="aws",$R="azure",YR="gcp",CH=jR,NH=zR,xH=$R,PH=YR,IH=Ue([jR,zR,$R,YR]),KR="ip_tcp",WR="ip_udp",XR="ip",JR="unix",QR="pipe",ZR="inproc",eb="other",MH=KR,LH=WR,wH=XR,DH=JR,UH=QR,kH=ZR,BH=eb,VH=Ue([KR,WR,XR,JR,QR,ZR,eb]),tb="wifi",rb="wired",nb="cell",ib="unavailable",ob="unknown",FH=tb,qH=rb,GH=nb,HH=ib,jH=ob,zH=Ue([tb,rb,nb,ib,ob]),sb="gprs",ab="edge",lb="umts",cb="cdma",ub="evdo_0",db="evdo_a",fb="cdma2000_1xrtt",pb="hsdpa",hb="hsupa",mb="hspa",_b="iden",Eb="evdo_b",Sb="lte",gb="ehrpd",Tb="hspap",yb="gsm",vb="td_scdma",Ab="iwlan",Ob="nr",Rb="nrnsa",bb="lte_ca",$H=sb,YH=ab,KH=lb,WH=cb,XH=ub,JH=db,QH=fb,ZH=pb,e4=hb,t4=mb,r4=_b,n4=Eb,i4=Sb,o4=gb,s4=Tb,a4=yb,l4=vb,c4=Ab,u4=Ob,d4=Rb,f4=bb,p4=Ue([sb,ab,lb,cb,ub,db,fb,pb,hb,mb,_b,Eb,Sb,gb,Tb,yb,vb,Ab,Ob,Rb,bb]),Cb="1.0",Nb="1.1",xb="2.0",Pb="SPDY",Ib="QUIC",h4=Cb,m4=Nb,_4=xb,E4=Pb,S4=Ib,g4={HTTP_1_0:Cb,HTTP_1_1:Nb,HTTP_2_0:xb,SPDY:Pb,QUIC:Ib},Mb="queue",Lb="topic",T4=Mb,y4=Lb,v4=Ue([Mb,Lb]),wb="receive",Db="process",A4=wb,O4=Db,R4=Ue([wb,Db]),Ub=0,kb=1,Bb=2,Vb=3,Fb=4,qb=5,Gb=6,Hb=7,jb=8,zb=9,$b=10,Yb=11,Kb=12,Wb=13,Xb=14,Jb=15,Qb=16,b4=Ub,C4=kb,N4=Bb,x4=Vb,P4=Fb,I4=qb,M4=Gb,L4=Hb,w4=jb,D4=zb,U4=$b,k4=Yb,B4=Kb,V4=Wb,F4=Xb,q4=Jb,G4=Qb,H4={OK:Ub,CANCELLED:kb,UNKNOWN:Bb,INVALID_ARGUMENT:Vb,DEADLINE_EXCEEDED:Fb,NOT_FOUND:qb,ALREADY_EXISTS:Gb,PERMISSION_DENIED:Hb,RESOURCE_EXHAUSTED:jb,FAILED_PRECONDITION:zb,ABORTED:$b,OUT_OF_RANGE:Yb,UNIMPLEMENTED:Kb,INTERNAL:Wb,UNAVAILABLE:Xb,DATA_LOSS:Jb,UNAUTHENTICATED:Qb},Zb="SENT",eC="RECEIVED",j4=Zb,z4=eC,$4=Ue([Zb,eC])});var rC=m(()=>{tC()});var nC,iC,oC,sC,aC,lC,cC,uC,dC,fC,pC,hC,mC,_C,EC,SC,gC,TC,yC,vC,AC,OC,RC,bC,CC,NC,xC,PC,IC,MC,LC,wC,DC,UC,kC,BC,VC,FC,qC,GC,HC,jC,zC,$C,YC,KC,WC,XC,JC,QC,ZC,eN,tN,rN,nN,iN,oN,sN,aN,lN,cN,uN,dN,fN,pN,hN,mN,_N,EN,SN,gN,TN,yN,vN,AN,ON,RN,bN,CN,NN,xN,Y4,K4,W4,X4,J4,Q4,Z4,e6,t6,r6,n6,i6,o6,s6,a6,l6,c6,u6,d6,f6,p6,h6,m6,_6,E6,S6,g6,T6,y6,v6,Eh,Sh,A6,gh,O6,R6,b6,C6,N6,x6,P6,I6,M6,L6,w6,D6,U6,k6,B6,V6,F6,q6,G6,H6,j6,z6,Th,$6,Y6,yh,vh,Ah,Oh,Rh,K6,bh,Ch,oi,Yi,js,Yr,W6,Nh,X6,Ki,Wi,Xi,J6,Q6,Z6,ej,tj,PN,IN,MN,LN,rj,nj,ij,oj,sj,wN,DN,UN,kN,BN,VN,FN,qN,GN,HN,jN,zN,$N,YN,KN,WN,XN,aj,lj,cj,uj,dj,fj,pj,hj,mj,_j,Ej,Sj,gj,Tj,yj,vj,Aj,Oj,JN,QN,Rj,bj,Cj,ZN,e0,t0,r0,n0,i0,o0,Nj,xj,Pj,Ij,Mj,Lj,wj,Dj,s0,a0,l0,c0,u0,d0,f0,p0,h0,m0,_0,Uj,kj,Bj,Vj,Fj,qj,Gj,Hj,jj,zj,$j,Yj,E0,S0,g0,T0,y0,v0,A0,O0,R0,b0,Kj,Wj,Xj,Jj,Qj,xh,Zj,ez,tz,rz,nz,C0=m(()=>{mh();nC="cloud.provider",iC="cloud.account.id",oC="cloud.region",sC="cloud.availability_zone",aC="cloud.platform",lC="aws.ecs.container.arn",cC="aws.ecs.cluster.arn",uC="aws.ecs.launchtype",dC="aws.ecs.task.arn",fC="aws.ecs.task.family",pC="aws.ecs.task.revision",hC="aws.eks.cluster.arn",mC="aws.log.group.names",_C="aws.log.group.arns",EC="aws.log.stream.names",SC="aws.log.stream.arns",gC="container.name",TC="container.id",yC="container.runtime",vC="container.image.name",AC="container.image.tag",OC="deployment.environment",RC="device.id",bC="device.model.identifier",CC="device.model.name",NC="faas.name",xC="faas.id",PC="faas.version",IC="faas.instance",MC="faas.max_memory",LC="host.id",wC="host.name",DC="host.type",UC="host.arch",kC="host.image.name",BC="host.image.id",VC="host.image.version",FC="k8s.cluster.name",qC="k8s.node.name",GC="k8s.node.uid",HC="k8s.namespace.name",jC="k8s.pod.uid",zC="k8s.pod.name",$C="k8s.container.name",YC="k8s.replicaset.uid",KC="k8s.replicaset.name",WC="k8s.deployment.uid",XC="k8s.deployment.name",JC="k8s.statefulset.uid",QC="k8s.statefulset.name",ZC="k8s.daemonset.uid",eN="k8s.daemonset.name",tN="k8s.job.uid",rN="k8s.job.name",nN="k8s.cronjob.uid",iN="k8s.cronjob.name",oN="os.type",sN="os.description",aN="os.name",lN="os.version",cN="process.pid",uN="process.executable.name",dN="process.executable.path",fN="process.command",pN="process.command_line",hN="process.command_args",mN="process.owner",_N="process.runtime.name",EN="process.runtime.version",SN="process.runtime.description",gN="service.name",TN="service.namespace",yN="service.instance.id",vN="service.version",AN="telemetry.sdk.name",ON="telemetry.sdk.language",RN="telemetry.sdk.version",bN="telemetry.auto.version",CN="webengine.name",NN="webengine.version",xN="webengine.description",Y4=nC,K4=iC,W4=oC,X4=sC,J4=aC,Q4=lC,Z4=cC,e6=uC,t6=dC,r6=fC,n6=pC,i6=hC,o6=mC,s6=_C,a6=EC,l6=SC,c6=gC,u6=TC,d6=yC,f6=vC,p6=AC,h6=OC,m6=RC,_6=bC,E6=CC,S6=NC,g6=xC,T6=PC,y6=IC,v6=MC,Eh=LC,Sh=wC,A6=DC,gh=UC,O6=kC,R6=BC,b6=VC,C6=FC,N6=qC,x6=GC,P6=HC,I6=jC,M6=zC,L6=$C,w6=YC,D6=KC,U6=WC,k6=XC,B6=JC,V6=QC,F6=ZC,q6=eN,G6=tN,H6=rN,j6=nN,z6=iN,Th=oN,$6=sN,Y6=aN,yh=lN,vh=cN,Ah=uN,Oh=dN,Rh=fN,K6=pN,bh=hN,Ch=mN,oi=_N,Yi=EN,js=SN,Yr=gN,W6=TN,Nh=yN,X6=vN,Ki=AN,Wi=ON,Xi=RN,J6=bN,Q6=CN,Z6=NN,ej=xN,tj=Ue([nC,iC,oC,sC,aC,lC,cC,uC,dC,fC,pC,hC,mC,_C,EC,SC,gC,TC,yC,vC,AC,OC,RC,bC,CC,NC,xC,PC,IC,MC,LC,wC,DC,UC,kC,BC,VC,FC,qC,GC,HC,jC,zC,$C,YC,KC,WC,XC,JC,QC,ZC,eN,tN,rN,nN,iN,oN,sN,aN,lN,cN,uN,dN,fN,pN,hN,mN,_N,EN,SN,gN,TN,yN,vN,AN,ON,RN,bN,CN,NN,xN]),PN="alibaba_cloud",IN="aws",MN="azure",LN="gcp",rj=PN,nj=IN,ij=MN,oj=LN,sj=Ue([PN,IN,MN,LN]),wN="alibaba_cloud_ecs",DN="alibaba_cloud_fc",UN="aws_ec2",kN="aws_ecs",BN="aws_eks",VN="aws_lambda",FN="aws_elastic_beanstalk",qN="azure_vm",GN="azure_container_instances",HN="azure_aks",jN="azure_functions",zN="azure_app_service",$N="gcp_compute_engine",YN="gcp_cloud_run",KN="gcp_kubernetes_engine",WN="gcp_cloud_functions",XN="gcp_app_engine",aj=wN,lj=DN,cj=UN,uj=kN,dj=BN,fj=VN,pj=FN,hj=qN,mj=GN,_j=HN,Ej=jN,Sj=zN,gj=$N,Tj=YN,yj=KN,vj=WN,Aj=XN,Oj=Ue([wN,DN,UN,kN,BN,VN,FN,qN,GN,HN,jN,zN,$N,YN,KN,WN,XN]),JN="ec2",QN="fargate",Rj=JN,bj=QN,Cj=Ue([JN,QN]),ZN="amd64",e0="arm32",t0="arm64",r0="ia64",n0="ppc32",i0="ppc64",o0="x86",Nj=ZN,xj=e0,Pj=t0,Ij=r0,Mj=n0,Lj=i0,wj=o0,Dj=Ue([ZN,e0,t0,r0,n0,i0,o0]),s0="windows",a0="linux",l0="darwin",c0="freebsd",u0="netbsd",d0="openbsd",f0="dragonflybsd",p0="hpux",h0="aix",m0="solaris",_0="z_os",Uj=s0,kj=a0,Bj=l0,Vj=c0,Fj=u0,qj=d0,Gj=f0,Hj=p0,jj=h0,zj=m0,$j=_0,Yj=Ue([s0,a0,l0,c0,u0,d0,f0,p0,h0,m0,_0]),E0="cpp",S0="dotnet",g0="erlang",T0="go",y0="java",v0="nodejs",A0="php",O0="python",R0="ruby",b0="webjs",Kj=E0,Wj=S0,Xj=g0,Jj=T0,Qj=y0,xh=v0,Zj=A0,ez=O0,tz=R0,rz=b0,nz=Ue([E0,S0,g0,T0,y0,v0,A0,O0,R0,b0])});var N0=m(()=>{C0()});var x0={};Ie(x0,{AWSECSLAUNCHTYPEVALUES_EC2:()=>Rj,AWSECSLAUNCHTYPEVALUES_FARGATE:()=>bj,AwsEcsLaunchtypeValues:()=>Cj,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS:()=>aj,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC:()=>lj,CLOUDPLATFORMVALUES_AWS_EC2:()=>cj,CLOUDPLATFORMVALUES_AWS_ECS:()=>uj,CLOUDPLATFORMVALUES_AWS_EKS:()=>dj,CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK:()=>pj,CLOUDPLATFORMVALUES_AWS_LAMBDA:()=>fj,CLOUDPLATFORMVALUES_AZURE_AKS:()=>_j,CLOUDPLATFORMVALUES_AZURE_APP_SERVICE:()=>Sj,CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES:()=>mj,CLOUDPLATFORMVALUES_AZURE_FUNCTIONS:()=>Ej,CLOUDPLATFORMVALUES_AZURE_VM:()=>hj,CLOUDPLATFORMVALUES_GCP_APP_ENGINE:()=>Aj,CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS:()=>vj,CLOUDPLATFORMVALUES_GCP_CLOUD_RUN:()=>Tj,CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE:()=>gj,CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE:()=>yj,CLOUDPROVIDERVALUES_ALIBABA_CLOUD:()=>rj,CLOUDPROVIDERVALUES_AWS:()=>nj,CLOUDPROVIDERVALUES_AZURE:()=>ij,CLOUDPROVIDERVALUES_GCP:()=>oj,CloudPlatformValues:()=>Oj,CloudProviderValues:()=>sj,DBCASSANDRACONSISTENCYLEVELVALUES_ALL:()=>oH,DBCASSANDRACONSISTENCYLEVELVALUES_ANY:()=>pH,DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM:()=>sH,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE:()=>fH,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM:()=>lH,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL:()=>mH,DBCASSANDRACONSISTENCYLEVELVALUES_ONE:()=>cH,DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM:()=>aH,DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL:()=>hH,DBCASSANDRACONSISTENCYLEVELVALUES_THREE:()=>dH,DBCASSANDRACONSISTENCYLEVELVALUES_TWO:()=>uH,DBSYSTEMVALUES_ADABAS:()=>NG,DBSYSTEMVALUES_CACHE:()=>CG,DBSYSTEMVALUES_CASSANDRA:()=>zG,DBSYSTEMVALUES_CLOUDSCAPE:()=>gG,DBSYSTEMVALUES_COCKROACHDB:()=>nH,DBSYSTEMVALUES_COLDFUSION:()=>jG,DBSYSTEMVALUES_COSMOSDB:()=>JG,DBSYSTEMVALUES_COUCHBASE:()=>WG,DBSYSTEMVALUES_COUCHDB:()=>XG,DBSYSTEMVALUES_DB2:()=>mG,DBSYSTEMVALUES_DERBY:()=>PG,DBSYSTEMVALUES_DYNAMODB:()=>QG,DBSYSTEMVALUES_EDB:()=>bG,DBSYSTEMVALUES_ELASTICSEARCH:()=>tH,DBSYSTEMVALUES_FILEMAKER:()=>IG,DBSYSTEMVALUES_FIREBIRD:()=>xG,DBSYSTEMVALUES_FIRSTSQL:()=>RG,DBSYSTEMVALUES_GEODE:()=>eH,DBSYSTEMVALUES_H2:()=>HG,DBSYSTEMVALUES_HANADB:()=>AG,DBSYSTEMVALUES_HBASE:()=>$G,DBSYSTEMVALUES_HIVE:()=>SG,DBSYSTEMVALUES_HSQLDB:()=>TG,DBSYSTEMVALUES_INFORMIX:()=>MG,DBSYSTEMVALUES_INGRES:()=>OG,DBSYSTEMVALUES_INSTANTDB:()=>LG,DBSYSTEMVALUES_INTERBASE:()=>wG,DBSYSTEMVALUES_MARIADB:()=>DG,DBSYSTEMVALUES_MAXDB:()=>vG,DBSYSTEMVALUES_MEMCACHED:()=>rH,DBSYSTEMVALUES_MONGODB:()=>YG,DBSYSTEMVALUES_MSSQL:()=>fG,DBSYSTEMVALUES_MYSQL:()=>pG,DBSYSTEMVALUES_NEO4J:()=>ZG,DBSYSTEMVALUES_NETEZZA:()=>UG,DBSYSTEMVALUES_ORACLE:()=>hG,DBSYSTEMVALUES_OTHER_SQL:()=>dG,DBSYSTEMVALUES_PERVASIVE:()=>kG,DBSYSTEMVALUES_POINTBASE:()=>BG,DBSYSTEMVALUES_POSTGRESQL:()=>_G,DBSYSTEMVALUES_PROGRESS:()=>yG,DBSYSTEMVALUES_REDIS:()=>KG,DBSYSTEMVALUES_REDSHIFT:()=>EG,DBSYSTEMVALUES_SQLITE:()=>VG,DBSYSTEMVALUES_SYBASE:()=>FG,DBSYSTEMVALUES_TERADATA:()=>qG,DBSYSTEMVALUES_VERTICA:()=>GG,DbCassandraConsistencyLevelValues:()=>_H,DbSystemValues:()=>iH,FAASDOCUMENTOPERATIONVALUES_DELETE:()=>RH,FAASDOCUMENTOPERATIONVALUES_EDIT:()=>OH,FAASDOCUMENTOPERATIONVALUES_INSERT:()=>AH,FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD:()=>CH,FAASINVOKEDPROVIDERVALUES_AWS:()=>NH,FAASINVOKEDPROVIDERVALUES_AZURE:()=>xH,FAASINVOKEDPROVIDERVALUES_GCP:()=>PH,FAASTRIGGERVALUES_DATASOURCE:()=>EH,FAASTRIGGERVALUES_HTTP:()=>SH,FAASTRIGGERVALUES_OTHER:()=>yH,FAASTRIGGERVALUES_PUBSUB:()=>gH,FAASTRIGGERVALUES_TIMER:()=>TH,FaasDocumentOperationValues:()=>bH,FaasInvokedProviderValues:()=>IH,FaasTriggerValues:()=>vH,HOSTARCHVALUES_AMD64:()=>Nj,HOSTARCHVALUES_ARM32:()=>xj,HOSTARCHVALUES_ARM64:()=>Pj,HOSTARCHVALUES_IA64:()=>Ij,HOSTARCHVALUES_PPC32:()=>Mj,HOSTARCHVALUES_PPC64:()=>Lj,HOSTARCHVALUES_X86:()=>wj,HTTPFLAVORVALUES_HTTP_1_0:()=>h4,HTTPFLAVORVALUES_HTTP_1_1:()=>m4,HTTPFLAVORVALUES_HTTP_2_0:()=>_4,HTTPFLAVORVALUES_QUIC:()=>S4,HTTPFLAVORVALUES_SPDY:()=>E4,HostArchValues:()=>Dj,HttpFlavorValues:()=>g4,MESSAGETYPEVALUES_RECEIVED:()=>z4,MESSAGETYPEVALUES_SENT:()=>j4,MESSAGINGDESTINATIONKINDVALUES_QUEUE:()=>T4,MESSAGINGDESTINATIONKINDVALUES_TOPIC:()=>y4,MESSAGINGOPERATIONVALUES_PROCESS:()=>O4,MESSAGINGOPERATIONVALUES_RECEIVE:()=>A4,MessageTypeValues:()=>$4,MessagingDestinationKindValues:()=>v4,MessagingOperationValues:()=>R4,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA:()=>WH,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT:()=>QH,NETHOSTCONNECTIONSUBTYPEVALUES_EDGE:()=>YH,NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD:()=>o4,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0:()=>XH,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A:()=>JH,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B:()=>n4,NETHOSTCONNECTIONSUBTYPEVALUES_GPRS:()=>$H,NETHOSTCONNECTIONSUBTYPEVALUES_GSM:()=>a4,NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA:()=>ZH,NETHOSTCONNECTIONSUBTYPEVALUES_HSPA:()=>t4,NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP:()=>s4,NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA:()=>e4,NETHOSTCONNECTIONSUBTYPEVALUES_IDEN:()=>r4,NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN:()=>c4,NETHOSTCONNECTIONSUBTYPEVALUES_LTE:()=>i4,NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA:()=>f4,NETHOSTCONNECTIONSUBTYPEVALUES_NR:()=>u4,NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA:()=>d4,NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA:()=>l4,NETHOSTCONNECTIONSUBTYPEVALUES_UMTS:()=>KH,NETHOSTCONNECTIONTYPEVALUES_CELL:()=>GH,NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE:()=>HH,NETHOSTCONNECTIONTYPEVALUES_UNKNOWN:()=>jH,NETHOSTCONNECTIONTYPEVALUES_WIFI:()=>FH,NETHOSTCONNECTIONTYPEVALUES_WIRED:()=>qH,NETTRANSPORTVALUES_INPROC:()=>kH,NETTRANSPORTVALUES_IP:()=>wH,NETTRANSPORTVALUES_IP_TCP:()=>MH,NETTRANSPORTVALUES_IP_UDP:()=>LH,NETTRANSPORTVALUES_OTHER:()=>BH,NETTRANSPORTVALUES_PIPE:()=>UH,NETTRANSPORTVALUES_UNIX:()=>DH,NetHostConnectionSubtypeValues:()=>p4,NetHostConnectionTypeValues:()=>zH,NetTransportValues:()=>VH,OSTYPEVALUES_AIX:()=>jj,OSTYPEVALUES_DARWIN:()=>Bj,OSTYPEVALUES_DRAGONFLYBSD:()=>Gj,OSTYPEVALUES_FREEBSD:()=>Vj,OSTYPEVALUES_HPUX:()=>Hj,OSTYPEVALUES_LINUX:()=>kj,OSTYPEVALUES_NETBSD:()=>Fj,OSTYPEVALUES_OPENBSD:()=>qj,OSTYPEVALUES_SOLARIS:()=>zj,OSTYPEVALUES_WINDOWS:()=>Uj,OSTYPEVALUES_Z_OS:()=>$j,OsTypeValues:()=>Yj,RPCGRPCSTATUSCODEVALUES_ABORTED:()=>U4,RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS:()=>M4,RPCGRPCSTATUSCODEVALUES_CANCELLED:()=>C4,RPCGRPCSTATUSCODEVALUES_DATA_LOSS:()=>q4,RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED:()=>P4,RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION:()=>D4,RPCGRPCSTATUSCODEVALUES_INTERNAL:()=>V4,RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT:()=>x4,RPCGRPCSTATUSCODEVALUES_NOT_FOUND:()=>I4,RPCGRPCSTATUSCODEVALUES_OK:()=>b4,RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE:()=>k4,RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED:()=>L4,RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED:()=>w4,RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED:()=>G4,RPCGRPCSTATUSCODEVALUES_UNAVAILABLE:()=>F4,RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED:()=>B4,RPCGRPCSTATUSCODEVALUES_UNKNOWN:()=>N4,RpcGrpcStatusCodeValues:()=>H4,SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET:()=>gq,SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:()=>Iq,SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ:()=>_q,SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY:()=>fq,SEMATTRS_AWS_DYNAMODB_COUNT:()=>xq,SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE:()=>Oq,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:()=>vq,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:()=>Mq,SEMATTRS_AWS_DYNAMODB_INDEX_NAME:()=>Tq,SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS:()=>pq,SEMATTRS_AWS_DYNAMODB_LIMIT:()=>Sq,SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:()=>Aq,SEMATTRS_AWS_DYNAMODB_PROJECTION:()=>Eq,SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:()=>hq,SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:()=>mq,SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT:()=>Pq,SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD:()=>bq,SEMATTRS_AWS_DYNAMODB_SEGMENT:()=>Cq,SEMATTRS_AWS_DYNAMODB_SELECT:()=>yq,SEMATTRS_AWS_DYNAMODB_TABLE_COUNT:()=>Rq,SEMATTRS_AWS_DYNAMODB_TABLE_NAMES:()=>dq,SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS:()=>Nq,SEMATTRS_AWS_LAMBDA_INVOKED_ARN:()=>YF,SEMATTRS_CODE_FILEPATH:()=>K3,SEMATTRS_CODE_FUNCTION:()=>$3,SEMATTRS_CODE_LINENO:()=>W3,SEMATTRS_CODE_NAMESPACE:()=>Y3,SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL:()=>i3,SEMATTRS_DB_CASSANDRA_COORDINATOR_DC:()=>c3,SEMATTRS_DB_CASSANDRA_COORDINATOR_ID:()=>l3,SEMATTRS_DB_CASSANDRA_IDEMPOTENCE:()=>s3,SEMATTRS_DB_CASSANDRA_KEYSPACE:()=>r3,SEMATTRS_DB_CASSANDRA_PAGE_SIZE:()=>n3,SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:()=>a3,SEMATTRS_DB_CASSANDRA_TABLE:()=>o3,SEMATTRS_DB_CONNECTION_STRING:()=>WF,SEMATTRS_DB_HBASE_NAMESPACE:()=>u3,SEMATTRS_DB_JDBC_DRIVER_CLASSNAME:()=>JF,SEMATTRS_DB_MONGODB_COLLECTION:()=>f3,SEMATTRS_DB_MSSQL_INSTANCE_NAME:()=>t3,SEMATTRS_DB_NAME:()=>QF,SEMATTRS_DB_OPERATION:()=>e3,SEMATTRS_DB_REDIS_DATABASE_INDEX:()=>d3,SEMATTRS_DB_SQL_TABLE:()=>p3,SEMATTRS_DB_STATEMENT:()=>ZF,SEMATTRS_DB_SYSTEM:()=>KF,SEMATTRS_DB_USER:()=>XF,SEMATTRS_ENDUSER_ID:()=>q3,SEMATTRS_ENDUSER_ROLE:()=>G3,SEMATTRS_ENDUSER_SCOPE:()=>H3,SEMATTRS_EXCEPTION_ESCAPED:()=>h3,SEMATTRS_EXCEPTION_MESSAGE:()=>Hs,SEMATTRS_EXCEPTION_STACKTRACE:()=>_h,SEMATTRS_EXCEPTION_TYPE:()=>Gs,SEMATTRS_FAAS_COLDSTART:()=>A3,SEMATTRS_FAAS_CRON:()=>v3,SEMATTRS_FAAS_DOCUMENT_COLLECTION:()=>E3,SEMATTRS_FAAS_DOCUMENT_NAME:()=>T3,SEMATTRS_FAAS_DOCUMENT_OPERATION:()=>S3,SEMATTRS_FAAS_DOCUMENT_TIME:()=>g3,SEMATTRS_FAAS_EXECUTION:()=>_3,SEMATTRS_FAAS_INVOKED_NAME:()=>O3,SEMATTRS_FAAS_INVOKED_PROVIDER:()=>R3,SEMATTRS_FAAS_INVOKED_REGION:()=>b3,SEMATTRS_FAAS_TIME:()=>y3,SEMATTRS_FAAS_TRIGGER:()=>m3,SEMATTRS_HTTP_CLIENT_IP:()=>uq,SEMATTRS_HTTP_FLAVOR:()=>rq,SEMATTRS_HTTP_HOST:()=>Z3,SEMATTRS_HTTP_METHOD:()=>X3,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH:()=>iq,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:()=>oq,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH:()=>sq,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:()=>aq,SEMATTRS_HTTP_ROUTE:()=>cq,SEMATTRS_HTTP_SCHEME:()=>eq,SEMATTRS_HTTP_SERVER_NAME:()=>lq,SEMATTRS_HTTP_STATUS_CODE:()=>tq,SEMATTRS_HTTP_TARGET:()=>Q3,SEMATTRS_HTTP_URL:()=>J3,SEMATTRS_HTTP_USER_AGENT:()=>nq,SEMATTRS_MESSAGE_COMPRESSED_SIZE:()=>lG,SEMATTRS_MESSAGE_ID:()=>aG,SEMATTRS_MESSAGE_TYPE:()=>sG,SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE:()=>cG,SEMATTRS_MESSAGING_CONSUMER_ID:()=>zq,SEMATTRS_MESSAGING_CONVERSATION_ID:()=>qq,SEMATTRS_MESSAGING_DESTINATION:()=>wq,SEMATTRS_MESSAGING_DESTINATION_KIND:()=>Dq,SEMATTRS_MESSAGING_KAFKA_CLIENT_ID:()=>Wq,SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP:()=>Kq,SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY:()=>Yq,SEMATTRS_MESSAGING_KAFKA_PARTITION:()=>Xq,SEMATTRS_MESSAGING_KAFKA_TOMBSTONE:()=>Jq,SEMATTRS_MESSAGING_MESSAGE_ID:()=>Fq,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:()=>Hq,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:()=>Gq,SEMATTRS_MESSAGING_OPERATION:()=>jq,SEMATTRS_MESSAGING_PROTOCOL:()=>kq,SEMATTRS_MESSAGING_PROTOCOL_VERSION:()=>Bq,SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY:()=>$q,SEMATTRS_MESSAGING_SYSTEM:()=>Lq,SEMATTRS_MESSAGING_TEMP_DESTINATION:()=>Uq,SEMATTRS_MESSAGING_URL:()=>Vq,SEMATTRS_NET_HOST_CARRIER_ICC:()=>V3,SEMATTRS_NET_HOST_CARRIER_MCC:()=>k3,SEMATTRS_NET_HOST_CARRIER_MNC:()=>B3,SEMATTRS_NET_HOST_CARRIER_NAME:()=>U3,SEMATTRS_NET_HOST_CONNECTION_SUBTYPE:()=>D3,SEMATTRS_NET_HOST_CONNECTION_TYPE:()=>w3,SEMATTRS_NET_HOST_IP:()=>I3,SEMATTRS_NET_HOST_NAME:()=>L3,SEMATTRS_NET_HOST_PORT:()=>M3,SEMATTRS_NET_PEER_IP:()=>N3,SEMATTRS_NET_PEER_NAME:()=>P3,SEMATTRS_NET_PEER_PORT:()=>x3,SEMATTRS_NET_TRANSPORT:()=>C3,SEMATTRS_PEER_SERVICE:()=>F3,SEMATTRS_RPC_GRPC_STATUS_CODE:()=>tG,SEMATTRS_RPC_JSONRPC_ERROR_CODE:()=>iG,SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE:()=>oG,SEMATTRS_RPC_JSONRPC_REQUEST_ID:()=>nG,SEMATTRS_RPC_JSONRPC_VERSION:()=>rG,SEMATTRS_RPC_METHOD:()=>eG,SEMATTRS_RPC_SERVICE:()=>Zq,SEMATTRS_RPC_SYSTEM:()=>Qq,SEMATTRS_THREAD_ID:()=>j3,SEMATTRS_THREAD_NAME:()=>z3,SEMRESATTRS_AWS_ECS_CLUSTER_ARN:()=>Z4,SEMRESATTRS_AWS_ECS_CONTAINER_ARN:()=>Q4,SEMRESATTRS_AWS_ECS_LAUNCHTYPE:()=>e6,SEMRESATTRS_AWS_ECS_TASK_ARN:()=>t6,SEMRESATTRS_AWS_ECS_TASK_FAMILY:()=>r6,SEMRESATTRS_AWS_ECS_TASK_REVISION:()=>n6,SEMRESATTRS_AWS_EKS_CLUSTER_ARN:()=>i6,SEMRESATTRS_AWS_LOG_GROUP_ARNS:()=>s6,SEMRESATTRS_AWS_LOG_GROUP_NAMES:()=>o6,SEMRESATTRS_AWS_LOG_STREAM_ARNS:()=>l6,SEMRESATTRS_AWS_LOG_STREAM_NAMES:()=>a6,SEMRESATTRS_CLOUD_ACCOUNT_ID:()=>K4,SEMRESATTRS_CLOUD_AVAILABILITY_ZONE:()=>X4,SEMRESATTRS_CLOUD_PLATFORM:()=>J4,SEMRESATTRS_CLOUD_PROVIDER:()=>Y4,SEMRESATTRS_CLOUD_REGION:()=>W4,SEMRESATTRS_CONTAINER_ID:()=>u6,SEMRESATTRS_CONTAINER_IMAGE_NAME:()=>f6,SEMRESATTRS_CONTAINER_IMAGE_TAG:()=>p6,SEMRESATTRS_CONTAINER_NAME:()=>c6,SEMRESATTRS_CONTAINER_RUNTIME:()=>d6,SEMRESATTRS_DEPLOYMENT_ENVIRONMENT:()=>h6,SEMRESATTRS_DEVICE_ID:()=>m6,SEMRESATTRS_DEVICE_MODEL_IDENTIFIER:()=>_6,SEMRESATTRS_DEVICE_MODEL_NAME:()=>E6,SEMRESATTRS_FAAS_ID:()=>g6,SEMRESATTRS_FAAS_INSTANCE:()=>y6,SEMRESATTRS_FAAS_MAX_MEMORY:()=>v6,SEMRESATTRS_FAAS_NAME:()=>S6,SEMRESATTRS_FAAS_VERSION:()=>T6,SEMRESATTRS_HOST_ARCH:()=>gh,SEMRESATTRS_HOST_ID:()=>Eh,SEMRESATTRS_HOST_IMAGE_ID:()=>R6,SEMRESATTRS_HOST_IMAGE_NAME:()=>O6,SEMRESATTRS_HOST_IMAGE_VERSION:()=>b6,SEMRESATTRS_HOST_NAME:()=>Sh,SEMRESATTRS_HOST_TYPE:()=>A6,SEMRESATTRS_K8S_CLUSTER_NAME:()=>C6,SEMRESATTRS_K8S_CONTAINER_NAME:()=>L6,SEMRESATTRS_K8S_CRONJOB_NAME:()=>z6,SEMRESATTRS_K8S_CRONJOB_UID:()=>j6,SEMRESATTRS_K8S_DAEMONSET_NAME:()=>q6,SEMRESATTRS_K8S_DAEMONSET_UID:()=>F6,SEMRESATTRS_K8S_DEPLOYMENT_NAME:()=>k6,SEMRESATTRS_K8S_DEPLOYMENT_UID:()=>U6,SEMRESATTRS_K8S_JOB_NAME:()=>H6,SEMRESATTRS_K8S_JOB_UID:()=>G6,SEMRESATTRS_K8S_NAMESPACE_NAME:()=>P6,SEMRESATTRS_K8S_NODE_NAME:()=>N6,SEMRESATTRS_K8S_NODE_UID:()=>x6,SEMRESATTRS_K8S_POD_NAME:()=>M6,SEMRESATTRS_K8S_POD_UID:()=>I6,SEMRESATTRS_K8S_REPLICASET_NAME:()=>D6,SEMRESATTRS_K8S_REPLICASET_UID:()=>w6,SEMRESATTRS_K8S_STATEFULSET_NAME:()=>V6,SEMRESATTRS_K8S_STATEFULSET_UID:()=>B6,SEMRESATTRS_OS_DESCRIPTION:()=>$6,SEMRESATTRS_OS_NAME:()=>Y6,SEMRESATTRS_OS_TYPE:()=>Th,SEMRESATTRS_OS_VERSION:()=>yh,SEMRESATTRS_PROCESS_COMMAND:()=>Rh,SEMRESATTRS_PROCESS_COMMAND_ARGS:()=>bh,SEMRESATTRS_PROCESS_COMMAND_LINE:()=>K6,SEMRESATTRS_PROCESS_EXECUTABLE_NAME:()=>Ah,SEMRESATTRS_PROCESS_EXECUTABLE_PATH:()=>Oh,SEMRESATTRS_PROCESS_OWNER:()=>Ch,SEMRESATTRS_PROCESS_PID:()=>vh,SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION:()=>js,SEMRESATTRS_PROCESS_RUNTIME_NAME:()=>oi,SEMRESATTRS_PROCESS_RUNTIME_VERSION:()=>Yi,SEMRESATTRS_SERVICE_INSTANCE_ID:()=>Nh,SEMRESATTRS_SERVICE_NAME:()=>Yr,SEMRESATTRS_SERVICE_NAMESPACE:()=>W6,SEMRESATTRS_SERVICE_VERSION:()=>X6,SEMRESATTRS_TELEMETRY_AUTO_VERSION:()=>J6,SEMRESATTRS_TELEMETRY_SDK_LANGUAGE:()=>Wi,SEMRESATTRS_TELEMETRY_SDK_NAME:()=>Ki,SEMRESATTRS_TELEMETRY_SDK_VERSION:()=>Xi,SEMRESATTRS_WEBENGINE_DESCRIPTION:()=>ej,SEMRESATTRS_WEBENGINE_NAME:()=>Q6,SEMRESATTRS_WEBENGINE_VERSION:()=>Z6,SemanticAttributes:()=>uG,SemanticResourceAttributes:()=>tj,TELEMETRYSDKLANGUAGEVALUES_CPP:()=>Kj,TELEMETRYSDKLANGUAGEVALUES_DOTNET:()=>Wj,TELEMETRYSDKLANGUAGEVALUES_ERLANG:()=>Xj,TELEMETRYSDKLANGUAGEVALUES_GO:()=>Jj,TELEMETRYSDKLANGUAGEVALUES_JAVA:()=>Qj,TELEMETRYSDKLANGUAGEVALUES_NODEJS:()=>xh,TELEMETRYSDKLANGUAGEVALUES_PHP:()=>Zj,TELEMETRYSDKLANGUAGEVALUES_PYTHON:()=>ez,TELEMETRYSDKLANGUAGEVALUES_RUBY:()=>tz,TELEMETRYSDKLANGUAGEVALUES_WEBJS:()=>rz,TelemetrySdkLanguageValues:()=>nz});var qt=m(()=>{rC();N0()});function zs(i){return i.setValue(Ph,!0)}function iz(i){return i.deleteValue(Ph)}function dt(i){return i.getValue(Ph)===!0}var Ph,$s=m(()=>{w();Ph=Vt("OpenTelemetry SDK Context Key SUPPRESS_TRACING")});var P0,hc,Ji,mc,Ih=m(()=>{P0="=",hc=";",Ji=",",mc="baggage"});var sr={};Ie(sr,{getKeyPairs:()=>Lh,parseKeyPairsIntoRecord:()=>sz,parsePairKeyValue:()=>_c,serializeKeyPairs:()=>Mh});function Mh(i){return i.reduce((e,t)=>{let o=`${e}${e!==""?Ji:""}${t}`;return o.length>8192?e:o},"")}function Lh(i){return i.getAllEntries().map(([e,t])=>{let o=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return t.metadata!==void 0&&(o+=hc+t.metadata.toString()),o})}function _c(i){let e=i.split(hc);if(e.length<=0)return;let t=e.shift();if(!t)return;let o=t.indexOf(P0);if(o<=0)return;let s=decodeURIComponent(t.substring(0,o).trim()),a=decodeURIComponent(t.substring(o+1).trim()),n;return e.length>0&&(n=ec(e.join(hc))),{key:s,value:a,metadata:n}}function sz(i){return typeof i!="string"||i.length===0?{}:i.split(Ji).map(e=>_c(e)).filter(e=>e!==void 0&&e.value.length>0).reduce((e,t)=>(e[t.key]=t.value,e),{})}var wh=m(()=>{w();Ih()});var Ys,I0=m(()=>{w();$s();Ih();wh();Ys=class{inject(e,t,o){let s=vt.getBaggage(e);if(!s||dt(e))return;let a=Lh(s).filter(r=>r.length<=4096).slice(0,180),n=Mh(a);n.length>0&&o.set(t,mc,n)}extract(e,t,o){let s=o.get(t,mc),a=Array.isArray(s)?s.join(Ji):s;if(!a)return e;let n={};return a.length===0||(a.split(Ji).forEach(l=>{let c=_c(l);if(c){let u={value:c.value};c.metadata&&(u.metadata=c.metadata),n[c.key]=u}}),Object.entries(n).length===0)?e:vt.setBaggage(e,vt.createBaggage(n))}fields(){return[mc]}}});var Dh,M0=m(()=>{Dh=class{constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}}});function si(i){let e={};if(typeof i!="object"||i==null)return e;for(let[t,o]of Object.entries(i)){if(!L0(t)){v.warn(`Invalid attribute key: ${t}`);continue}if(!ai(o)){v.warn(`Invalid attribute value set for key: ${t}`);continue}Array.isArray(o)?e[t]=o.slice():e[t]=o}return e}function L0(i){return typeof i=="string"&&i.length>0}function ai(i){return i==null?!0:Array.isArray(i)?cz(i):w0(i)}function cz(i){let e;for(let t of i)if(t!=null){if(!e){if(w0(t)){e=typeof t;continue}return!1}if(typeof t!==e)return!1}return!0}function w0(i){switch(typeof i){case"number":case"boolean":case"string":return!0}return!1}var D0=m(()=>{w()});function Uh(){return i=>{v.error(uz(i))}}function uz(i){return typeof i=="string"?i:JSON.stringify(dz(i))}function dz(i){let e={},t=i;for(;t!==null;)Object.getOwnPropertyNames(t).forEach(o=>{if(e[o])return;let s=t[o];s&&(e[o]=String(s))}),t=Object.getPrototypeOf(t);return e}var kh=m(()=>{w()});function fz(i){U0=i}function be(i){try{U0(i)}catch{}}var U0,Bh=m(()=>{kh();U0=Uh()});var Pt,Vh=m(()=>{(function(i){i.AlwaysOff="always_off",i.AlwaysOn="always_on",i.ParentBasedAlwaysOff="parentbased_always_off",i.ParentBasedAlwaysOn="parentbased_always_on",i.ParentBasedTraceIdRatio="parentbased_traceidratio",i.TraceIdRatio="traceidratio"})(Pt||(Pt={}))});function mz(i){return hz.indexOf(i)>-1}function Ez(i){return _z.indexOf(i)>-1}function gz(i){return Sz.indexOf(i)>-1}function Tz(i,e,t){if(typeof t[i]>"u")return;let o=String(t[i]);e[i]=o.toLowerCase()==="true"}function yz(i,e,t,o=-1/0,s=1/0){if(typeof t[i]<"u"){let a=Number(t[i]);isNaN(a)||(a<o?e[i]=o:a>s?e[i]=s:e[i]=a)}}function vz(i,e,t,o=pz){let s=t[i];typeof s=="string"&&(e[i]=s.split(o).map(a=>a.trim()))}function Oz(i,e,t){let o=t[i];if(typeof o=="string"){let s=Az[o.toUpperCase()];s!=null&&(e[i]=s)}}function Sc(i){let e={};for(let t in Ec){let o=t;switch(o){case"OTEL_LOG_LEVEL":Oz(o,e,i);break;default:if(mz(o))Tz(o,e,i);else if(Ez(o))yz(o,e,i);else if(gz(o))vz(o,e,i);else{let s=i[o];typeof s<"u"&&s!==null&&(e[o]=String(s))}}}return e}var pz,hz,_z,Sz,_n,En,k0,B0,Ec,Az,Fh=m(()=>{w();Vh();pz=",",hz=["OTEL_SDK_DISABLED"];_z=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];Sz=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];_n=1/0,En=128,k0=128,B0=128,Ec={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:ve.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:_n,OTEL_ATTRIBUTE_COUNT_LIMIT:En,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:_n,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:En,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:_n,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:En,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:k0,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:B0,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:Pt.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};Az={ALL:ve.ALL,VERBOSE:ve.VERBOSE,DEBUG:ve.DEBUG,INFO:ve.INFO,WARN:ve.WARN,ERROR:ve.ERROR,NONE:ve.NONE}});function X(){let i=Sc(process.env);return Object.assign({},Ec,i)}function Qi(){return Sc(process.env)}var V0=m(()=>{Fh()});var Rz,F0=m(()=>{Rz=typeof globalThis=="object"?globalThis:global});function q0(i){return i>=48&&i<=57?i-48:i>=97&&i<=102?i-87:i-55}function li(i){let e=new Uint8Array(i.length/2),t=0;for(let o=0;o<i.length;o+=2){let s=q0(i.charCodeAt(o)),a=q0(i.charCodeAt(o+1));e[t++]=s<<4|a}return e}var qh=m(()=>{});function bz(i){return Buffer.from(li(i)).toString("base64")}var G0=m(()=>{qh()});function H0(i){return function(){for(let t=0;t<i/4;t++)gc.writeUInt32BE(Math.random()*2**32>>>0,t*4);for(let t=0;t<i&&!(gc[t]>0);t++)t===i-1&&(gc[i-1]=1);return gc.toString("hex",0,i)}}var Gh,gc,j0=m(()=>{Gh=class{constructor(){this.generateTraceId=H0(16),this.generateSpanId=H0(8)}},gc=Buffer.allocUnsafe(16)});import{performance as Cz}from"perf_hooks";var Kr,z0=m(()=>{Kr=Cz});var Hh,jh=m(()=>{Hh="1.25.1"});var Ks,$0=m(()=>{jh();qt();Ks={[Ki]:"opentelemetry",[oi]:"node",[Wi]:xh,[Xi]:Hh}});function ci(i){i.unref()}var Y0=m(()=>{});var K0=m(()=>{V0();F0();G0();j0();z0();$0();Y0()});var zh=m(()=>{K0()});function st(i){let e=i/1e3,t=Math.trunc(e),o=Math.round(i%1e3*xz);return[t,o]}function Ws(){let i=Kr.timeOrigin;if(typeof i!="number"){let e=Kr;i=e.timing&&e.timing.fetchStart}return i}function yc(i){let e=st(Ws()),t=st(typeof i=="number"?i:Kr.now());return Oc(e,t)}function vc(i){if(Xs(i))return i;if(typeof i=="number")return i<Ws()?yc(i):st(i);if(i instanceof Date)return st(i.getTime());throw TypeError("Invalid input type")}function $h(i,e){let t=e[0]-i[0],o=e[1]-i[1];return o<0&&(t-=1,o+=Tc),[t,o]}function Pz(i){let e=W0,t=`${"0".repeat(e)}${i[1]}Z`,o=t.substr(t.length-e-1);return new Date(i[0]*1e3).toISOString().replace("000Z",o)}function Yh(i){return i[0]*Tc+i[1]}function Iz(i){return i[0]*1e3+i[1]/1e6}function ft(i){return i[0]*1e6+i[1]/1e3}function Xs(i){return Array.isArray(i)&&i.length===2&&typeof i[0]=="number"&&typeof i[1]=="number"}function Ac(i){return Xs(i)||typeof i=="number"||i instanceof Date}function Oc(i,e){let t=[i[0]+e[0],i[1]+e[1]];return t[1]>=Tc&&(t[1]-=Tc,t[0]+=1),t}var W0,Nz,xz,Tc,X0=m(()=>{zh();W0=9,Nz=6,xz=Math.pow(10,Nz),Tc=Math.pow(10,W0)});var J0=m(()=>{});var te,Q0=m(()=>{(function(i){i[i.SUCCESS=0]="SUCCESS",i[i.FAILED=1]="FAILED"})(te||(te={}))});var Js,Z0=m(()=>{w();Js=class{constructor(e={}){var t;this._propagators=(t=e.propagators)!==null&&t!==void 0?t:[],this._fields=Array.from(new Set(this._propagators.map(o=>typeof o.fields=="function"?o.fields():[]).reduce((o,s)=>o.concat(s),[])))}inject(e,t,o){for(let s of this._propagators)try{s.inject(e,t,o)}catch(a){v.warn(`Failed to inject with ${s.constructor.name}. Err: ${a.message}`)}}extract(e,t,o){return this._propagators.reduce((s,a)=>{try{return a.extract(s,t,o)}catch(n){v.warn(`Failed to inject with ${a.constructor.name}. Err: ${n.message}`)}return s},e)}fields(){return this._fields.slice()}}});function ex(i){return wz.test(i)}function tx(i){return Dz.test(i)&&!Uz.test(i)}var Kh,Mz,Lz,wz,Dz,Uz,rx=m(()=>{Kh="[_0-9a-z-*/]",Mz=`[a-z]${Kh}{0,255}`,Lz=`[a-z0-9]${Kh}{0,240}@[a-z]${Kh}{0,13}`,wz=new RegExp(`^(?:${Mz}|${Lz})$`),Dz=/^[ -~]{0,255}[!-~]$/,Uz=/,|=/});var nx,kz,ix,ox,Qs,Wh=m(()=>{rx();nx=32,kz=512,ix=",",ox="=",Qs=class i{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let o=this._clone();return o._internalState.has(e)&&o._internalState.delete(e),o._internalState.set(e,t),o}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+ox+this.get(t)),e),[]).join(ix)}_parse(e){e.length>kz||(this._internalState=e.split(ix).reverse().reduce((t,o)=>{let s=o.trim(),a=s.indexOf(ox);if(a!==-1){let n=s.slice(0,a),r=s.slice(a+1,o.length);ex(n)&&tx(r)&&t.set(n,r)}return t},new Map),this._internalState.size>nx&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,nx))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new i;return e._internalState=new Map(this._internalState),e}}});function sx(i){let e=Hz.exec(i);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}var Rc,bc,Bz,Vz,Fz,qz,Gz,Hz,Zs,ax=m(()=>{w();$s();Wh();Rc="traceparent",bc="tracestate",Bz="00",Vz="(?!ff)[\\da-f]{2}",Fz="(?![0]{32})[\\da-f]{32}",qz="(?![0]{16})[\\da-f]{16}",Gz="[\\da-f]{2}",Hz=new RegExp(`^\\s?(${Vz})-(${Fz})-(${qz})-(${Gz})(-.*)?\\s?$`);Zs=class{inject(e,t,o){let s=fe.getSpanContext(e);if(!s||dt(e)||!je(s))return;let a=`${Bz}-${s.traceId}-${s.spanId}-0${Number(s.traceFlags||he.NONE).toString(16)}`;o.set(t,Rc,a),s.traceState&&o.set(t,bc,s.traceState.serialize())}extract(e,t,o){let s=o.get(t,Rc);if(!s)return e;let a=Array.isArray(s)?s[0]:s;if(typeof a!="string")return e;let n=sx(a);if(!n)return e;n.isRemote=!0;let r=o.get(t,bc);if(r){let l=Array.isArray(r)?r.join(","):r;n.traceState=new Qs(typeof l=="string"?l:void 0)}return fe.setSpanContext(e,n)}fields(){return[Rc,bc]}}});var lx=m(()=>{});function jz(i,e){return i.setValue(Jh,e)}function zz(i){return i.deleteValue(Jh)}function $z(i){return i.getValue(Jh)}var Jh,Xh,cx=m(()=>{w();Jh=Vt("OpenTelemetry SDK Context Key RPC_METADATA");(function(i){i.HTTP="http"})(Xh||(Xh={}))});var Zi,Qh=m(()=>{w();Zi=class{shouldSample(){return{decision:yt.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}});var ui,Zh=m(()=>{w();ui=class{shouldSample(){return{decision:yt.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}});var em,ux=m(()=>{w();Bh();Qh();Zh();em=class{constructor(e){var t,o,s,a;this._root=e.root,this._root||(be(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new ui),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new ui,this._remoteParentNotSampled=(o=e.remoteParentNotSampled)!==null&&o!==void 0?o:new Zi,this._localParentSampled=(s=e.localParentSampled)!==null&&s!==void 0?s:new ui,this._localParentNotSampled=(a=e.localParentNotSampled)!==null&&a!==void 0?a:new Zi}shouldSample(e,t,o,s,a,n){let r=fe.getSpanContext(e);return!r||!je(r)?this._root.shouldSample(e,t,o,s,a,n):r.isRemote?r.traceFlags&he.SAMPLED?this._remoteParentSampled.shouldSample(e,t,o,s,a,n):this._remoteParentNotSampled.shouldSample(e,t,o,s,a,n):r.traceFlags&he.SAMPLED?this._localParentSampled.shouldSample(e,t,o,s,a,n):this._localParentNotSampled.shouldSample(e,t,o,s,a,n)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}});var tm,dx=m(()=>{w();tm=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:or(t)&&this._accumulate(t)<this._upperBound?yt.RECORD_AND_SAMPLED:yt.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let o=0;o<e.length/8;o++){let s=o*8,a=parseInt(e.slice(s,s+8),16);t=(t^a)>>>0}return t}}});function Zz(i,e){return function(t){return i(e(t))}}function rm(i){if(!e$(i)||t$(i)!==Yz)return!1;let e=Qz(i);if(e===null)return!0;let t=hx.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&fx.call(t)===Jz}function e$(i){return i!=null&&typeof i=="object"}function t$(i){return i==null?i===void 0?Wz:Kz:di&&di in Object(i)?r$(i):n$(i)}function r$(i){let e=hx.call(i,di),t=i[di],o=!1;try{i[di]=void 0,o=!0}catch{}let s=mx.call(i);return o&&(e?i[di]=t:delete i[di]),s}function n$(i){return mx.call(i)}var Yz,Kz,Wz,Xz,fx,Jz,Qz,px,hx,di,mx,_x=m(()=>{Yz="[object Object]",Kz="[object Null]",Wz="[object Undefined]",Xz=Function.prototype,fx=Xz.toString,Jz=fx.call(Object),Qz=Zz(Object.getPrototypeOf,Object),px=Object.prototype,hx=px.hasOwnProperty,di=Symbol?Symbol.toStringTag:void 0,mx=px.toString});function ta(...i){let e=i.shift(),t=new WeakMap;for(;i.length>0;)e=Sx(e,i.shift(),0,t);return e}function nm(i){return Nc(i)?i.slice():i}function Sx(i,e,t=0,o){let s;if(!(t>i$)){if(t++,Cc(i)||Cc(e)||gx(e))s=nm(e);else if(Nc(i)){if(s=i.slice(),Nc(e))for(let a=0,n=e.length;a<n;a++)s.push(nm(e[a]));else if(ea(e)){let a=Object.keys(e);for(let n=0,r=a.length;n<r;n++){let l=a[n];s[l]=nm(e[l])}}}else if(ea(i))if(ea(e)){if(!o$(i,e))return e;s=Object.assign({},i);let a=Object.keys(e);for(let n=0,r=a.length;n<r;n++){let l=a[n],c=e[l];if(Cc(c))typeof c>"u"?delete s[l]:s[l]=c;else{let u=s[l],d=c;if(Ex(i,l,o)||Ex(e,l,o))delete s[l];else{if(ea(u)&&ea(d)){let _=o.get(u)||[],E=o.get(d)||[];_.push({obj:i,key:l}),E.push({obj:e,key:l}),o.set(u,_),o.set(d,E)}s[l]=Sx(s[l],c,t,o)}}}}else s=e;return s}}function Ex(i,e,t){let o=t.get(i[e])||[];for(let s=0,a=o.length;s<a;s++){let n=o[s];if(n.key===e&&n.obj===i)return!0}return!1}function Nc(i){return Array.isArray(i)}function gx(i){return typeof i=="function"}function ea(i){return!Cc(i)&&!Nc(i)&&!gx(i)&&typeof i=="object"}function Cc(i){return typeof i=="string"||typeof i=="number"||typeof i=="boolean"||typeof i>"u"||i instanceof Date||i instanceof RegExp||i===null}function o$(i,e){return!(!rm(i)||!rm(e))}var i$,Tx=m(()=>{_x();i$=20});function ra(i,e){let t,o=new Promise(function(a,n){t=setTimeout(function(){n(new xc("Operation timed out."))},e)});return Promise.race([i,o]).then(s=>(clearTimeout(t),s),s=>{throw clearTimeout(t),s})}var xc,yx=m(()=>{xc=class i extends Error{constructor(e){super(e),Object.setPrototypeOf(this,i.prototype)}}});function vx(i,e){return typeof e=="string"?i===e:!!i.match(e)}function s$(i,e){if(!e)return!1;for(let t of e)if(vx(i,t))return!0;return!1}var Ax=m(()=>{});function a$(i){return typeof i=="function"&&typeof i.__original=="function"&&typeof i.__unwrap=="function"&&i.__wrapped===!0}var Ox=m(()=>{});var Pc,Rx=m(()=>{Pc=class{constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}}});var Qe,bx=m(()=>{Rx();Qe=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new Pc}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(t=>this._deferred.resolve(t),t=>this._deferred.reject(t))}catch(t){this._deferred.reject(t)}}return this._deferred.promise}}});function Cx(i,e){return new Promise(t=>{qe.with(zs(qe.active()),()=>{i.export(e,o=>{t(o)})})})}var Nx=m(()=>{w();$s()});var fi={};Ie(fi,{AlwaysOffSampler:()=>Zi,AlwaysOnSampler:()=>ui,AnchoredClock:()=>Dh,BindOnceFuture:()=>Qe,CompositePropagator:()=>Js,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>En,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>_n,DEFAULT_ENVIRONMENT:()=>Ec,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>k0,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>B0,ExportResultCode:()=>te,ParentBasedSampler:()=>em,RPCType:()=>Xh,RandomIdGenerator:()=>Gh,SDK_INFO:()=>Ks,TRACE_PARENT_HEADER:()=>Rc,TRACE_STATE_HEADER:()=>bc,TimeoutError:()=>xc,TraceIdRatioBasedSampler:()=>tm,TraceState:()=>Qs,TracesSamplerValues:()=>Pt,VERSION:()=>Hh,W3CBaggagePropagator:()=>Ys,W3CTraceContextPropagator:()=>Zs,_globalThis:()=>Rz,addHrTimes:()=>Oc,baggageUtils:()=>sr,callWithTimeout:()=>ra,deleteRPCMetadata:()=>zz,getEnv:()=>X,getEnvWithoutDefaults:()=>Qi,getRPCMetadata:()=>$z,getTimeOrigin:()=>Ws,globalErrorHandler:()=>be,hexToBase64:()=>bz,hexToBinary:()=>li,hrTime:()=>yc,hrTimeDuration:()=>$h,hrTimeToMicroseconds:()=>ft,hrTimeToMilliseconds:()=>Iz,hrTimeToNanoseconds:()=>Yh,hrTimeToTimeStamp:()=>Pz,internal:()=>Wr,isAttributeKey:()=>L0,isAttributeValue:()=>ai,isTimeInput:()=>Ac,isTimeInputHrTime:()=>Xs,isTracingSuppressed:()=>dt,isUrlIgnored:()=>s$,isWrapped:()=>a$,loggingErrorHandler:()=>Uh,merge:()=>ta,millisToHrTime:()=>st,otperformance:()=>Kr,parseEnvironment:()=>Sc,parseTraceParent:()=>sx,sanitizeAttributes:()=>si,setGlobalErrorHandler:()=>fz,setRPCMetadata:()=>jz,suppressTracing:()=>zs,timeInputToHrTime:()=>vc,unrefTimer:()=>ci,unsuppressTracing:()=>iz,urlMatches:()=>vx});var Wr,W=m(()=>{I0();M0();D0();Bh();kh();X0();J0();qh();Q0();wh();zh();Z0();ax();lx();cx();Qh();Zh();ux();dx();$s();Wh();Fh();Tx();Vh();yx();Ax();Ox();bx();jh();Nx();Wr={_export:Cx}});function eo(){return`unknown_service:${process.argv0}`}var xx=m(()=>{});var Px=m(()=>{xx()});var im=m(()=>{Px()});var ce,Xr=m(()=>{w();qt();W();im();ce=class i{constructor(e,t){var o;this._attributes=e,this.asyncAttributesPending=t!=null,this._syncAttributes=(o=this._attributes)!==null&&o!==void 0?o:{},this._asyncAttributesPromise=t==null?void 0:t.then(s=>(this._attributes=Object.assign({},this._attributes,s),this.asyncAttributesPending=!1,s),s=>(v.debug("a resource's async attributes promise rejected: %s",s),this.asyncAttributesPending=!1,{}))}static empty(){return i.EMPTY}static default(){return new i({[Yr]:eo(),[Wi]:Ks[Wi],[Ki]:Ks[Ki],[Xi]:Ks[Xi]})}get attributes(){var e;return this.asyncAttributesPending&&v.error("Accessing resource attributes before async attributes settled"),(e=this._attributes)!==null&&e!==void 0?e:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(e){var t;if(!e)return this;let o=Object.assign(Object.assign({},this._syncAttributes),(t=e._syncAttributes)!==null&&t!==void 0?t:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new i(o);let s=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then(([a,n])=>{var r;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),a),(r=e._syncAttributes)!==null&&r!==void 0?r:e.attributes),n)});return new i(o,s)}};ce.EMPTY=new ce({})});var Ix,Mx,om=m(()=>{Ix=i=>{switch(i){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return i}},Mx=i=>{switch(i){case"sunos":return"solaris";case"win32":return"windows";default:return i}}});import*as Lx from"child_process";import*as wx from"util";var to,Ic=m(()=>{to=wx.promisify(Lx.exec)});var Dx={};Ie(Dx,{getMachineId:()=>l$});async function l$(){try{let e=(await to('ioreg -rd1 -c "IOPlatformExpertDevice"')).stdout.split(`
`).find(o=>o.includes("IOPlatformUUID"));if(!e)return"";let t=e.split('" = "');if(t.length===2)return t[1].slice(0,-1)}catch(i){v.debug(`error reading machine id: ${i}`)}return""}var Ux=m(()=>{Ic();w()});var kx={};Ie(kx,{getMachineId:()=>u$});import{promises as c$}from"fs";async function u$(){let i=["/etc/machine-id","/var/lib/dbus/machine-id"];for(let e of i)try{return(await c$.readFile(e,{encoding:"utf8"})).trim()}catch(t){v.debug(`error reading machine id: ${t}`)}return""}var Bx=m(()=>{w()});var Vx={};Ie(Vx,{getMachineId:()=>f$});import{promises as d$}from"fs";async function f$(){try{return(await d$.readFile("/etc/hostid",{encoding:"utf8"})).trim()}catch(i){v.debug(`error reading machine id: ${i}`)}try{return(await to("kenv -q smbios.system.uuid")).stdout.trim()}catch(i){v.debug(`error reading machine id: ${i}`)}return""}var Fx=m(()=>{Ic();w()});var qx={};Ie(qx,{getMachineId:()=>p$});import*as Mc from"process";async function p$(){let i="QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",e="%windir%\\System32\\REG.exe";Mc.arch==="ia32"&&"PROCESSOR_ARCHITEW6432"in Mc.env&&(e="%windir%\\sysnative\\cmd.exe /c "+e);try{let o=(await to(`${e} ${i}`)).stdout.split("REG_SZ");if(o.length===2)return o[1].trim()}catch(t){v.debug(`error reading machine id: ${t}`)}return""}var Gx=m(()=>{Ic();w()});var Hx={};Ie(Hx,{getMachineId:()=>h$});async function h$(){return v.debug("could not read machine-id: unsupported platform"),""}var jx=m(()=>{w()});import*as zx from"process";var pi,$x=m(()=>{switch(zx.platform){case"darwin":({getMachineId:pi}=(Ux(),ee(Dx)));break;case"linux":({getMachineId:pi}=(Bx(),ee(kx)));break;case"freebsd":({getMachineId:pi}=(Fx(),ee(Vx)));break;case"win32":({getMachineId:pi}=(Gx(),ee(qx)));break;default:({getMachineId:pi}=(jx(),ee(Hx)))}});import{arch as m$,hostname as _$}from"os";var sm,hi,am=m(()=>{qt();Xr();om();$x();sm=class{detect(e){let t={[Sh]:_$(),[gh]:Ix(m$())};return new ce(t,this._getAsyncAttributes())}_getAsyncAttributes(){return pi().then(e=>{let t={};return e&&(t[Eh]=e),t})}},hi=new sm});var lm,na,Yx=m(()=>{am();lm=class{detect(e){return Promise.resolve(hi.detect(e))}},na=new lm});import{platform as E$,release as S$}from"os";var cm,mi,um=m(()=>{qt();Xr();om();cm=class{detect(e){let t={[Th]:Mx(E$()),[yh]:S$()};return new ce(t)}},mi=new cm});var dm,ia,Kx=m(()=>{um();dm=class{detect(e){return Promise.resolve(mi.detect(e))}},ia=new dm});import*as Wx from"os";var fm,_i,pm=m(()=>{w();qt();Xr();fm=class{detect(e){let t={[vh]:process.pid,[Ah]:process.title,[Oh]:process.execPath,[bh]:[process.argv[0],...process.execArgv,...process.argv.slice(1)],[Yi]:process.versions.node,[oi]:"nodejs",[js]:"Node.js"};process.argv.length>1&&(t[Rh]=process.argv[1]);try{let o=Wx.userInfo();t[Ch]=o.username}catch(o){v.debug(`error obtaining process owner: ${o}`)}return new ce(t)}},_i=new fm});var hm,oa,Xx=m(()=>{pm();hm=class{detect(e){return Promise.resolve(_i.detect(e))}},oa=new hm});import{randomUUID as g$}from"crypto";var mm,sa,Jx=m(()=>{qt();Xr();mm=class{detect(e){let t={[Nh]:g$()};return new ce(t)}},sa=new mm});var Qx=m(()=>{Yx();am();Kx();um();Xx();pm();Jx()});var Zx=m(()=>{Qx()});var _m,aa,Em=m(()=>{qt();w();Xr();_m=class{detect(e){var t,o,s;if(!(typeof navigator<"u"&&((o=(t=global.process)===null||t===void 0?void 0:t.versions)===null||o===void 0?void 0:o.node)===void 0&&((s=global.Bun)===null||s===void 0?void 0:s.version)===void 0))return ce.empty();let n={[oi]:"browser",[js]:"Web Browser",[Yi]:navigator.userAgent};return this._getResourceAttributes(n,e)}_getResourceAttributes(e,t){return e[Yi]===""?(v.debug("BrowserDetector failed: Unable to find required browser resources. "),ce.empty()):new ce(Object.assign({},e))}},aa=new _m});var Sm,gm,eP=m(()=>{Em();Sm=class{detect(e){return Promise.resolve(aa.detect(e))}},gm=new Sm});var Tm,la,ym=m(()=>{w();W();qt();Xr();Tm=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}detect(e){let t={},o=X(),s=o.OTEL_RESOURCE_ATTRIBUTES,a=o.OTEL_SERVICE_NAME;if(s)try{let n=this._parseResourceAttributes(s);Object.assign(t,n)}catch(n){v.debug(`EnvDetector failed: ${n.message}`)}return a&&(t[Yr]=a),new ce(t)}_parseResourceAttributes(e){if(!e)return{};let t={},o=e.split(this._COMMA_SEPARATOR,-1);for(let s of o){let a=s.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(a.length!==2)continue;let[n,r]=a;if(n=n.trim(),r=r.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(n))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(r))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);t[n]=decodeURIComponent(r)}return t}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)}_isBaggageOctetString(e){for(let t=0;t<e.length;t++){let o=e.charCodeAt(t);if(o<33||o===44||o===59||o===92||o>126)return!1}return!0}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}},la=new Tm});var vm,Am,tP=m(()=>{ym();vm=class{detect(e){return Promise.resolve(la.detect(e))}},Am=new vm});var rP=m(()=>{Zx();eP();tP();Em();ym()});var nP,iP=m(()=>{nP=i=>i!==null&&typeof i=="object"&&typeof i.then=="function"});var oP,sP,aP,lP=m(()=>{Xr();w();iP();oP=async(i={})=>{let e=await Promise.all((i.detectors||[]).map(async t=>{try{let o=await t.detect(i);return v.debug(`${t.constructor.name} found resource.`,o),o}catch(o){return v.debug(`${t.constructor.name} failed: ${o.message}`),ce.empty()}}));return aP(e),e.reduce((t,o)=>t.merge(o),ce.empty())},sP=(i={})=>{var e;let t=((e=i.detectors)!==null&&e!==void 0?e:[]).map(s=>{try{let a=s.detect(i),n;if(nP(a)){let r=async()=>(await a).attributes;n=new ce({},r())}else n=a;return n.waitForAsyncAttributes?n.waitForAsyncAttributes().then(()=>v.debug(`${s.constructor.name} found resource.`,n)):v.debug(`${s.constructor.name} found resource.`,n),n}catch(a){return v.error(`${s.constructor.name} failed: ${a.message}`),ce.empty()}}),o=t.reduce((s,a)=>s.merge(a),ce.empty());return o.waitForAsyncAttributes&&o.waitForAsyncAttributes().then(()=>{aP(t)}),o},aP=i=>{i.forEach(e=>{if(Object.keys(e.attributes).length>0){let t=JSON.stringify(e.attributes,null,4);v.verbose(t)}})}});var Lc={};Ie(Lc,{Resource:()=>ce,browserDetector:()=>gm,browserDetectorSync:()=>aa,defaultServiceName:()=>eo,detectResources:()=>oP,detectResourcesSync:()=>sP,envDetector:()=>Am,envDetectorSync:()=>la,hostDetector:()=>na,hostDetectorSync:()=>hi,osDetector:()=>ia,osDetectorSync:()=>mi,processDetector:()=>oa,processDetectorSync:()=>_i,serviceInstanceIdDetectorSync:()=>sa});var Sn=m(()=>{Xr();im();rP();lP()});var cP=m(()=>{});var uP=m(()=>{});var Om,dP=m(()=>{(function(i){i[i.UNSPECIFIED=0]="UNSPECIFIED",i[i.TRACE=1]="TRACE",i[i.TRACE2=2]="TRACE2",i[i.TRACE3=3]="TRACE3",i[i.TRACE4=4]="TRACE4",i[i.DEBUG=5]="DEBUG",i[i.DEBUG2=6]="DEBUG2",i[i.DEBUG3=7]="DEBUG3",i[i.DEBUG4=8]="DEBUG4",i[i.INFO=9]="INFO",i[i.INFO2=10]="INFO2",i[i.INFO3=11]="INFO3",i[i.INFO4=12]="INFO4",i[i.WARN=13]="WARN",i[i.WARN2=14]="WARN2",i[i.WARN3=15]="WARN3",i[i.WARN4=16]="WARN4",i[i.ERROR=17]="ERROR",i[i.ERROR2=18]="ERROR2",i[i.ERROR3=19]="ERROR3",i[i.ERROR4=20]="ERROR4",i[i.FATAL=21]="FATAL",i[i.FATAL2=22]="FATAL2",i[i.FATAL3=23]="FATAL3",i[i.FATAL4=24]="FATAL4"})(Om||(Om={}))});var fP=m(()=>{});var pP=m(()=>{});var ro,Rm,bm=m(()=>{ro=class{emit(e){}},Rm=new ro});var wc,Dc,Cm=m(()=>{bm();wc=class{getLogger(e,t,o){return new ro}},Dc=new wc});var hP,mP=m(()=>{hP=typeof globalThis=="object"?globalThis:global});var _P=m(()=>{mP()});var EP=m(()=>{_P()});function SP(i,e,t){return o=>o===i?e:t}var ca,no,Nm,gP=m(()=>{EP();ca=Symbol.for("io.opentelemetry.js.api.logs"),no=hP;Nm=1});var Uc,TP=m(()=>{gP();Cm();Uc=class i{constructor(){}static getInstance(){return this._instance||(this._instance=new i),this._instance}setGlobalLoggerProvider(e){return no[ca]?this.getLoggerProvider():(no[ca]=SP(Nm,e,Dc),e)}getLoggerProvider(){var e,t;return(t=(e=no[ca])===null||e===void 0?void 0:e.call(no,Nm))!==null&&t!==void 0?t:Dc}getLogger(e,t,o){return this.getLoggerProvider().getLogger(e,t,o)}disable(){delete no[ca]}}});var yP={};Ie(yP,{NOOP_LOGGER:()=>Rm,NOOP_LOGGER_PROVIDER:()=>Dc,NoopLogger:()=>ro,NoopLoggerProvider:()=>wc,SeverityNumber:()=>Om,logs:()=>ua});var ua,da=m(()=>{cP();uP();dP();fP();pP();bm();Cm();TP();ua=Uc.getInstance()});var io,xm=m(()=>{w();w();W();io=class{constructor(e,t,o){this.attributes={},this.totalAttributesCount=0,this._isReadonly=!1;let{timestamp:s,observedTimestamp:a,severityNumber:n,severityText:r,body:l,attributes:c={},context:u}=o,d=Date.now();if(this.hrTime=vc(s??d),this.hrTimeObserved=vc(a??d),u){let _=fe.getSpanContext(u);_&&je(_)&&(this.spanContext=_)}this.severityNumber=n,this.severityText=r,this.body=l,this.resource=e.resource,this.instrumentationScope=t,this._logRecordLimits=e.logRecordLimits,this.setAttributes(c)}set severityText(e){this._isLogRecordReadonly()||(this._severityText=e)}get severityText(){return this._severityText}set severityNumber(e){this._isLogRecordReadonly()||(this._severityNumber=e)}get severityNumber(){return this._severityNumber}set body(e){this._isLogRecordReadonly()||(this._body=e)}get body(){return this._body}get droppedAttributesCount(){return this.totalAttributesCount-Object.keys(this.attributes).length}setAttribute(e,t){return this._isLogRecordReadonly()?this:t===null?this:e.length===0?(v.warn(`Invalid attribute key: ${e}`),this):!ai(t)&&!(typeof t=="object"&&!Array.isArray(t)&&Object.keys(t).length>0)?(v.warn(`Invalid attribute value set for key: ${e}`),this):(this.totalAttributesCount+=1,Object.keys(this.attributes).length>=this._logRecordLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this.droppedAttributesCount===1&&v.warn("Dropping extra attributes."),this):(ai(t)?this.attributes[e]=this._truncateToSize(t):this.attributes[e]=t,this))}setAttributes(e){for(let[t,o]of Object.entries(e))this.setAttribute(t,o);return this}setBody(e){return this.body=e,this}setSeverityNumber(e){return this.severityNumber=e,this}setSeverityText(e){return this.severityText=e,this}_makeReadonly(){this._isReadonly=!0}_truncateToSize(e){let t=this._logRecordLimits.attributeValueLengthLimit;return t<=0?(v.warn(`Attribute value limit must be positive, got ${t}`),e):typeof e=="string"?this._truncateToLimitUtil(e,t):Array.isArray(e)?e.map(o=>typeof o=="string"?this._truncateToLimitUtil(o,t):o):e}_truncateToLimitUtil(e,t){return e.length<=t?e:e.substring(0,t)}_isLogRecordReadonly(){return this._isReadonly&&v.warn("Can not execute the operation on emitted log record"),this._isReadonly}}});var kc,vP=m(()=>{w();xm();kc=class{constructor(e,t){this.instrumentationScope=e,this._sharedState=t}emit(e){let t=e.context||qe.active(),o=new io(this._sharedState,this.instrumentationScope,Object.assign({context:t},e));this._sharedState.activeProcessor.onEmit(o,t),o._makeReadonly()}}});function AP(){return{forceFlushTimeoutMillis:3e4,logRecordLimits:{attributeValueLengthLimit:X().OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:X().OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT},includeTraceContext:!0}}function OP(i){var e,t,o,s,a,n;let r=Qi();return{attributeCountLimit:(o=(t=(e=i.attributeCountLimit)!==null&&e!==void 0?e:r.OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT)!==null&&t!==void 0?t:r.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&o!==void 0?o:En,attributeValueLengthLimit:(n=(a=(s=i.attributeValueLengthLimit)!==null&&s!==void 0?s:r.OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&a!==void 0?a:r.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&n!==void 0?n:_n}}var RP=m(()=>{W()});var Bc,bP=m(()=>{W();Bc=class{constructor(e,t){this.processors=e,this.forceFlushTimeoutMillis=t}async forceFlush(){let e=this.forceFlushTimeoutMillis;await Promise.all(this.processors.map(t=>ra(t.forceFlush(),e)))}onEmit(e,t){this.processors.forEach(o=>o.onEmit(e,t))}async shutdown(){await Promise.all(this.processors.map(e=>e.shutdown()))}}});var oo,Pm=m(()=>{oo=class{forceFlush(){return Promise.resolve()}onEmit(e,t){}shutdown(){return Promise.resolve()}}});var Vc,CP=m(()=>{Pm();Vc=class{constructor(e,t,o){this.resource=e,this.forceFlushTimeoutMillis=t,this.logRecordLimits=o,this.loggers=new Map,this.registeredLogRecordProcessors=[],this.activeProcessor=new oo}}});var T$,Fc,NP=m(()=>{w();da();Sn();W();vP();RP();bP();CP();T$="unknown",Fc=class{constructor(e={}){var t;let o=ta({},AP(),e),s=ce.default().merge((t=o.resource)!==null&&t!==void 0?t:ce.empty());this._sharedState=new Vc(s,o.forceFlushTimeoutMillis,OP(o.logRecordLimits)),this._shutdownOnce=new Qe(this._shutdown,this)}getLogger(e,t,o){if(this._shutdownOnce.isCalled)return v.warn("A shutdown LoggerProvider cannot provide a Logger"),Rm;e||v.warn("Logger requested without instrumentation scope name.");let s=e||T$,a=`${s}@${t||""}:${(o==null?void 0:o.schemaUrl)||""}`;return this._sharedState.loggers.has(a)||this._sharedState.loggers.set(a,new kc({name:s,version:t,schemaUrl:o==null?void 0:o.schemaUrl},this._sharedState)),this._sharedState.loggers.get(a)}addLogRecordProcessor(e){this._sharedState.registeredLogRecordProcessors.length===0&&this._sharedState.activeProcessor.shutdown().catch(t=>v.error("Error while trying to shutdown current log record processor",t)),this._sharedState.registeredLogRecordProcessors.push(e),this._sharedState.activeProcessor=new Bc(this._sharedState.registeredLogRecordProcessors,this._sharedState.forceFlushTimeoutMillis)}forceFlush(){return this._shutdownOnce.isCalled?(v.warn("invalid attempt to force flush after LoggerProvider shutdown"),this._shutdownOnce.promise):this._sharedState.activeProcessor.forceFlush()}shutdown(){return this._shutdownOnce.isCalled?(v.warn("shutdown may only be called once per LoggerProvider"),this._shutdownOnce.promise):this._shutdownOnce.call()}_shutdown(){return this._sharedState.activeProcessor.shutdown()}}});var qc,xP=m(()=>{W();W();qc=class{export(e,t){this._sendLogRecords(e,t)}shutdown(){return Promise.resolve()}_exportInfo(e){var t,o,s;return{resource:{attributes:e.resource.attributes},timestamp:ft(e.hrTime),traceId:(t=e.spanContext)===null||t===void 0?void 0:t.traceId,spanId:(o=e.spanContext)===null||o===void 0?void 0:o.spanId,traceFlags:(s=e.spanContext)===null||s===void 0?void 0:s.traceFlags,severityText:e.severityText,severityNumber:e.severityNumber,body:e.body,attributes:e.attributes}}_sendLogRecords(e,t){for(let o of e)console.dir(this._exportInfo(o),{depth:3});t==null||t({code:te.SUCCESS})}}});var Gc,PP=m(()=>{W();Gc=class{constructor(e){this._exporter=e,this._shutdownOnce=new Qe(this._shutdown,this),this._unresolvedExports=new Set}onEmit(e){var t,o;if(this._shutdownOnce.isCalled)return;let s=()=>Wr._export(this._exporter,[e]).then(a=>{var n;a.code!==te.SUCCESS&&be((n=a.error)!==null&&n!==void 0?n:new Error(`SimpleLogRecordProcessor: log record export failed (status ${a})`))}).catch(be);if(e.resource.asyncAttributesPending){let a=(o=(t=e.resource).waitForAsyncAttributes)===null||o===void 0?void 0:o.call(t).then(()=>(this._unresolvedExports.delete(a),s()),be);a!=null&&this._unresolvedExports.add(a)}else s()}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports))}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}}});var Hc,IP=m(()=>{W();Hc=class{constructor(){this._finishedLogRecords=[],this._stopped=!1}export(e,t){if(this._stopped)return t({code:te.FAILED,error:new Error("Exporter has been stopped")});this._finishedLogRecords.push(...e),t({code:te.SUCCESS})}shutdown(){return this._stopped=!0,this.reset(),Promise.resolve()}getFinishedLogRecords(){return this._finishedLogRecords}reset(){this._finishedLogRecords=[]}}});var jc,MP=m(()=>{w();W();jc=class{constructor(e,t){var o,s,a,n;this._exporter=e,this._finishedLogRecords=[];let r=X();this._maxExportBatchSize=(o=t==null?void 0:t.maxExportBatchSize)!==null&&o!==void 0?o:r.OTEL_BLRP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=(s=t==null?void 0:t.maxQueueSize)!==null&&s!==void 0?s:r.OTEL_BLRP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=(a=t==null?void 0:t.scheduledDelayMillis)!==null&&a!==void 0?a:r.OTEL_BLRP_SCHEDULE_DELAY,this._exportTimeoutMillis=(n=t==null?void 0:t.exportTimeoutMillis)!==null&&n!==void 0?n:r.OTEL_BLRP_EXPORT_TIMEOUT,this._shutdownOnce=new Qe(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(v.warn("BatchLogRecordProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}onEmit(e){this._shutdownOnce.isCalled||this._addToBuffer(e)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}shutdown(){return this._shutdownOnce.call()}async _shutdown(){this.onShutdown(),await this._flushAll(),await this._exporter.shutdown()}_addToBuffer(e){this._finishedLogRecords.length>=this._maxQueueSize||(this._finishedLogRecords.push(e),this._maybeStartTimer())}_flushAll(){return new Promise((e,t)=>{let o=[],s=Math.ceil(this._finishedLogRecords.length/this._maxExportBatchSize);for(let a=0;a<s;a++)o.push(this._flushOneBatch());Promise.all(o).then(()=>{e()}).catch(t)})}_flushOneBatch(){return this._clearTimer(),this._finishedLogRecords.length===0?Promise.resolve():new Promise((e,t)=>{ra(this._export(this._finishedLogRecords.splice(0,this._maxExportBatchSize)),this._exportTimeoutMillis).then(()=>e()).catch(t)})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedLogRecords.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(e=>{be(e)})},this._scheduledDelayMillis),ci(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}_export(e){let t=()=>Wr._export(this._exporter,e).then(s=>{var a;s.code!==te.SUCCESS&&be((a=s.error)!==null&&a!==void 0?a:new Error(`BatchLogRecordProcessor: log record export failed (status ${s})`))}).catch(be),o=e.map(s=>s.resource).filter(s=>s.asyncAttributesPending);return o.length===0?t():Promise.all(o.map(s=>{var a;return(a=s.waitForAsyncAttributes)===null||a===void 0?void 0:a.call(s)})).then(t,be)}}});var so,LP=m(()=>{MP();so=class extends jc{onShutdown(){}}});var wP=m(()=>{LP()});var DP=m(()=>{wP()});var Im={};Ie(Im,{BatchLogRecordProcessor:()=>so,ConsoleLogRecordExporter:()=>qc,InMemoryLogRecordExporter:()=>Hc,LogRecord:()=>io,LoggerProvider:()=>Fc,NoopLogRecordProcessor:()=>oo,SimpleLogRecordProcessor:()=>Gc});var Mm=m(()=>{NP();xm();Pm();xP();PP();IP();DP()});var ar,zc=m(()=>{(function(i){i[i.DELTA=0]="DELTA",i[i.CUMULATIVE=1]="CUMULATIVE"})(ar||(ar={}))});var Ze,ao=m(()=>{(function(i){i[i.HISTOGRAM=0]="HISTOGRAM",i[i.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",i[i.GAUGE=2]="GAUGE",i[i.SUM=3]="SUM"})(Ze||(Ze={}))});function UP(i){return i!=null}function kP(i){let e=Object.keys(i);return e.length===0?"":(e=e.sort(),JSON.stringify(e.map(t=>[t,i[t]])))}function BP(i){var e,t;return`${i.name}:${(e=i.version)!==null&&e!==void 0?e:""}:${(t=i.schemaUrl)!==null&&t!==void 0?t:""}`}function gn(i,e){let t,o=new Promise(function(a,n){t=setTimeout(function(){n(new Ei("Operation timed out."))},e)});return Promise.race([i,o]).then(s=>(clearTimeout(t),s),s=>{throw clearTimeout(t),s})}async function VP(i){return Promise.all(i.map(async e=>{try{return{status:"fulfilled",value:await e}}catch(t){return{status:"rejected",reason:t}}}))}function FP(i){return i.status==="rejected"}function Lm(i,e){let t=[];return i.forEach(o=>{t.push(...e(o))}),t}function qP(i,e){if(i.size!==e.size)return!1;for(let t of i)if(!e.has(t))return!1;return!0}function GP(i,e){let t=0,o=i.length-1;for(;o-t>1;){let s=Math.trunc((o+t)/2);i[s]<=e?t=s:o=s-1}return i[o]<=e?o:i[t]<=e?t:-1}function HP(i,e){return i.toLowerCase()===e.toLowerCase()}var Ei,yr=m(()=>{Ei=class i extends Error{constructor(e){super(e),Object.setPrototypeOf(this,i.prototype)}}});var Gt,lo=m(()=>{(function(i){i[i.DROP=0]="DROP",i[i.SUM=1]="SUM",i[i.LAST_VALUE=2]="LAST_VALUE",i[i.HISTOGRAM=3]="HISTOGRAM",i[i.EXPONENTIAL_HISTOGRAM=4]="EXPONENTIAL_HISTOGRAM"})(Gt||(Gt={}))});var $c,jP=m(()=>{lo();$c=class{constructor(){this.kind=Gt.DROP}createAccumulation(){}merge(e,t){}diff(e,t){}toMetricData(e,t,o,s){}}});function vr(i,e,t){var o,s,a,n;return v$(i)||v.warn(`Invalid metric name: "${i}". The metric name should be a ASCII string with a length no greater than 255 characters.`),{name:i,type:e,description:(o=t==null?void 0:t.description)!==null&&o!==void 0?o:"",unit:(s=t==null?void 0:t.unit)!==null&&s!==void 0?s:"",valueType:(a=t==null?void 0:t.valueType)!==null&&a!==void 0?a:Tt.DOUBLE,advice:(n=t==null?void 0:t.advice)!==null&&n!==void 0?n:{}}}function zP(i,e){var t,o;return{name:(t=i.name)!==null&&t!==void 0?t:e.name,description:(o=i.description)!==null&&o!==void 0?o:e.description,type:e.type,unit:e.unit,valueType:e.valueType,advice:e.advice}}function $P(i,e){return HP(i.name,e.name)&&i.unit===e.unit&&i.type===e.type&&i.valueType===e.valueType}function v$(i){return i.match(y$)!=null}var me,y$,Jr=m(()=>{w();yr();(function(i){i.COUNTER="COUNTER",i.GAUGE="GAUGE",i.HISTOGRAM="HISTOGRAM",i.UP_DOWN_COUNTER="UP_DOWN_COUNTER",i.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",i.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",i.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})(me||(me={}));y$=/^[a-z][a-z0-9_.\-/]{0,254}$/i});function A$(i){let e=i.map(()=>0);return e.push(0),{buckets:{boundaries:i,counts:e},sum:0,count:0,hasMinMax:!1,min:1/0,max:-1/0}}var fa,pa,YP=m(()=>{lo();ao();Jr();yr();fa=class{constructor(e,t,o=!0,s=A$(t)){this.startTime=e,this._boundaries=t,this._recordMinMax=o,this._current=s}record(e){if(Number.isNaN(e))return;this._current.count+=1,this._current.sum+=e,this._recordMinMax&&(this._current.min=Math.min(e,this._current.min),this._current.max=Math.max(e,this._current.max),this._current.hasMinMax=!0);let t=GP(this._boundaries,e);this._current.buckets.counts[t+1]+=1}setStartTime(e){this.startTime=e}toPointValue(){return this._current}},pa=class{constructor(e,t){this._boundaries=e,this._recordMinMax=t,this.kind=Gt.HISTOGRAM}createAccumulation(e){return new fa(e,this._boundaries,this._recordMinMax)}merge(e,t){let o=e.toPointValue(),s=t.toPointValue(),a=o.buckets.counts,n=s.buckets.counts,r=new Array(a.length);for(let u=0;u<a.length;u++)r[u]=a[u]+n[u];let l=1/0,c=-1/0;return this._recordMinMax&&(o.hasMinMax&&s.hasMinMax?(l=Math.min(o.min,s.min),c=Math.max(o.max,s.max)):o.hasMinMax?(l=o.min,c=o.max):s.hasMinMax&&(l=s.min,c=s.max)),new fa(e.startTime,o.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:o.buckets.boundaries,counts:r},count:o.count+s.count,sum:o.sum+s.sum,hasMinMax:this._recordMinMax&&(o.hasMinMax||s.hasMinMax),min:l,max:c})}diff(e,t){let o=e.toPointValue(),s=t.toPointValue(),a=o.buckets.counts,n=s.buckets.counts,r=new Array(a.length);for(let l=0;l<a.length;l++)r[l]=n[l]-a[l];return new fa(t.startTime,o.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:o.buckets.boundaries,counts:r},count:s.count-o.count,sum:s.sum-o.sum,hasMinMax:!1,min:1/0,max:-1/0})}toMetricData(e,t,o,s){return{descriptor:e,aggregationTemporality:t,dataPointType:Ze.HISTOGRAM,dataPoints:o.map(([a,n])=>{let r=n.toPointValue(),l=e.type===me.GAUGE||e.type===me.UP_DOWN_COUNTER||e.type===me.OBSERVABLE_GAUGE||e.type===me.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:a,startTime:n.startTime,endTime:s,value:{min:r.hasMinMax?r.min:void 0,max:r.hasMinMax?r.max:void 0,sum:l?void 0:r.sum,buckets:r.buckets,count:r.count}}})}}}});var ha,wm,KP=m(()=>{ha=class i{constructor(e=new wm,t=0,o=0,s=0){this.backing=e,this.indexBase=t,this.indexStart=o,this.indexEnd=s}get offset(){return this.indexStart}get length(){return this.backing.length===0||this.indexEnd===this.indexStart&&this.at(0)===0?0:this.indexEnd-this.indexStart+1}counts(){return Array.from({length:this.length},(e,t)=>this.at(t))}at(e){let t=this.indexBase-this.indexStart;return e<t&&(e+=this.backing.length),e-=t,this.backing.countAt(e)}incrementBucket(e,t){this.backing.increment(e,t)}decrementBucket(e,t){this.backing.decrement(e,t)}trim(){for(let e=0;e<this.length;e++)if(this.at(e)!==0){this.indexStart+=e;break}else if(e===this.length-1){this.indexStart=this.indexEnd=this.indexBase=0;return}for(let e=this.length-1;e>=0;e--)if(this.at(e)!==0){this.indexEnd-=this.length-e-1;break}this._rotate()}downscale(e){this._rotate();let t=1+this.indexEnd-this.indexStart,o=1<<e,s=0,a=0;for(let n=this.indexStart;n<=this.indexEnd;){let r=n%o;r<0&&(r+=o);for(let l=r;l<o&&s<t;l++)this._relocateBucket(a,s),s++,n++;a++}this.indexStart>>=e,this.indexEnd>>=e,this.indexBase=this.indexStart}clone(){return new i(this.backing.clone(),this.indexBase,this.indexStart,this.indexEnd)}_rotate(){let e=this.indexBase-this.indexStart;e!==0&&(e>0?(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,e),this.backing.reverse(e,this.backing.length)):(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,this.backing.length+e)),this.indexBase=this.indexStart)}_relocateBucket(e,t){e!==t&&this.incrementBucket(e,this.backing.emptyBucket(t))}},wm=class i{constructor(e=[0]){this._counts=e}get length(){return this._counts.length}countAt(e){return this._counts[e]}growTo(e,t,o){let s=new Array(e).fill(0);s.splice(o,this._counts.length-t,...this._counts.slice(t)),s.splice(0,t,...this._counts.slice(0,t)),this._counts=s}reverse(e,t){let o=Math.floor((e+t)/2)-e;for(let s=0;s<o;s++){let a=this._counts[e+s];this._counts[e+s]=this._counts[t-s-1],this._counts[t-s-1]=a}}emptyBucket(e){let t=this._counts[e];return this._counts[e]=0,t}increment(e,t){this._counts[e]+=t}decrement(e,t){this._counts[e]>=t?this._counts[e]-=t:this._counts[e]=0}clone(){return new i([...this._counts])}}});function Yc(i){let e=new DataView(new ArrayBuffer(8));return e.setFloat64(0,i),((e.getUint32(0)&2146435072)>>20)-1023}function Kc(i){let e=new DataView(new ArrayBuffer(8));e.setFloat64(0,i);let t=e.getUint32(0),o=e.getUint32(4);return(t&1048575)*Math.pow(2,32)+o}var ma,Dm=m(()=>{ma=Math.pow(2,-1022)});function _a(i,e){return i===0||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY||Number.isNaN(i)?i:i*Math.pow(2,e)}function XP(i){return i--,i|=i>>1,i|=i>>2,i|=i>>4,i|=i>>8,i|=i>>16,i++,i}var Wc=m(()=>{});var Ar,Xc=m(()=>{Ar=class extends Error{}});var Jc,QP=m(()=>{Dm();Wc();Xc();Jc=class{constructor(e){this._shift=-e}mapToIndex(e){if(e<ma)return this._minNormalLowerBoundaryIndex();let t=Yc(e),o=this._rightShift(Kc(e)-1,52);return t+o>>this._shift}lowerBoundary(e){let t=this._minNormalLowerBoundaryIndex();if(e<t)throw new Ar(`underflow: ${e} is < minimum lower boundary: ${t}`);let o=this._maxNormalLowerBoundaryIndex();if(e>o)throw new Ar(`overflow: ${e} is > maximum lower boundary: ${o}`);return _a(1,e<<this._shift)}get scale(){return this._shift===0?0:-this._shift}_minNormalLowerBoundaryIndex(){let e=-1022>>this._shift;return this._shift<2&&e--,e}_maxNormalLowerBoundaryIndex(){return 1023>>this._shift}_rightShift(e,t){return Math.floor(e*Math.pow(2,-t))}}});var Qc,ZP=m(()=>{Dm();Wc();Xc();Qc=class{constructor(e){this._scale=e,this._scaleFactor=_a(Math.LOG2E,e),this._inverseFactor=_a(Math.LN2,-e)}mapToIndex(e){if(e<=ma)return this._minNormalLowerBoundaryIndex()-1;if(Kc(e)===0)return(Yc(e)<<this._scale)-1;let t=Math.floor(Math.log(e)*this._scaleFactor),o=this._maxNormalLowerBoundaryIndex();return t>=o?o:t}lowerBoundary(e){let t=this._maxNormalLowerBoundaryIndex();if(e>=t){if(e===t)return 2*Math.exp((e-(1<<this._scale))/this._scaleFactor);throw new Ar(`overflow: ${e} is > maximum lower boundary: ${t}`)}let o=this._minNormalLowerBoundaryIndex();if(e<=o){if(e===o)return ma;if(e===o-1)return Math.exp((e+(1<<this._scale))/this._scaleFactor)/2;throw new Ar(`overflow: ${e} is < minimum lower boundary: ${o}`)}return Math.exp(e*this._inverseFactor)}get scale(){return this._scale}_minNormalLowerBoundaryIndex(){return-1022<<this._scale}_maxNormalLowerBoundaryIndex(){return(1024<<this._scale)-1}}});function Bm(i){if(i>tI||i<eI)throw new Ar(`expected scale >= ${eI} && <= ${tI}, got: ${i}`);return R$[i+10]}var eI,tI,R$,rI=m(()=>{QP();ZP();Xc();eI=-10,tI=20,R$=Array.from({length:31},(i,e)=>e>10?new Qc(e-10):new Jc(e-10))});var co,b$,C$,Vm,Fm,Zc,nI=m(()=>{lo();ao();w();Jr();KP();rI();Wc();co=class i{constructor(e,t){this.low=e,this.high=t}static combine(e,t){return new i(Math.min(e.low,t.low),Math.max(e.high,t.high))}},b$=20,C$=160,Vm=2,Fm=class i{constructor(e=e,t=C$,o=!0,s=0,a=0,n=0,r=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,c=new ha,u=new ha,d=Bm(b$)){this.startTime=e,this._maxSize=t,this._recordMinMax=o,this._sum=s,this._count=a,this._zeroCount=n,this._min=r,this._max=l,this._positive=c,this._negative=u,this._mapping=d,this._maxSize<Vm&&(v.warn(`Exponential Histogram Max Size set to ${this._maxSize},                 changing to the minimum size of: ${Vm}`),this._maxSize=Vm)}record(e){this.updateByIncrement(e,1)}setStartTime(e){this.startTime=e}toPointValue(){return{hasMinMax:this._recordMinMax,min:this.min,max:this.max,sum:this.sum,positive:{offset:this.positive.offset,bucketCounts:this.positive.counts()},negative:{offset:this.negative.offset,bucketCounts:this.negative.counts()},count:this.count,scale:this.scale,zeroCount:this.zeroCount}}get sum(){return this._sum}get min(){return this._min}get max(){return this._max}get count(){return this._count}get zeroCount(){return this._zeroCount}get scale(){return this._count===this._zeroCount?0:this._mapping.scale}get positive(){return this._positive}get negative(){return this._negative}updateByIncrement(e,t){if(!Number.isNaN(e)){if(e>this._max&&(this._max=e),e<this._min&&(this._min=e),this._count+=t,e===0){this._zeroCount+=t;return}this._sum+=e*t,e>0?this._updateBuckets(this._positive,e,t):this._updateBuckets(this._negative,-e,t)}}merge(e){this._count===0?(this._min=e.min,this._max=e.max):e.count!==0&&(e.min<this.min&&(this._min=e.min),e.max>this.max&&(this._max=e.max)),this.startTime=e.startTime,this._sum+=e.sum,this._count+=e.count,this._zeroCount+=e.zeroCount;let t=this._minScale(e);this._downscale(this.scale-t),this._mergeBuckets(this.positive,e,e.positive,t),this._mergeBuckets(this.negative,e,e.negative,t)}diff(e){this._min=1/0,this._max=-1/0,this._sum-=e.sum,this._count-=e.count,this._zeroCount-=e.zeroCount;let t=this._minScale(e);this._downscale(this.scale-t),this._diffBuckets(this.positive,e,e.positive,t),this._diffBuckets(this.negative,e,e.negative,t)}clone(){return new i(this.startTime,this._maxSize,this._recordMinMax,this._sum,this._count,this._zeroCount,this._min,this._max,this.positive.clone(),this.negative.clone(),this._mapping)}_updateBuckets(e,t,o){let s=this._mapping.mapToIndex(t),a=!1,n=0,r=0;if(e.length===0?(e.indexStart=s,e.indexEnd=e.indexStart,e.indexBase=e.indexStart):s<e.indexStart&&e.indexEnd-s>=this._maxSize?(a=!0,r=s,n=e.indexEnd):s>e.indexEnd&&s-e.indexStart>=this._maxSize&&(a=!0,r=e.indexStart,n=s),a){let l=this._changeScale(n,r);this._downscale(l),s=this._mapping.mapToIndex(t)}this._incrementIndexBy(e,s,o)}_incrementIndexBy(e,t,o){if(o===0)return;if(e.length===0&&(e.indexStart=e.indexEnd=e.indexBase=t),t<e.indexStart){let a=e.indexEnd-t;a>=e.backing.length&&this._grow(e,a+1),e.indexStart=t}else if(t>e.indexEnd){let a=t-e.indexStart;a>=e.backing.length&&this._grow(e,a+1),e.indexEnd=t}let s=t-e.indexBase;s<0&&(s+=e.backing.length),e.incrementBucket(s,o)}_grow(e,t){let o=e.backing.length,s=e.indexBase-e.indexStart,a=o-s,n=XP(t);n>this._maxSize&&(n=this._maxSize);let r=n-s;e.backing.growTo(n,a,r)}_changeScale(e,t){let o=0;for(;e-t>=this._maxSize;)e>>=1,t>>=1,o++;return o}_downscale(e){if(e===0)return;if(e<0)throw new Error(`impossible change of scale: ${this.scale}`);let t=this._mapping.scale-e;this._positive.downscale(e),this._negative.downscale(e),this._mapping=Bm(t)}_minScale(e){let t=Math.min(this.scale,e.scale),o=co.combine(this._highLowAtScale(this.positive,this.scale,t),this._highLowAtScale(e.positive,e.scale,t)),s=co.combine(this._highLowAtScale(this.negative,this.scale,t),this._highLowAtScale(e.negative,e.scale,t));return Math.min(t-this._changeScale(o.high,o.low),t-this._changeScale(s.high,s.low))}_highLowAtScale(e,t,o){if(e.length===0)return new co(0,-1);let s=t-o;return new co(e.indexStart>>s,e.indexEnd>>s)}_mergeBuckets(e,t,o,s){let a=o.offset,n=t.scale-s;for(let r=0;r<o.length;r++)this._incrementIndexBy(e,a+r>>n,o.at(r))}_diffBuckets(e,t,o,s){let a=o.offset,n=t.scale-s;for(let r=0;r<o.length;r++){let c=(a+r>>n)-e.indexBase;c<0&&(c+=e.backing.length),e.decrementBucket(c,o.at(r))}e.trim()}},Zc=class{constructor(e,t){this._maxSize=e,this._recordMinMax=t,this.kind=Gt.EXPONENTIAL_HISTOGRAM}createAccumulation(e){return new Fm(e,this._maxSize,this._recordMinMax)}merge(e,t){let o=t.clone();return o.merge(e),o}diff(e,t){let o=t.clone();return o.diff(e),o}toMetricData(e,t,o,s){return{descriptor:e,aggregationTemporality:t,dataPointType:Ze.EXPONENTIAL_HISTOGRAM,dataPoints:o.map(([a,n])=>{let r=n.toPointValue(),l=e.type===me.GAUGE||e.type===me.UP_DOWN_COUNTER||e.type===me.OBSERVABLE_GAUGE||e.type===me.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:a,startTime:n.startTime,endTime:s,value:{min:r.hasMinMax?r.min:void 0,max:r.hasMinMax?r.max:void 0,sum:l?void 0:r.sum,positive:{offset:r.positive.offset,bucketCounts:r.positive.bucketCounts},negative:{offset:r.negative.offset,bucketCounts:r.negative.bucketCounts},count:r.count,scale:r.scale,zeroCount:r.zeroCount}}})}}}});var Ea,eu,iI=m(()=>{lo();W();ao();Ea=class{constructor(e,t=0,o=[0,0]){this.startTime=e,this._current=t,this.sampleTime=o}record(e){this._current=e,this.sampleTime=st(Date.now())}setStartTime(e){this.startTime=e}toPointValue(){return this._current}},eu=class{constructor(){this.kind=Gt.LAST_VALUE}createAccumulation(e){return new Ea(e)}merge(e,t){let o=ft(t.sampleTime)>=ft(e.sampleTime)?t:e;return new Ea(e.startTime,o.toPointValue(),o.sampleTime)}diff(e,t){let o=ft(t.sampleTime)>=ft(e.sampleTime)?t:e;return new Ea(t.startTime,o.toPointValue(),o.sampleTime)}toMetricData(e,t,o,s){return{descriptor:e,aggregationTemporality:t,dataPointType:Ze.GAUGE,dataPoints:o.map(([a,n])=>({attributes:a,startTime:n.startTime,endTime:s,value:n.toPointValue()}))}}}});var Si,Sa,oI=m(()=>{lo();ao();Si=class{constructor(e,t,o=0,s=!1){this.startTime=e,this.monotonic=t,this._current=o,this.reset=s}record(e){this.monotonic&&e<0||(this._current+=e)}setStartTime(e){this.startTime=e}toPointValue(){return this._current}},Sa=class{constructor(e){this.monotonic=e,this.kind=Gt.SUM}createAccumulation(e){return new Si(e,this.monotonic)}merge(e,t){let o=e.toPointValue(),s=t.toPointValue();return t.reset?new Si(t.startTime,this.monotonic,s,t.reset):new Si(e.startTime,this.monotonic,o+s)}diff(e,t){let o=e.toPointValue(),s=t.toPointValue();return this.monotonic&&o>s?new Si(t.startTime,this.monotonic,s,!0):new Si(t.startTime,this.monotonic,s-o)}toMetricData(e,t,o,s){return{descriptor:e,aggregationTemporality:t,dataPointType:Ze.SUM,dataPoints:o.map(([a,n])=>({attributes:a,startTime:n.startTime,endTime:s,value:n.toPointValue()})),isMonotonic:this.monotonic}}}});var sI=m(()=>{jP();YP();nI();iI();oI()});var pt,uo,gi,fo,po,ga,Ta,ya,aI,lI,cI,uI,N$,x$,tu=m(()=>{w();sI();Jr();pt=class{static Drop(){return aI}static Sum(){return lI}static LastValue(){return cI}static Histogram(){return uI}static ExponentialHistogram(){return N$}static Default(){return x$}},uo=class i extends pt{createAggregator(e){return i.DEFAULT_INSTANCE}};uo.DEFAULT_INSTANCE=new $c;gi=class i extends pt{createAggregator(e){switch(e.type){case me.COUNTER:case me.OBSERVABLE_COUNTER:case me.HISTOGRAM:return i.MONOTONIC_INSTANCE;default:return i.NON_MONOTONIC_INSTANCE}}};gi.MONOTONIC_INSTANCE=new Sa(!0);gi.NON_MONOTONIC_INSTANCE=new Sa(!1);fo=class i extends pt{createAggregator(e){return i.DEFAULT_INSTANCE}};fo.DEFAULT_INSTANCE=new eu;po=class i extends pt{createAggregator(e){return i.DEFAULT_INSTANCE}};po.DEFAULT_INSTANCE=new pa([0,5,10,25,50,75,100,250,500,750,1e3,2500,5e3,7500,1e4],!0);ga=class extends pt{constructor(e,t=!0){if(super(),this._recordMinMax=t,e==null)throw new Error("ExplicitBucketHistogramAggregation should be created with explicit boundaries, if a single bucket histogram is required, please pass an empty array");e=e.concat(),e=e.sort((a,n)=>a-n);let o=e.lastIndexOf(-1/0),s=e.indexOf(1/0);s===-1&&(s=void 0),this._boundaries=e.slice(o+1,s)}createAggregator(e){return new pa(this._boundaries,this._recordMinMax)}},Ta=class extends pt{constructor(e=160,t=!0){super(),this._maxSize=e,this._recordMinMax=t}createAggregator(e){return new Zc(this._maxSize,this._recordMinMax)}},ya=class extends pt{_resolve(e){switch(e.type){case me.COUNTER:case me.UP_DOWN_COUNTER:case me.OBSERVABLE_COUNTER:case me.OBSERVABLE_UP_DOWN_COUNTER:return lI;case me.GAUGE:case me.OBSERVABLE_GAUGE:return cI;case me.HISTOGRAM:return e.advice.explicitBucketBoundaries?new ga(e.advice.explicitBucketBoundaries):uI}return v.warn(`Unable to recognize instrument type: ${e.type}`),aI}createAggregator(e){return this._resolve(e).createAggregator(e)}},aI=new uo,lI=new gi,cI=new fo,uI=new po,N$=new Ta,x$=new ya});var dI,ru,qm=m(()=>{tu();zc();dI=i=>pt.Default(),ru=i=>ar.CUMULATIVE});var ho,Gm=m(()=>{w();yr();qm();ho=class{constructor(e){var t,o,s;this._shutdown=!1,this._aggregationSelector=(t=e==null?void 0:e.aggregationSelector)!==null&&t!==void 0?t:dI,this._aggregationTemporalitySelector=(o=e==null?void 0:e.aggregationTemporalitySelector)!==null&&o!==void 0?o:ru,this._metricProducers=(s=e==null?void 0:e.metricProducers)!==null&&s!==void 0?s:[]}setMetricProducer(e){if(this._sdkMetricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._sdkMetricProducer=e,this.onInitialized()}selectAggregation(e){return this._aggregationSelector(e)}selectAggregationTemporality(e){return this._aggregationTemporalitySelector(e)}onInitialized(){}async collect(e){if(this._sdkMetricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");let[t,...o]=await Promise.all([this._sdkMetricProducer.collect({timeoutMillis:e==null?void 0:e.timeoutMillis}),...this._metricProducers.map(r=>r.collect({timeoutMillis:e==null?void 0:e.timeoutMillis}))]),s=t.errors.concat(Lm(o,r=>r.errors)),a=t.resourceMetrics.resource,n=t.resourceMetrics.scopeMetrics.concat(Lm(o,r=>r.resourceMetrics.scopeMetrics));return{resourceMetrics:{resource:a,scopeMetrics:n},errors:s}}async shutdown(e){if(this._shutdown){v.error("Cannot call shutdown twice.");return}(e==null?void 0:e.timeoutMillis)==null?await this.onShutdown():await gn(this.onShutdown(),e.timeoutMillis),this._shutdown=!0}async forceFlush(e){if(this._shutdown){v.warn("Cannot forceFlush on already shutdown MetricReader.");return}if((e==null?void 0:e.timeoutMillis)==null){await this.onForceFlush();return}await gn(this.onForceFlush(),e.timeoutMillis)}}});var nu,fI=m(()=>{w();W();Gm();yr();w();nu=class extends ho{constructor(e){var t,o,s,a;if(super({aggregationSelector:(t=e.exporter.selectAggregation)===null||t===void 0?void 0:t.bind(e.exporter),aggregationTemporalitySelector:(o=e.exporter.selectAggregationTemporality)===null||o===void 0?void 0:o.bind(e.exporter),metricProducers:e.metricProducers}),e.exportIntervalMillis!==void 0&&e.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(e.exportTimeoutMillis!==void 0&&e.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(e.exportTimeoutMillis!==void 0&&e.exportIntervalMillis!==void 0&&e.exportIntervalMillis<e.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=(s=e.exportIntervalMillis)!==null&&s!==void 0?s:6e4,this._exportTimeout=(a=e.exportTimeoutMillis)!==null&&a!==void 0?a:3e4,this._exporter=e.exporter}async _runOnce(){try{await gn(this._doRun(),this._exportTimeout)}catch(e){if(e instanceof Ei){v.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}be(e)}}async _doRun(){var e,t;let{resourceMetrics:o,errors:s}=await this.collect({timeoutMillis:this._exportTimeout});s.length>0&&v.error("PeriodicExportingMetricReader: metrics collection errors",...s);let a=async()=>{let n=await Wr._export(this._exporter,o);if(n.code!==te.SUCCESS)throw new Error(`PeriodicExportingMetricReader: metrics export failed (error ${n.error})`)};o.resource.asyncAttributesPending?(t=(e=o.resource).waitForAsyncAttributes)===null||t===void 0||t.call(e).then(a,n=>v.debug("Error while resolving async portion of resource: ",n)):await a()}onInitialized(){this._interval=setInterval(()=>{this._runOnce()},this._exportInterval),ci(this._interval)}async onForceFlush(){await this._runOnce(),await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}}});var iu,pI=m(()=>{W();iu=class{constructor(e){this._shutdown=!1,this._metrics=[],this._aggregationTemporality=e}export(e,t){if(this._shutdown){setTimeout(()=>t({code:te.FAILED}),0);return}this._metrics.push(e),setTimeout(()=>t({code:te.SUCCESS}),0)}getMetrics(){return this._metrics}forceFlush(){return Promise.resolve()}reset(){this._metrics=[]}selectAggregationTemporality(e){return this._aggregationTemporality}shutdown(){return this._shutdown=!0,Promise.resolve()}}});var ou,hI=m(()=>{W();qm();ou=class i{constructor(e){var t;this._shutdown=!1,this._temporalitySelector=(t=e==null?void 0:e.temporalitySelector)!==null&&t!==void 0?t:ru}export(e,t){if(this._shutdown){setImmediate(t,{code:te.FAILED});return}return i._sendMetrics(e,t)}forceFlush(){return Promise.resolve()}selectAggregationTemporality(e){return this._temporalitySelector(e)}shutdown(){return this._shutdown=!0,Promise.resolve()}static _sendMetrics(e,t){for(let o of e.scopeMetrics)for(let s of o.metrics)console.dir({descriptor:s.descriptor,dataPointType:s.dataPointType,dataPoints:s.dataPoints},{depth:null});t({code:te.SUCCESS})}}});var su,mI=m(()=>{su=class{constructor(){this._registeredViews=[]}addView(e){this._registeredViews.push(e)}findViews(e,t){return this._registeredViews.filter(s=>this._matchInstrument(s.instrumentSelector,e)&&this._matchMeter(s.meterSelector,t))}_matchInstrument(e,t){return(e.getType()===void 0||t.type===e.getType())&&e.getNameFilter().match(t.name)&&e.getUnitFilter().match(t.unit)}_matchMeter(e,t){return e.getNameFilter().match(t.name)&&(t.version===void 0||e.getVersionFilter().match(t.version))&&(t.schemaUrl===void 0||e.getSchemaUrlFilter().match(t.schemaUrl))}}});function va(i){return i instanceof _o}var mo,au,lu,cu,uu,_o,du,fu,pu,hu=m(()=>{w();W();mo=class{constructor(e,t){this._writableMetricStorage=e,this._descriptor=t}_record(e,t={},o=qe.active()){if(typeof e!="number"){v.warn(`non-number value provided to metric ${this._descriptor.name}: ${e}`);return}this._descriptor.valueType===Tt.INT&&!Number.isInteger(e)&&(v.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),e=Math.trunc(e),!Number.isInteger(e))||this._writableMetricStorage.record(e,t,o,st(Date.now()))}},au=class extends mo{add(e,t,o){this._record(e,t,o)}},lu=class extends mo{add(e,t,o){if(e<0){v.warn(`negative value provided to counter ${this._descriptor.name}: ${e}`);return}this._record(e,t,o)}},cu=class extends mo{record(e,t,o){this._record(e,t,o)}},uu=class extends mo{record(e,t,o){if(e<0){v.warn(`negative value provided to histogram ${this._descriptor.name}: ${e}`);return}this._record(e,t,o)}},_o=class{constructor(e,t,o){this._observableRegistry=o,this._descriptor=e,this._metricStorages=t}addCallback(e){this._observableRegistry.addCallback(e,this)}removeCallback(e){this._observableRegistry.removeCallback(e,this)}},du=class extends _o{},fu=class extends _o{},pu=class extends _o{}});var mu,_I=m(()=>{Jr();hu();mu=class{constructor(e){this._meterSharedState=e}createGauge(e,t){let o=vr(e,me.GAUGE,t),s=this._meterSharedState.registerMetricStorage(o);return new cu(s,o)}createHistogram(e,t){let o=vr(e,me.HISTOGRAM,t),s=this._meterSharedState.registerMetricStorage(o);return new uu(s,o)}createCounter(e,t){let o=vr(e,me.COUNTER,t),s=this._meterSharedState.registerMetricStorage(o);return new lu(s,o)}createUpDownCounter(e,t){let o=vr(e,me.UP_DOWN_COUNTER,t),s=this._meterSharedState.registerMetricStorage(o);return new au(s,o)}createObservableGauge(e,t){let o=vr(e,me.OBSERVABLE_GAUGE,t),s=this._meterSharedState.registerAsyncMetricStorage(o);return new fu(o,s,this._meterSharedState.observableRegistry)}createObservableCounter(e,t){let o=vr(e,me.OBSERVABLE_COUNTER,t),s=this._meterSharedState.registerAsyncMetricStorage(o);return new du(o,s,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(e,t){let o=vr(e,me.OBSERVABLE_UP_DOWN_COUNTER,t),s=this._meterSharedState.registerAsyncMetricStorage(o);return new pu(o,s,this._meterSharedState.observableRegistry)}addBatchObservableCallback(e,t){this._meterSharedState.observableRegistry.addBatchCallback(e,t)}removeBatchObservableCallback(e,t){this._meterSharedState.observableRegistry.removeBatchCallback(e,t)}}});var Eo,Hm=m(()=>{Jr();Eo=class{constructor(e){this._instrumentDescriptor=e}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(e){this._instrumentDescriptor=vr(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:e,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit,advice:this._instrumentDescriptor.advice})}}});var jm,It,Aa=m(()=>{yr();jm=class{constructor(e){this._hash=e,this._valueMap=new Map,this._keyMap=new Map}get(e,t){return t??(t=this._hash(e)),this._valueMap.get(t)}getOrDefault(e,t){let o=this._hash(e);if(this._valueMap.has(o))return this._valueMap.get(o);let s=t();return this._keyMap.has(o)||this._keyMap.set(o,e),this._valueMap.set(o,s),s}set(e,t,o){o??(o=this._hash(e)),this._keyMap.has(o)||this._keyMap.set(o,e),this._valueMap.set(o,t)}has(e,t){return t??(t=this._hash(e)),this._valueMap.has(t)}*keys(){let e=this._keyMap.entries(),t=e.next();for(;t.done!==!0;)yield[t.value[1],t.value[0]],t=e.next()}*entries(){let e=this._valueMap.entries(),t=e.next();for(;t.done!==!0;)yield[this._keyMap.get(t.value[0]),t.value[1],t.value[0]],t=e.next()}get size(){return this._valueMap.size}},It=class extends jm{constructor(){super(kP)}}});var So,zm=m(()=>{Aa();So=class{constructor(e){this._aggregator=e,this._activeCollectionStorage=new It,this._cumulativeMemoStorage=new It}record(e,t,o,s){let a=this._activeCollectionStorage.getOrDefault(t,()=>this._aggregator.createAccumulation(s));a==null||a.record(e)}batchCumulate(e,t){Array.from(e.entries()).forEach(([o,s,a])=>{let n=this._aggregator.createAccumulation(t);n==null||n.record(s);let r=n;if(this._cumulativeMemoStorage.has(o,a)){let l=this._cumulativeMemoStorage.get(o,a);r=this._aggregator.diff(l,n)}if(this._activeCollectionStorage.has(o,a)){let l=this._activeCollectionStorage.get(o,a);r=this._aggregator.merge(l,r)}this._cumulativeMemoStorage.set(o,n,a),this._activeCollectionStorage.set(o,r,a)})}collect(){let e=this._activeCollectionStorage;return this._activeCollectionStorage=new It,e}}});function P$(i){return Array.from(i.entries())}var go,$m=m(()=>{zc();Aa();go=class i{constructor(e,t){this._aggregator=e,this._unreportedAccumulations=new Map,this._reportHistory=new Map,t.forEach(o=>{this._unreportedAccumulations.set(o,[])})}buildMetrics(e,t,o,s){this._stashAccumulations(o);let a=this._getMergedUnreportedAccumulations(e),n=a,r;if(this._reportHistory.has(e)){let c=this._reportHistory.get(e),u=c.collectionTime;r=c.aggregationTemporality,r===ar.CUMULATIVE?n=i.merge(c.accumulations,a,this._aggregator):n=i.calibrateStartTime(c.accumulations,a,u)}else r=e.selectAggregationTemporality(t.type);this._reportHistory.set(e,{accumulations:n,collectionTime:s,aggregationTemporality:r});let l=P$(n);if(l.length!==0)return this._aggregator.toMetricData(t,r,l,s)}_stashAccumulations(e){let t=this._unreportedAccumulations.keys();for(let o of t){let s=this._unreportedAccumulations.get(o);s===void 0&&(s=[],this._unreportedAccumulations.set(o,s)),s.push(e)}}_getMergedUnreportedAccumulations(e){let t=new It,o=this._unreportedAccumulations.get(e);if(this._unreportedAccumulations.set(e,[]),o===void 0)return t;for(let s of o)t=i.merge(t,s,this._aggregator);return t}static merge(e,t,o){let s=e,a=t.entries(),n=a.next();for(;n.done!==!0;){let[r,l,c]=n.value;if(e.has(r,c)){let u=e.get(r,c),d=o.merge(u,l);s.set(r,d,c)}else s.set(r,l,c);n=a.next()}return s}static calibrateStartTime(e,t,o){for(let[s,a]of e.keys()){let n=t.get(s,a);n==null||n.setStartTime(o)}return t}}});var _u,EI=m(()=>{Hm();zm();$m();Aa();_u=class extends Eo{constructor(e,t,o,s){super(e),this._attributesProcessor=o,this._deltaMetricStorage=new So(t),this._temporalMetricStorage=new go(t,s)}record(e,t){let o=new It;Array.from(e.entries()).forEach(([s,a])=>{o.set(this._attributesProcessor.process(s),a)}),this._deltaMetricStorage.batchCumulate(o,t)}collect(e,t){let o=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,this._instrumentDescriptor,o,t)}}});function Ym(i,e){let t="";return i.unit!==e.unit&&(t+=`	- Unit '${i.unit}' does not match '${e.unit}'
`),i.type!==e.type&&(t+=`	- Type '${i.type}' does not match '${e.type}'
`),i.valueType!==e.valueType&&(t+=`	- Value Type '${i.valueType}' does not match '${e.valueType}'
`),i.description!==e.description&&(t+=`	- Description '${i.description}' does not match '${e.description}'
`),t}function I$(i,e){return`	- use valueType '${i.valueType}' on instrument creation or use an instrument name other than '${e.name}'`}function M$(i,e){return`	- use unit '${i.unit}' on instrument creation or use an instrument name other than '${e.name}'`}function L$(i,e){let t={name:e.name,type:e.type,unit:e.unit},o=JSON.stringify(t);return`	- create a new view with a name other than '${i.name}' and InstrumentSelector '${o}'`}function w$(i,e){let t={name:e.name,type:e.type,unit:e.unit},o=JSON.stringify(t);return`	- create a new view with a name other than '${i.name}' and InstrumentSelector '${o}'
    	- OR - create a new view with the name ${i.name} and description '${i.description}' and InstrumentSelector ${o}
    	- OR - create a new view with the name ${e.name} and description '${i.description}' and InstrumentSelector ${o}`}function Km(i,e){return i.valueType!==e.valueType?I$(i,e):i.unit!==e.unit?M$(i,e):i.type!==e.type?L$(i,e):i.description!==e.description?w$(i,e):""}var SI=m(()=>{});var Eu,gI=m(()=>{Jr();w();SI();Eu=class i{constructor(){this._sharedRegistry=new Map,this._perCollectorRegistry=new Map}static create(){return new i}getStorages(e){let t=[];for(let s of this._sharedRegistry.values())t=t.concat(s);let o=this._perCollectorRegistry.get(e);if(o!=null)for(let s of o.values())t=t.concat(s);return t}register(e){this._registerStorage(e,this._sharedRegistry)}registerForCollector(e,t){let o=this._perCollectorRegistry.get(e);o==null&&(o=new Map,this._perCollectorRegistry.set(e,o)),this._registerStorage(t,o)}findOrUpdateCompatibleStorage(e){let t=this._sharedRegistry.get(e.name);return t===void 0?null:this._findOrUpdateCompatibleStorage(e,t)}findOrUpdateCompatibleCollectorStorage(e,t){let o=this._perCollectorRegistry.get(e);if(o===void 0)return null;let s=o.get(t.name);return s===void 0?null:this._findOrUpdateCompatibleStorage(t,s)}_registerStorage(e,t){let o=e.getInstrumentDescriptor(),s=t.get(o.name);if(s===void 0){t.set(o.name,[e]);return}s.push(e)}_findOrUpdateCompatibleStorage(e,t){let o=null;for(let s of t){let a=s.getInstrumentDescriptor();$P(a,e)?(a.description!==e.description&&(e.description.length>a.description.length&&s.updateDescription(e.description),v.warn("A view or instrument with the name ",e.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,Ym(a,e),`The longer description will be used.
To resolve the conflict:`,Km(a,e))),o=s):v.warn("A view or instrument with the name ",e.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,Ym(a,e),`To resolve the conflict:
`,Km(a,e))}return o}}});var Su,TI=m(()=>{Su=class{constructor(e){this._backingStorages=e}record(e,t,o,s){this._backingStorages.forEach(a=>{a.record(e,t,o,s)})}}});var gu,Tu,yI=m(()=>{w();Aa();hu();gu=class{constructor(e,t){this._instrumentName=e,this._valueType=t,this._buffer=new It}observe(e,t={}){if(typeof e!="number"){v.warn(`non-number value provided to metric ${this._instrumentName}: ${e}`);return}this._valueType===Tt.INT&&!Number.isInteger(e)&&(v.warn(`INT value type cannot accept a floating-point value for ${this._instrumentName}, ignoring the fractional digits.`),e=Math.trunc(e),!Number.isInteger(e))||this._buffer.set(t,e)}},Tu=class{constructor(){this._buffer=new Map}observe(e,t,o={}){if(!va(e))return;let s=this._buffer.get(e);if(s==null&&(s=new It,this._buffer.set(e,s)),typeof t!="number"){v.warn(`non-number value provided to metric ${e._descriptor.name}: ${t}`);return}e._descriptor.valueType===Tt.INT&&!Number.isInteger(t)&&(v.warn(`INT value type cannot accept a floating-point value for ${e._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t),!Number.isInteger(t))||s.set(o,t)}}});var yu,vI=m(()=>{w();hu();yI();yr();yu=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(e,t){this._findCallback(e,t)>=0||this._callbacks.push({callback:e,instrument:t})}removeCallback(e,t){let o=this._findCallback(e,t);o<0||this._callbacks.splice(o,1)}addBatchCallback(e,t){let o=new Set(t.filter(va));if(o.size===0){v.error("BatchObservableCallback is not associated with valid instruments",t);return}this._findBatchCallback(e,o)>=0||this._batchCallbacks.push({callback:e,instruments:o})}removeBatchCallback(e,t){let o=new Set(t.filter(va)),s=this._findBatchCallback(e,o);s<0||this._batchCallbacks.splice(s,1)}async observe(e,t){let o=this._observeCallbacks(e,t),s=this._observeBatchCallbacks(e,t);return(await VP([...o,...s])).filter(FP).map(r=>r.reason)}_observeCallbacks(e,t){return this._callbacks.map(async({callback:o,instrument:s})=>{let a=new gu(s._descriptor.name,s._descriptor.valueType),n=Promise.resolve(o(a));t!=null&&(n=gn(n,t)),await n,s._metricStorages.forEach(r=>{r.record(a._buffer,e)})})}_observeBatchCallbacks(e,t){return this._batchCallbacks.map(async({callback:o,instruments:s})=>{let a=new Tu,n=Promise.resolve(o(a));t!=null&&(n=gn(n,t)),await n,s.forEach(r=>{let l=a._buffer.get(r);l!=null&&r._metricStorages.forEach(c=>{c.record(l,e)})})})}_findCallback(e,t){return this._callbacks.findIndex(o=>o.callback===e&&o.instrument===t)}_findBatchCallback(e,t){return this._batchCallbacks.findIndex(o=>o.callback===e&&qP(o.instruments,t))}}});var vu,AI=m(()=>{Hm();zm();$m();vu=class extends Eo{constructor(e,t,o,s){super(e),this._attributesProcessor=o,this._deltaMetricStorage=new So(t),this._temporalMetricStorage=new go(t,s)}record(e,t,o,s){t=this._attributesProcessor.process(t,o),this._deltaMetricStorage.record(e,t,o,s)}collect(e,t){let o=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,this._instrumentDescriptor,o,t)}}});var Tn,Wm,Au,D$,Xm=m(()=>{Tn=class{static Noop(){return D$}},Wm=class extends Tn{process(e,t){return e}},Au=class extends Tn{constructor(e){super(),this._allowedAttributeNames=e}process(e,t){let o={};return Object.keys(e).filter(s=>this._allowedAttributeNames.includes(s)).forEach(s=>o[s]=e[s]),o}},D$=new Wm});var Ou,OI=m(()=>{Jr();_I();yr();EI();gI();TI();vI();AI();Xm();Ou=class{constructor(e,t){this._meterProviderSharedState=e,this._instrumentationScope=t,this.metricStorageRegistry=new Eu,this.observableRegistry=new yu,this.meter=new mu(this)}registerMetricStorage(e){let t=this._registerMetricStorage(e,vu);return t.length===1?t[0]:new Su(t)}registerAsyncMetricStorage(e){return this._registerMetricStorage(e,_u)}async collect(e,t,o){let s=await this.observableRegistry.observe(t,o==null?void 0:o.timeoutMillis),a=this.metricStorageRegistry.getStorages(e);if(a.length===0)return null;let n=a.map(r=>r.collect(e,t)).filter(UP);return n.length===0?{errors:s}:{scopeMetrics:{scope:this._instrumentationScope,metrics:n},errors:s}}_registerMetricStorage(e,t){let s=this._meterProviderSharedState.viewRegistry.findViews(e,this._instrumentationScope).map(a=>{let n=zP(a,e),r=this.metricStorageRegistry.findOrUpdateCompatibleStorage(n);if(r!=null)return r;let l=a.aggregation.createAggregator(n),c=new t(n,l,a.attributesProcessor,this._meterProviderSharedState.metricCollectors);return this.metricStorageRegistry.register(c),c});if(s.length===0){let n=this._meterProviderSharedState.selectAggregations(e.type).map(([r,l])=>{let c=this.metricStorageRegistry.findOrUpdateCompatibleCollectorStorage(r,e);if(c!=null)return c;let u=l.createAggregator(e),d=new t(e,u,Tn.Noop(),[r]);return this.metricStorageRegistry.registerForCollector(r,d),d});s=s.concat(n)}return s}}});var Ru,RI=m(()=>{yr();mI();OI();Ru=class{constructor(e){this.resource=e,this.viewRegistry=new su,this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(e){let t=BP(e),o=this.meterSharedStates.get(t);return o==null&&(o=new Ou(this,e),this.meterSharedStates.set(t,o)),o}selectAggregations(e){let t=[];for(let o of this.metricCollectors)t.push([o,o.selectAggregation(e)]);return t}}});var bu,bI=m(()=>{W();bu=class{constructor(e,t){this._sharedState=e,this._metricReader=t}async collect(e){let t=st(Date.now()),o=[],s=[],a=Array.from(this._sharedState.meterSharedStates.values()).map(async n=>{let r=await n.collect(this,t,e);(r==null?void 0:r.scopeMetrics)!=null&&o.push(r.scopeMetrics),(r==null?void 0:r.errors)!=null&&s.push(...r.errors)});return await Promise.all(a),{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:o},errors:s}}async forceFlush(e){await this._metricReader.forceFlush(e)}async shutdown(e){await this._metricReader.shutdown(e)}selectAggregationTemporality(e){return this._metricReader.selectAggregationTemporality(e)}selectAggregation(e){return this._metricReader.selectAggregation(e)}}});var Cu,CI=m(()=>{w();Sn();RI();bI();Cu=class{constructor(e){var t;this._shutdown=!1;let o=ce.default().merge((t=e==null?void 0:e.resource)!==null&&t!==void 0?t:ce.empty());if(this._sharedState=new Ru(o),(e==null?void 0:e.views)!=null&&e.views.length>0)for(let s of e.views)this._sharedState.viewRegistry.addView(s);if((e==null?void 0:e.readers)!=null&&e.readers.length>0)for(let s of e.readers)this.addMetricReader(s)}getMeter(e,t="",o={}){return this._shutdown?(v.warn("A shutdown MeterProvider cannot provide a Meter"),ic()):this._sharedState.getMeterSharedState({name:e,version:t,schemaUrl:o.schemaUrl}).meter}addMetricReader(e){let t=new bu(this._sharedState,e);e.setMetricProducer(t),this._sharedState.metricCollectors.push(t)}async shutdown(e){if(this._shutdown){v.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map(t=>t.shutdown(e)))}async forceFlush(e){if(this._shutdown){v.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map(t=>t.forceFlush(e)))}}});var U$,To,yn,Nu=m(()=>{U$=/[\^$\\.+?()[\]{}|]/g,To=class i{constructor(e){e==="*"?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(i.escapePattern(e)))}match(e){return this._matchAll?!0:this._regexp.test(e)}static escapePattern(e){return`^${e.replace(U$,"\\$&").replace("*",".*")}$`}static hasWildcard(e){return e.includes("*")}},yn=class{constructor(e){this._matchAll=e===void 0,this._pattern=e}match(e){return!!(this._matchAll||e===this._pattern)}}});var xu,NI=m(()=>{Nu();xu=class{constructor(e){var t;this._nameFilter=new To((t=e==null?void 0:e.name)!==null&&t!==void 0?t:"*"),this._type=e==null?void 0:e.type,this._unitFilter=new yn(e==null?void 0:e.unit)}getType(){return this._type}getNameFilter(){return this._nameFilter}getUnitFilter(){return this._unitFilter}}});var Pu,xI=m(()=>{Nu();Pu=class{constructor(e){this._nameFilter=new yn(e==null?void 0:e.name),this._versionFilter=new yn(e==null?void 0:e.version),this._schemaUrlFilter=new yn(e==null?void 0:e.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}}});function k$(i){return i.instrumentName==null&&i.instrumentType==null&&i.instrumentUnit==null&&i.meterName==null&&i.meterVersion==null&&i.meterSchemaUrl==null}var Iu,PI=m(()=>{Nu();Xm();NI();xI();tu();Iu=class{constructor(e){var t;if(k$(e))throw new Error("Cannot create view with no selector arguments supplied");if(e.name!=null&&((e==null?void 0:e.instrumentName)==null||To.hasWildcard(e.instrumentName)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");e.attributeKeys!=null?this.attributesProcessor=new Au(e.attributeKeys):this.attributesProcessor=Tn.Noop(),this.name=e.name,this.description=e.description,this.aggregation=(t=e.aggregation)!==null&&t!==void 0?t:pt.Default(),this.instrumentSelector=new xu({name:e.instrumentName,type:e.instrumentType,unit:e.instrumentUnit}),this.meterSelector=new Pu({name:e.meterName,version:e.meterVersion,schemaUrl:e.meterSchemaUrl})}}});var Jm={};Ie(Jm,{Aggregation:()=>pt,AggregationTemporality:()=>ar,ConsoleMetricExporter:()=>ou,DataPointType:()=>Ze,DefaultAggregation:()=>ya,DropAggregation:()=>uo,ExplicitBucketHistogramAggregation:()=>ga,ExponentialHistogramAggregation:()=>Ta,HistogramAggregation:()=>po,InMemoryMetricExporter:()=>iu,InstrumentType:()=>me,LastValueAggregation:()=>fo,MeterProvider:()=>Cu,MetricReader:()=>ho,PeriodicExportingMetricReader:()=>nu,SumAggregation:()=>gi,TimeoutError:()=>Ei,View:()=>Iu});var Mu=m(()=>{zc();ao();Gm();fI();pI();hI();Jr();CI();tu();PI();yr()});var Zm=S(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.AbstractAsyncHooksContextManager=void 0;var B$=F("events"),V$=["addListener","on","once","prependListener","prependOnceListener"],Qm=class{constructor(){this._kOtListeners=Symbol("OtListeners"),this._wrapped=!1}bind(e,t){return t instanceof B$.EventEmitter?this._bindEventEmitter(e,t):typeof t=="function"?this._bindFunction(e,t):t}_bindFunction(e,t){let o=this,s=function(...a){return o.with(e,()=>t.apply(this,a))};return Object.defineProperty(s,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),s}_bindEventEmitter(e,t){return this._getPatchMap(t)!==void 0||(this._createPatchMap(t),V$.forEach(s=>{t[s]!==void 0&&(t[s]=this._patchAddListener(t,t[s],e))}),typeof t.removeListener=="function"&&(t.removeListener=this._patchRemoveListener(t,t.removeListener)),typeof t.off=="function"&&(t.off=this._patchRemoveListener(t,t.off)),typeof t.removeAllListeners=="function"&&(t.removeAllListeners=this._patchRemoveAllListeners(t,t.removeAllListeners))),t}_patchRemoveListener(e,t){let o=this;return function(s,a){var n;let r=(n=o._getPatchMap(e))===null||n===void 0?void 0:n[s];if(r===void 0)return t.call(this,s,a);let l=r.get(a);return t.call(this,s,l||a)}}_patchRemoveAllListeners(e,t){let o=this;return function(s){let a=o._getPatchMap(e);return a!==void 0&&(arguments.length===0?o._createPatchMap(e):a[s]!==void 0&&delete a[s]),t.apply(this,arguments)}}_patchAddListener(e,t,o){let s=this;return function(a,n){if(s._wrapped)return t.call(this,a,n);let r=s._getPatchMap(e);r===void 0&&(r=s._createPatchMap(e));let l=r[a];l===void 0&&(l=new WeakMap,r[a]=l);let c=s.bind(o,n);l.set(n,c),s._wrapped=!0;try{return t.call(this,a,c)}finally{s._wrapped=!1}}}_createPatchMap(e){let t=Object.create(null);return e[this._kOtListeners]=t,t}_getPatchMap(e){return e[this._kOtListeners]}};Lu.AbstractAsyncHooksContextManager=Qm});var II=S(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.AsyncHooksContextManager=void 0;var F$=(w(),ee(Je)),q$=F("async_hooks"),G$=Zm(),e_=class extends G$.AbstractAsyncHooksContextManager{constructor(){super(),this._contexts=new Map,this._stack=[],this._asyncHook=q$.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)})}active(){var e;return(e=this._stack[this._stack.length-1])!==null&&e!==void 0?e:F$.ROOT_CONTEXT}with(e,t,o,...s){this._enterContext(e);try{return t.call(o,...s)}finally{this._exitContext()}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(e,t){if(t==="TIMERWRAP")return;let o=this._stack[this._stack.length-1];o!==void 0&&this._contexts.set(e,o)}_destroy(e){this._contexts.delete(e)}_before(e){let t=this._contexts.get(e);t!==void 0&&this._enterContext(t)}_after(){this._exitContext()}_enterContext(e){this._stack.push(e)}_exitContext(){this._stack.pop()}};wu.AsyncHooksContextManager=e_});var MI=S(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.AsyncLocalStorageContextManager=void 0;var H$=(w(),ee(Je)),j$=F("async_hooks"),z$=Zm(),t_=class extends z$.AbstractAsyncHooksContextManager{constructor(){super(),this._asyncLocalStorage=new j$.AsyncLocalStorage}active(){var e;return(e=this._asyncLocalStorage.getStore())!==null&&e!==void 0?e:H$.ROOT_CONTEXT}with(e,t,o,...s){let a=o==null?t:t.bind(o);return this._asyncLocalStorage.run(e,a,...s)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}};Du.AsyncLocalStorageContextManager=t_});var LI=S(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});yo.AsyncLocalStorageContextManager=yo.AsyncHooksContextManager=void 0;var $$=II();Object.defineProperty(yo,"AsyncHooksContextManager",{enumerable:!0,get:function(){return $$.AsyncHooksContextManager}});var Y$=MI();Object.defineProperty(yo,"AsyncLocalStorageContextManager",{enumerable:!0,get:function(){return Y$.AsyncLocalStorageContextManager}})});var vo,r_=m(()=>{w();vo=Vt("OpenTelemetry Context Key B3 Debug Flag")});var Ti,Oa,Ra,ba,n_,Ca,Na=m(()=>{Ti="b3",Oa="x-b3-traceid",Ra="x-b3-spanid",ba="x-b3-sampled",n_="x-b3-parentspanid",Ca="x-b3-flags"});function X$(i){return i===he.SAMPLED||i===he.NONE}function J$(i){return Array.isArray(i)?i[0]:i}function ku(i,e,t){let o=e.get(i,t);return J$(o)}function Q$(i,e){let t=ku(i,e,Oa);return typeof t=="string"?t.padStart(32,"0"):""}function Z$(i,e){let t=ku(i,e,Ra);return typeof t=="string"?t:""}function wI(i,e){return ku(i,e,Ca)==="1"?"1":void 0}function eY(i,e){let t=ku(i,e,ba);if(wI(i,e)==="1"||K$.has(t))return he.SAMPLED;if(t===void 0||W$.has(t))return he.NONE}var K$,W$,Uu,DI=m(()=>{w();W();r_();Na();K$=new Set([!0,"true","True","1",1]),W$=new Set([!1,"false","False","0",0]);Uu=class{inject(e,t,o){let s=fe.getSpanContext(e);if(!s||!je(s)||dt(e))return;let a=e.getValue(vo);o.set(t,Oa,s.traceId),o.set(t,Ra,s.spanId),a==="1"?o.set(t,Ca,a):s.traceFlags!==void 0&&o.set(t,ba,(he.SAMPLED&s.traceFlags)===he.SAMPLED?"1":"0")}extract(e,t,o){let s=Q$(t,o),a=Z$(t,o),n=eY(t,o),r=wI(t,o);return or(s)&&ni(a)&&X$(n)?(e=e.setValue(vo,r),fe.setSpanContext(e,{traceId:s,spanId:a,isRemote:!0,traceFlags:n})):e}fields(){return[Oa,Ra,Ca,ba,n_]}}});function oY(i){return i.length===32?i:`${rY}${i}`}function sY(i){return i&&nY.has(i)?he.SAMPLED:he.NONE}var tY,rY,nY,iY,Bu,UI=m(()=>{w();W();r_();Na();tY=/((?:[0-9a-f]{16}){1,2})-([0-9a-f]{16})(?:-([01d](?![0-9a-f])))?(?:-([0-9a-f]{16}))?/,rY="0".repeat(16),nY=new Set(["d","1"]),iY="d";Bu=class{inject(e,t,o){let s=fe.getSpanContext(e);if(!s||!je(s)||dt(e))return;let a=e.getValue(vo)||s.traceFlags&1,n=`${s.traceId}-${s.spanId}-${a}`;o.set(t,Ti,n)}extract(e,t,o){let s=o.get(t,Ti),a=Array.isArray(s)?s[0]:s;if(typeof a!="string")return e;let n=a.match(tY);if(!n)return e;let[,r,l,c]=n,u=oY(r);if(!or(u)||!ni(l))return e;let d=sY(c);return c===iY&&(e=e.setValue(vo,c)),fe.setSpanContext(e,{traceId:u,spanId:l,isRemote:!0,traceFlags:d})}fields(){return[Ti]}}});var xa,i_=m(()=>{(function(i){i[i.SINGLE_HEADER=0]="SINGLE_HEADER",i[i.MULTI_HEADER=1]="MULTI_HEADER"})(xa||(xa={}))});var o_,kI=m(()=>{W();DI();UI();Na();i_();o_=class{constructor(e={}){this._b3MultiPropagator=new Uu,this._b3SinglePropagator=new Bu,e.injectEncoding===xa.MULTI_HEADER?(this._inject=this._b3MultiPropagator.inject,this._fields=this._b3MultiPropagator.fields()):(this._inject=this._b3SinglePropagator.inject,this._fields=this._b3SinglePropagator.fields())}inject(e,t,o){dt(e)||this._inject(e,t,o)}extract(e,t,o){let s=o.get(t,Ti);return(Array.isArray(s)?s[0]:s)?this._b3SinglePropagator.extract(e,t,o):this._b3MultiPropagator.extract(e,t,o)}fields(){return this._fields}}});var BI={};Ie(BI,{B3InjectEncoding:()=>xa,B3Propagator:()=>o_,B3_CONTEXT_HEADER:()=>Ti,X_B3_FLAGS:()=>Ca,X_B3_PARENT_SPAN_ID:()=>n_,X_B3_SAMPLED:()=>ba,X_B3_SPAN_ID:()=>Ra,X_B3_TRACE_ID:()=>Oa});var VI=m(()=>{kI();Na();i_()});var FI,qI=m(()=>{FI="exception"});var Pa,s_=m(()=>{w();W();qt();qI();Pa=class{constructor(e,t,o,s,a,n,r=[],l,c,u){this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:Tr.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=o,this._spanContext=s,this.parentSpanId=n,this.kind=a,this.links=r;let d=Date.now();this._performanceStartTime=Kr.now(),this._performanceOffset=d-(this._performanceStartTime+Ws()),this._startTimeProvided=l!=null,this.startTime=this._getTime(l??d),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,u!=null&&this.setAttributes(u),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,t)}spanContext(){return this._spanContext}setAttribute(e,t){return t==null||this._isSpanEnded()?this:e.length===0?(v.warn(`Invalid attribute key: ${e}`),this):ai(t)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(t),this):(v.warn(`Invalid attribute value set for key: ${e}`),this)}setAttributes(e){for(let[t,o]of Object.entries(e))this.setAttribute(t,o);return this}addEvent(e,t,o){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return v.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(this._droppedEventsCount===0&&v.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),Ac(t)&&(Ac(o)||(o=t),t=void 0);let s=si(t);return this.events.push({name:e,attributes:s,time:this._getTime(o),droppedAttributesCount:0}),this}addLink(e){return this.links.push(e),this}addLinks(e){return this.links.push(...e),this}setStatus(e){return this._isSpanEnded()?this:(this.status=e,this)}updateName(e){return this._isSpanEnded()?this:(this.name=e,this)}end(e){if(this._isSpanEnded()){v.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this._ended=!0,this.endTime=this._getTime(e),this._duration=$h(this.startTime,this.endTime),this._duration[0]<0&&(v.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&v.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnd(this)}_getTime(e){if(typeof e=="number"&&e<Kr.now())return yc(e+this._performanceOffset);if(typeof e=="number")return st(e);if(e instanceof Date)return st(e.getTime());if(Xs(e))return e;if(this._startTimeProvided)return st(Date.now());let t=Kr.now()-this._performanceStartTime;return Oc(this.startTime,st(t))}isRecording(){return this._ended===!1}recordException(e,t){let o={};typeof e=="string"?o[Hs]=e:e&&(e.code?o[Gs]=e.code.toString():e.name&&(o[Gs]=e.name),e.message&&(o[Hs]=e.message),e.stack&&(o[_h]=e.stack)),o[Gs]||o[Hs]?this.addEvent(FI,o,t):v.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){return this._ended&&v.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(e,t){return e.length<=t?e:e.substr(0,t)}_truncateToSize(e){let t=this._attributeValueLengthLimit;return t<=0?(v.warn(`Attribute value limit must be positive, got ${t}`),e):typeof e=="string"?this._truncateToLimitUtil(e,t):Array.isArray(e)?e.map(o=>typeof o=="string"?this._truncateToLimitUtil(o,t):o):e}}});var Or,Ia=m(()=>{(function(i){i[i.NOT_RECORD=0]="NOT_RECORD",i[i.RECORD=1]="RECORD",i[i.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Or||(Or={}))});var Qr,Vu=m(()=>{Ia();Qr=class{shouldSample(){return{decision:Or.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}});var lr,Fu=m(()=>{Ia();lr=class{shouldSample(){return{decision:Or.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}});var yi,a_=m(()=>{w();W();Vu();Fu();yi=class{constructor(e){var t,o,s,a;this._root=e.root,this._root||(be(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new lr),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new lr,this._remoteParentNotSampled=(o=e.remoteParentNotSampled)!==null&&o!==void 0?o:new Qr,this._localParentSampled=(s=e.localParentSampled)!==null&&s!==void 0?s:new lr,this._localParentNotSampled=(a=e.localParentNotSampled)!==null&&a!==void 0?a:new Qr}shouldSample(e,t,o,s,a,n){let r=fe.getSpanContext(e);return!r||!je(r)?this._root.shouldSample(e,t,o,s,a,n):r.isRemote?r.traceFlags&he.SAMPLED?this._remoteParentSampled.shouldSample(e,t,o,s,a,n):this._remoteParentNotSampled.shouldSample(e,t,o,s,a,n):r.traceFlags&he.SAMPLED?this._localParentSampled.shouldSample(e,t,o,s,a,n):this._localParentNotSampled.shouldSample(e,t,o,s,a,n)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}});var Ao,l_=m(()=>{w();Ia();Ao=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:or(t)&&this._accumulate(t)<this._upperBound?Or.RECORD_AND_SAMPLED:Or.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let o=0;o<e.length/8;o++){let s=o*8,a=parseInt(e.slice(s,s+8),16);t=(t^a)>>>0}return t}}});function qu(){return{sampler:c_(aY),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:X().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:X().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:X().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:X().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:X().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:X().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:X().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:X().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}function c_(i=X()){switch(i.OTEL_TRACES_SAMPLER){case Pt.AlwaysOn:return new lr;case Pt.AlwaysOff:return new Qr;case Pt.ParentBasedAlwaysOn:return new yi({root:new lr});case Pt.ParentBasedAlwaysOff:return new yi({root:new Qr});case Pt.TraceIdRatio:return new Ao(GI(i));case Pt.ParentBasedTraceIdRatio:return new yi({root:new Ao(GI(i))});default:return v.error(`OTEL_TRACES_SAMPLER value "${i.OTEL_TRACES_SAMPLER} invalid, defaulting to ${lY}".`),new lr}}function GI(i){if(i.OTEL_TRACES_SAMPLER_ARG===void 0||i.OTEL_TRACES_SAMPLER_ARG==="")return v.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${Oo}.`),Oo;let e=Number(i.OTEL_TRACES_SAMPLER_ARG);return isNaN(e)?(v.error(`OTEL_TRACES_SAMPLER_ARG=${i.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${Oo}.`),Oo):e<0||e>1?(v.error(`OTEL_TRACES_SAMPLER_ARG=${i.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${Oo}.`),Oo):e}var aY,lY,Oo,u_=m(()=>{w();W();Vu();Fu();a_();l_();aY=X(),lY=Pt.AlwaysOn,Oo=1});function HI(i){let e={sampler:c_()},t=qu(),o=Object.assign({},t,e,i);return o.generalLimits=Object.assign({},t.generalLimits,i.generalLimits||{}),o.spanLimits=Object.assign({},t.spanLimits,i.spanLimits||{}),o}function jI(i){var e,t,o,s,a,n,r,l,c,u,d,_;let E=Object.assign({},i.spanLimits),A=Qi();return E.attributeCountLimit=(n=(a=(s=(t=(e=i.spanLimits)===null||e===void 0?void 0:e.attributeCountLimit)!==null&&t!==void 0?t:(o=i.generalLimits)===null||o===void 0?void 0:o.attributeCountLimit)!==null&&s!==void 0?s:A.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&a!==void 0?a:A.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&n!==void 0?n:En,E.attributeValueLengthLimit=(_=(d=(u=(l=(r=i.spanLimits)===null||r===void 0?void 0:r.attributeValueLengthLimit)!==null&&l!==void 0?l:(c=i.generalLimits)===null||c===void 0?void 0:c.attributeValueLengthLimit)!==null&&u!==void 0?u:A.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&d!==void 0?d:A.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&_!==void 0?_:_n,Object.assign({},i,{spanLimits:E})}var d_=m(()=>{u_();W()});var Gu,zI=m(()=>{w();W();Gu=class{constructor(e,t){this._exporter=e,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;let o=X();this._maxExportBatchSize=typeof(t==null?void 0:t.maxExportBatchSize)=="number"?t.maxExportBatchSize:o.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(t==null?void 0:t.maxQueueSize)=="number"?t.maxQueueSize:o.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(t==null?void 0:t.scheduledDelayMillis)=="number"?t.scheduledDelayMillis:o.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(t==null?void 0:t.exportTimeoutMillis)=="number"?t.exportTimeoutMillis:o.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new Qe(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(v.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(e,t){}onEnd(e){this._shutdownOnce.isCalled||e.spanContext().traceFlags&he.SAMPLED&&this._addToBuffer(e)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(e){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&v.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(v.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()}_flushAll(){return new Promise((e,t)=>{let o=[],s=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let a=0,n=s;a<n;a++)o.push(this._flushOneBatch());Promise.all(o).then(()=>{e()}).catch(t)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((e,t)=>{let o=setTimeout(()=>{t(new Error("Timeout"))},this._exportTimeoutMillis);qe.with(zs(qe.active()),()=>{let s;this._finishedSpans.length<=this._maxExportBatchSize?(s=this._finishedSpans,this._finishedSpans=[]):s=this._finishedSpans.splice(0,this._maxExportBatchSize);let a=()=>this._exporter.export(s,r=>{var l;clearTimeout(o),r.code===te.SUCCESS?e():t((l=r.error)!==null&&l!==void 0?l:new Error("BatchSpanProcessor: span export failed"))}),n=null;for(let r=0,l=s.length;r<l;r++){let c=s[r];c.resource.asyncAttributesPending&&c.resource.waitForAsyncAttributes&&(n??(n=[]),n.push(c.resource.waitForAsyncAttributes()))}n===null?a():Promise.all(n).then(a,r=>{be(r),t(r)})})})}_maybeStartTimer(){if(this._isExporting)return;let e=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(t=>{this._isExporting=!1,be(t)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return e();this._timer===void 0&&(this._timer=setTimeout(()=>e(),this._scheduledDelayMillis),ci(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}}});var Ma,$I=m(()=>{zI();Ma=class extends Gu{onShutdown(){}}});function YI(i){return function(){for(let t=0;t<i/4;t++)Hu.writeUInt32BE(Math.random()*2**32>>>0,t*4);for(let t=0;t<i&&!(Hu[t]>0);t++)t===i-1&&(Hu[i-1]=1);return Hu.toString("hex",0,i)}}var La,Hu,KI=m(()=>{La=class{constructor(){this.generateTraceId=YI(16),this.generateSpanId=YI(8)}},Hu=Buffer.allocUnsafe(16)});var WI=m(()=>{$I();KI()});var ju=m(()=>{WI()});var wa,XI=m(()=>{w();W();s_();d_();ju();wa=class{constructor(e,t,o){this._tracerProvider=o;let s=HI(t);this._sampler=s.sampler,this._generalLimits=s.generalLimits,this._spanLimits=s.spanLimits,this._idGenerator=t.idGenerator||new La,this.resource=o.resource,this.instrumentationLibrary=e}startSpan(e,t={},o=qe.active()){var s,a,n;t.root&&(o=fe.deleteSpan(o));let r=fe.getSpan(o);if(dt(o))return v.debug("Instrumentation suppressed, returning Noop Span"),fe.wrapSpanContext($i);let l=r==null?void 0:r.spanContext(),c=this._idGenerator.generateSpanId(),u,d,_;!l||!fe.isSpanContextValid(l)?u=this._idGenerator.generateTraceId():(u=l.traceId,d=l.traceState,_=l.spanId);let E=(s=t.kind)!==null&&s!==void 0?s:Ft.INTERNAL,A=((a=t.links)!==null&&a!==void 0?a:[]).map(z=>({context:z.context,attributes:si(z.attributes)})),T=si(t.attributes),R=this._sampler.shouldSample(o,u,e,E,T,A);d=(n=R.traceState)!==null&&n!==void 0?n:d;let O=R.decision===yt.RECORD_AND_SAMPLED?he.SAMPLED:he.NONE,C={traceId:u,spanId:c,traceFlags:O,traceState:d};if(R.decision===yt.NOT_RECORD)return v.debug("Recording is off, propagating context in a non-recording span"),fe.wrapSpanContext(C);let L=si(Object.assign(T,R.attributes));return new Pa(this,o,e,C,E,_,A,t.startTime,void 0,L)}startActiveSpan(e,t,o,s){let a,n,r;if(arguments.length<2)return;arguments.length===2?r=t:arguments.length===3?(a=t,r=o):(a=t,n=o,r=s);let l=n??qe.active(),c=this.startSpan(e,a,l),u=fe.setSpan(l,c);return qe.with(u,r,void 0,c)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}}});var zu,JI=m(()=>{W();zu=class{constructor(e){this._spanProcessors=e}forceFlush(){let e=[];for(let t of this._spanProcessors)e.push(t.forceFlush());return new Promise(t=>{Promise.all(e).then(()=>{t()}).catch(o=>{be(o||new Error("MultiSpanProcessor: forceFlush failed")),t()})})}onStart(e,t){for(let o of this._spanProcessors)o.onStart(e,t)}onEnd(e){for(let t of this._spanProcessors)t.onEnd(e)}shutdown(){let e=[];for(let t of this._spanProcessors)e.push(t.shutdown());return new Promise((t,o)=>{Promise.all(e).then(()=>{t()},o)})}}});var Da,f_=m(()=>{Da=class{onStart(e,t){}onEnd(e){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}}});var vn,Ua,QI=m(()=>{w();W();Sn();vi();u_();JI();f_();ju();d_();(function(i){i[i.resolved=0]="resolved",i[i.timeout=1]="timeout",i[i.error=2]="error",i[i.unresolved=3]="unresolved"})(vn||(vn={}));Ua=class{constructor(e={}){var t;this._registeredSpanProcessors=[],this._tracers=new Map;let o=ta({},qu(),jI(e));this.resource=(t=o.resource)!==null&&t!==void 0?t:ce.empty(),this.resource=ce.default().merge(this.resource),this._config=Object.assign({},o,{resource:this.resource});let s=this._buildExporterFromEnv();if(s!==void 0){let a=new Ma(s);this.activeSpanProcessor=a}else this.activeSpanProcessor=new Da}getTracer(e,t,o){let s=`${e}@${t||""}:${(o==null?void 0:o.schemaUrl)||""}`;return this._tracers.has(s)||this._tracers.set(s,new wa({name:e,version:t,schemaUrl:o==null?void 0:o.schemaUrl},this._config,this)),this._tracers.get(s)}addSpanProcessor(e){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(t=>v.error("Error while trying to shutdown current span processor",t)),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new zu(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(e={}){fe.setGlobalTracerProvider(this),e.propagator===void 0&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&qe.setGlobalContextManager(e.contextManager),e.propagator&&vt.setGlobalPropagator(e.propagator)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,t=this._registeredSpanProcessors.map(o=>new Promise(s=>{let a,n=setTimeout(()=>{s(new Error(`Span processor did not completed within timeout period of ${e} ms`)),a=vn.timeout},e);o.forceFlush().then(()=>{clearTimeout(n),a!==vn.timeout&&(a=vn.resolved,s(a))}).catch(r=>{clearTimeout(n),a=vn.error,s(r)})}));return new Promise((o,s)=>{Promise.all(t).then(a=>{let n=a.filter(r=>r!==vn.resolved);n.length>0?s(n):o()}).catch(a=>s([a]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(e){var t;return(t=this.constructor._registeredPropagators.get(e))===null||t===void 0?void 0:t()}_getSpanExporter(e){var t;return(t=this.constructor._registeredExporters.get(e))===null||t===void 0?void 0:t()}_buildPropagatorFromEnv(){let e=Array.from(new Set(X().OTEL_PROPAGATORS)),o=e.map(s=>{let a=this._getPropagator(s);return a||v.warn(`Propagator "${s}" requested through environment variable is unavailable.`),a}).reduce((s,a)=>(a&&s.push(a),s),[]);if(o.length!==0)return e.length===1?o[0]:new Js({propagators:o})}_buildExporterFromEnv(){let e=X().OTEL_TRACES_EXPORTER;if(e==="none"||e==="")return;let t=this._getSpanExporter(e);return t||v.error(`Exporter "${e}" requested through environment variable is unavailable.`),t}};Ua._registeredPropagators=new Map([["tracecontext",()=>new Zs],["baggage",()=>new Ys]]);Ua._registeredExporters=new Map});var p_,ZI=m(()=>{W();p_=class{export(e,t){return this._sendSpans(e,t)}shutdown(){return this._sendSpans([]),this.forceFlush()}forceFlush(){return Promise.resolve()}_exportInfo(e){var t;return{resource:{attributes:e.resource.attributes},traceId:e.spanContext().traceId,parentId:e.parentSpanId,traceState:(t=e.spanContext().traceState)===null||t===void 0?void 0:t.serialize(),name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:ft(e.startTime),duration:ft(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}}_sendSpans(e,t){for(let o of e)console.dir(this._exportInfo(o),{depth:3});if(t)return t({code:te.SUCCESS})}}});var h_,eM=m(()=>{W();h_=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(e,t){if(this._stopped)return t({code:te.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...e),setTimeout(()=>t({code:te.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()}forceFlush(){return Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}}});var tM=m(()=>{});var m_,rM=m(()=>{w();W();m_=class{constructor(e){this._exporter=e,this._shutdownOnce=new Qe(this._shutdown,this),this._unresolvedExports=new Set}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports)),this._exporter.forceFlush&&await this._exporter.forceFlush()}onStart(e,t){}onEnd(e){var t,o;if(this._shutdownOnce.isCalled||!(e.spanContext().traceFlags&he.SAMPLED))return;let s=()=>Wr._export(this._exporter,[e]).then(a=>{var n;a.code!==te.SUCCESS&&be((n=a.error)!==null&&n!==void 0?n:new Error(`SimpleSpanProcessor: span export failed (status ${a})`))}).catch(a=>{be(a)});if(e.resource.asyncAttributesPending){let a=(o=(t=e.resource).waitForAsyncAttributes)===null||o===void 0?void 0:o.call(t).then(()=>(a!=null&&this._unresolvedExports.delete(a),s()),n=>be(n));a!=null&&this._unresolvedExports.add(a)}else s()}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}}});var nM=m(()=>{});var iM=m(()=>{});var oM=m(()=>{});var sM=m(()=>{});var aM=m(()=>{});var Ro={};Ie(Ro,{AlwaysOffSampler:()=>Qr,AlwaysOnSampler:()=>lr,BasicTracerProvider:()=>Ua,BatchSpanProcessor:()=>Ma,ConsoleSpanExporter:()=>p_,ForceFlushState:()=>vn,InMemorySpanExporter:()=>h_,NoopSpanProcessor:()=>Da,ParentBasedSampler:()=>yi,RandomIdGenerator:()=>La,SamplingDecision:()=>Or,SimpleSpanProcessor:()=>m_,Span:()=>Pa,TraceIdRatioBasedSampler:()=>Ao,Tracer:()=>wa});var vi=m(()=>{XI();QI();ju();ZI();eM();tM();rM();nM();f_();Vu();Fu();a_();l_();Ia();s_();iM();oM();sM();aM()});var ka=S((Vme,lM)=>{var cY="2.0.0",uY=Number.MAX_SAFE_INTEGER||9007199254740991,dY=16,fY=250,pY=["major","premajor","minor","preminor","patch","prepatch","prerelease"];lM.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:dY,MAX_SAFE_BUILD_LENGTH:fY,MAX_SAFE_INTEGER:uY,RELEASE_TYPES:pY,SEMVER_SPEC_VERSION:cY,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Ba=S((Fme,cM)=>{var hY=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...i)=>console.error("SEMVER",...i):()=>{};cM.exports=hY});var bo=S((Zr,uM)=>{var{MAX_SAFE_COMPONENT_LENGTH:__,MAX_SAFE_BUILD_LENGTH:mY,MAX_LENGTH:_Y}=ka(),EY=Ba();Zr=uM.exports={};var SY=Zr.re=[],gY=Zr.safeRe=[],U=Zr.src=[],k=Zr.t={},TY=0,E_="[a-zA-Z0-9-]",yY=[["\\s",1],["\\d",_Y],[E_,mY]],vY=i=>{for(let[e,t]of yY)i=i.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return i},re=(i,e,t)=>{let o=vY(e),s=TY++;EY(i,s,e),k[i]=s,U[s]=e,SY[s]=new RegExp(e,t?"g":void 0),gY[s]=new RegExp(o,t?"g":void 0)};re("NUMERICIDENTIFIER","0|[1-9]\\d*");re("NUMERICIDENTIFIERLOOSE","\\d+");re("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${E_}*`);re("MAINVERSION",`(${U[k.NUMERICIDENTIFIER]})\\.(${U[k.NUMERICIDENTIFIER]})\\.(${U[k.NUMERICIDENTIFIER]})`);re("MAINVERSIONLOOSE",`(${U[k.NUMERICIDENTIFIERLOOSE]})\\.(${U[k.NUMERICIDENTIFIERLOOSE]})\\.(${U[k.NUMERICIDENTIFIERLOOSE]})`);re("PRERELEASEIDENTIFIER",`(?:${U[k.NUMERICIDENTIFIER]}|${U[k.NONNUMERICIDENTIFIER]})`);re("PRERELEASEIDENTIFIERLOOSE",`(?:${U[k.NUMERICIDENTIFIERLOOSE]}|${U[k.NONNUMERICIDENTIFIER]})`);re("PRERELEASE",`(?:-(${U[k.PRERELEASEIDENTIFIER]}(?:\\.${U[k.PRERELEASEIDENTIFIER]})*))`);re("PRERELEASELOOSE",`(?:-?(${U[k.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${U[k.PRERELEASEIDENTIFIERLOOSE]})*))`);re("BUILDIDENTIFIER",`${E_}+`);re("BUILD",`(?:\\+(${U[k.BUILDIDENTIFIER]}(?:\\.${U[k.BUILDIDENTIFIER]})*))`);re("FULLPLAIN",`v?${U[k.MAINVERSION]}${U[k.PRERELEASE]}?${U[k.BUILD]}?`);re("FULL",`^${U[k.FULLPLAIN]}$`);re("LOOSEPLAIN",`[v=\\s]*${U[k.MAINVERSIONLOOSE]}${U[k.PRERELEASELOOSE]}?${U[k.BUILD]}?`);re("LOOSE",`^${U[k.LOOSEPLAIN]}$`);re("GTLT","((?:<|>)?=?)");re("XRANGEIDENTIFIERLOOSE",`${U[k.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);re("XRANGEIDENTIFIER",`${U[k.NUMERICIDENTIFIER]}|x|X|\\*`);re("XRANGEPLAIN",`[v=\\s]*(${U[k.XRANGEIDENTIFIER]})(?:\\.(${U[k.XRANGEIDENTIFIER]})(?:\\.(${U[k.XRANGEIDENTIFIER]})(?:${U[k.PRERELEASE]})?${U[k.BUILD]}?)?)?`);re("XRANGEPLAINLOOSE",`[v=\\s]*(${U[k.XRANGEIDENTIFIERLOOSE]})(?:\\.(${U[k.XRANGEIDENTIFIERLOOSE]})(?:\\.(${U[k.XRANGEIDENTIFIERLOOSE]})(?:${U[k.PRERELEASELOOSE]})?${U[k.BUILD]}?)?)?`);re("XRANGE",`^${U[k.GTLT]}\\s*${U[k.XRANGEPLAIN]}$`);re("XRANGELOOSE",`^${U[k.GTLT]}\\s*${U[k.XRANGEPLAINLOOSE]}$`);re("COERCEPLAIN",`(^|[^\\d])(\\d{1,${__}})(?:\\.(\\d{1,${__}}))?(?:\\.(\\d{1,${__}}))?`);re("COERCE",`${U[k.COERCEPLAIN]}(?:$|[^\\d])`);re("COERCEFULL",U[k.COERCEPLAIN]+`(?:${U[k.PRERELEASE]})?(?:${U[k.BUILD]})?(?:$|[^\\d])`);re("COERCERTL",U[k.COERCE],!0);re("COERCERTLFULL",U[k.COERCEFULL],!0);re("LONETILDE","(?:~>?)");re("TILDETRIM",`(\\s*)${U[k.LONETILDE]}\\s+`,!0);Zr.tildeTrimReplace="$1~";re("TILDE",`^${U[k.LONETILDE]}${U[k.XRANGEPLAIN]}$`);re("TILDELOOSE",`^${U[k.LONETILDE]}${U[k.XRANGEPLAINLOOSE]}$`);re("LONECARET","(?:\\^)");re("CARETTRIM",`(\\s*)${U[k.LONECARET]}\\s+`,!0);Zr.caretTrimReplace="$1^";re("CARET",`^${U[k.LONECARET]}${U[k.XRANGEPLAIN]}$`);re("CARETLOOSE",`^${U[k.LONECARET]}${U[k.XRANGEPLAINLOOSE]}$`);re("COMPARATORLOOSE",`^${U[k.GTLT]}\\s*(${U[k.LOOSEPLAIN]})$|^$`);re("COMPARATOR",`^${U[k.GTLT]}\\s*(${U[k.FULLPLAIN]})$|^$`);re("COMPARATORTRIM",`(\\s*)${U[k.GTLT]}\\s*(${U[k.LOOSEPLAIN]}|${U[k.XRANGEPLAIN]})`,!0);Zr.comparatorTrimReplace="$1$2$3";re("HYPHENRANGE",`^\\s*(${U[k.XRANGEPLAIN]})\\s+-\\s+(${U[k.XRANGEPLAIN]})\\s*$`);re("HYPHENRANGELOOSE",`^\\s*(${U[k.XRANGEPLAINLOOSE]})\\s+-\\s+(${U[k.XRANGEPLAINLOOSE]})\\s*$`);re("STAR","(<|>)?=?\\s*\\*");re("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");re("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var $u=S((qme,dM)=>{var AY=Object.freeze({loose:!0}),OY=Object.freeze({}),RY=i=>i?typeof i!="object"?AY:i:OY;dM.exports=RY});var S_=S((Gme,hM)=>{var fM=/^[0-9]+$/,pM=(i,e)=>{let t=fM.test(i),o=fM.test(e);return t&&o&&(i=+i,e=+e),i===e?0:t&&!o?-1:o&&!t?1:i<e?-1:1},bY=(i,e)=>pM(e,i);hM.exports={compareIdentifiers:pM,rcompareIdentifiers:bY}});var at=S((Hme,SM)=>{var Yu=Ba(),{MAX_LENGTH:mM,MAX_SAFE_INTEGER:Ku}=ka(),{safeRe:_M,t:EM}=bo(),CY=$u(),{compareIdentifiers:Co}=S_(),g_=class i{constructor(e,t){if(t=CY(t),e instanceof i){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>mM)throw new TypeError(`version is longer than ${mM} characters`);Yu("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let o=e.trim().match(t.loose?_M[EM.LOOSE]:_M[EM.FULL]);if(!o)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>Ku||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ku||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ku||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let a=+s;if(a>=0&&a<Ku)return a}return s}):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Yu("SemVer.compare",this.version,this.options,e),!(e instanceof i)){if(typeof e=="string"&&e===this.version)return 0;e=new i(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof i||(e=new i(e,this.options)),Co(this.major,e.major)||Co(this.minor,e.minor)||Co(this.patch,e.patch)}comparePre(e){if(e instanceof i||(e=new i(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let o=this.prerelease[t],s=e.prerelease[t];if(Yu("prerelease compare",t,o,s),o===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(o===void 0)return-1;if(o===s)continue;return Co(o,s)}while(++t)}compareBuild(e){e instanceof i||(e=new i(e,this.options));let t=0;do{let o=this.build[t],s=e.build[t];if(Yu("build compare",t,o,s),o===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(o===void 0)return-1;if(o===s)continue;return Co(o,s)}while(++t)}inc(e,t,o){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,o);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,o);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,o),this.inc("pre",t,o);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,o),this.inc("pre",t,o);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(o)?1:0;if(!t&&o===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(t===this.prerelease.join(".")&&o===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(t){let a=[t,s];o===!1&&(a=[t]),Co(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};SM.exports=g_});var Ai=S((jme,TM)=>{var gM=at(),NY=(i,e,t=!1)=>{if(i instanceof gM)return i;try{return new gM(i,e)}catch(o){if(!t)return null;throw o}};TM.exports=NY});var vM=S((zme,yM)=>{var xY=Ai(),PY=(i,e)=>{let t=xY(i,e);return t?t.version:null};yM.exports=PY});var OM=S(($me,AM)=>{var IY=Ai(),MY=(i,e)=>{let t=IY(i.trim().replace(/^[=v]+/,""),e);return t?t.version:null};AM.exports=MY});var CM=S((Yme,bM)=>{var RM=at(),LY=(i,e,t,o,s)=>{typeof t=="string"&&(s=o,o=t,t=void 0);try{return new RM(i instanceof RM?i.version:i,t).inc(e,o,s).version}catch{return null}};bM.exports=LY});var PM=S((Kme,xM)=>{var NM=Ai(),wY=(i,e)=>{let t=NM(i,null,!0),o=NM(e,null,!0),s=t.compare(o);if(s===0)return null;let a=s>0,n=a?t:o,r=a?o:t,l=!!n.prerelease.length;if(!!r.prerelease.length&&!l)return!r.patch&&!r.minor?"major":n.patch?"patch":n.minor?"minor":"major";let u=l?"pre":"";return t.major!==o.major?u+"major":t.minor!==o.minor?u+"minor":t.patch!==o.patch?u+"patch":"prerelease"};xM.exports=wY});var MM=S((Wme,IM)=>{var DY=at(),UY=(i,e)=>new DY(i,e).major;IM.exports=UY});var wM=S((Xme,LM)=>{var kY=at(),BY=(i,e)=>new kY(i,e).minor;LM.exports=BY});var UM=S((Jme,DM)=>{var VY=at(),FY=(i,e)=>new VY(i,e).patch;DM.exports=FY});var BM=S((Qme,kM)=>{var qY=Ai(),GY=(i,e)=>{let t=qY(i,e);return t&&t.prerelease.length?t.prerelease:null};kM.exports=GY});var Ht=S((Zme,FM)=>{var VM=at(),HY=(i,e,t)=>new VM(i,t).compare(new VM(e,t));FM.exports=HY});var GM=S((e_e,qM)=>{var jY=Ht(),zY=(i,e,t)=>jY(e,i,t);qM.exports=zY});var jM=S((t_e,HM)=>{var $Y=Ht(),YY=(i,e)=>$Y(i,e,!0);HM.exports=YY});var Wu=S((r_e,$M)=>{var zM=at(),KY=(i,e,t)=>{let o=new zM(i,t),s=new zM(e,t);return o.compare(s)||o.compareBuild(s)};$M.exports=KY});var KM=S((n_e,YM)=>{var WY=Wu(),XY=(i,e)=>i.sort((t,o)=>WY(t,o,e));YM.exports=XY});var XM=S((i_e,WM)=>{var JY=Wu(),QY=(i,e)=>i.sort((t,o)=>JY(o,t,e));WM.exports=QY});var Va=S((o_e,JM)=>{var ZY=Ht(),e8=(i,e,t)=>ZY(i,e,t)>0;JM.exports=e8});var Xu=S((s_e,QM)=>{var t8=Ht(),r8=(i,e,t)=>t8(i,e,t)<0;QM.exports=r8});var T_=S((a_e,ZM)=>{var n8=Ht(),i8=(i,e,t)=>n8(i,e,t)===0;ZM.exports=i8});var y_=S((l_e,eL)=>{var o8=Ht(),s8=(i,e,t)=>o8(i,e,t)!==0;eL.exports=s8});var Ju=S((c_e,tL)=>{var a8=Ht(),l8=(i,e,t)=>a8(i,e,t)>=0;tL.exports=l8});var Qu=S((u_e,rL)=>{var c8=Ht(),u8=(i,e,t)=>c8(i,e,t)<=0;rL.exports=u8});var v_=S((d_e,nL)=>{var d8=T_(),f8=y_(),p8=Va(),h8=Ju(),m8=Xu(),_8=Qu(),E8=(i,e,t,o)=>{switch(e){case"===":return typeof i=="object"&&(i=i.version),typeof t=="object"&&(t=t.version),i===t;case"!==":return typeof i=="object"&&(i=i.version),typeof t=="object"&&(t=t.version),i!==t;case"":case"=":case"==":return d8(i,t,o);case"!=":return f8(i,t,o);case">":return p8(i,t,o);case">=":return h8(i,t,o);case"<":return m8(i,t,o);case"<=":return _8(i,t,o);default:throw new TypeError(`Invalid operator: ${e}`)}};nL.exports=E8});var oL=S((f_e,iL)=>{var S8=at(),g8=Ai(),{safeRe:Zu,t:ed}=bo(),T8=(i,e)=>{if(i instanceof S8)return i;if(typeof i=="number"&&(i=String(i)),typeof i!="string")return null;e=e||{};let t=null;if(!e.rtl)t=i.match(e.includePrerelease?Zu[ed.COERCEFULL]:Zu[ed.COERCE]);else{let l=e.includePrerelease?Zu[ed.COERCERTLFULL]:Zu[ed.COERCERTL],c;for(;(c=l.exec(i))&&(!t||t.index+t[0].length!==i.length);)(!t||c.index+c[0].length!==t.index+t[0].length)&&(t=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(t===null)return null;let o=t[2],s=t[3]||"0",a=t[4]||"0",n=e.includePrerelease&&t[5]?`-${t[5]}`:"",r=e.includePrerelease&&t[6]?`+${t[6]}`:"";return g8(`${o}.${s}.${a}${n}${r}`,e)};iL.exports=T8});var aL=S((p_e,sL)=>{var A_=class{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(t!==void 0)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&t!==void 0){if(this.map.size>=this.max){let s=this.map.keys().next().value;this.delete(s)}this.map.set(e,t)}return this}};sL.exports=A_});var jt=S((h_e,dL)=>{var O_=class i{constructor(e,t){if(t=v8(t),e instanceof i)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new i(e.raw,t);if(e instanceof R_)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(o=>this.parseRange(o.trim())).filter(o=>o.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let o=this.set[0];if(this.set=this.set.filter(s=>!cL(s[0])),this.set.length===0)this.set=[o];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&x8(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let o=((this.options.includePrerelease&&C8)|(this.options.loose&&N8))+":"+e,s=lL.get(o);if(s)return s;let a=this.options.loose,n=a?At[ht.HYPHENRANGELOOSE]:At[ht.HYPHENRANGE];e=e.replace(n,V8(this.options.includePrerelease)),Ce("hyphen replace",e),e=e.replace(At[ht.COMPARATORTRIM],O8),Ce("comparator trim",e),e=e.replace(At[ht.TILDETRIM],R8),Ce("tilde trim",e),e=e.replace(At[ht.CARETTRIM],b8),Ce("caret trim",e);let r=e.split(" ").map(d=>P8(d,this.options)).join(" ").split(/\s+/).map(d=>B8(d,this.options));a&&(r=r.filter(d=>(Ce("loose invalid filter",d,this.options),!!d.match(At[ht.COMPARATORLOOSE])))),Ce("range list",r);let l=new Map,c=r.map(d=>new R_(d,this.options));for(let d of c){if(cL(d))return[d];l.set(d.value,d)}l.size>1&&l.has("")&&l.delete("");let u=[...l.values()];return lL.set(o,u),u}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Range is required");return this.set.some(o=>uL(o,t)&&e.set.some(s=>uL(s,t)&&o.every(a=>s.every(n=>a.intersects(n,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new A8(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(F8(this.set[t],e,this.options))return!0;return!1}};dL.exports=O_;var y8=aL(),lL=new y8,v8=$u(),R_=Fa(),Ce=Ba(),A8=at(),{safeRe:At,t:ht,comparatorTrimReplace:O8,tildeTrimReplace:R8,caretTrimReplace:b8}=bo(),{FLAG_INCLUDE_PRERELEASE:C8,FLAG_LOOSE:N8}=ka(),cL=i=>i.value==="<0.0.0-0",x8=i=>i.value==="",uL=(i,e)=>{let t=!0,o=i.slice(),s=o.pop();for(;t&&o.length;)t=o.every(a=>s.intersects(a,e)),s=o.pop();return t},P8=(i,e)=>(Ce("comp",i,e),i=L8(i,e),Ce("caret",i),i=I8(i,e),Ce("tildes",i),i=D8(i,e),Ce("xrange",i),i=k8(i,e),Ce("stars",i),i),mt=i=>!i||i.toLowerCase()==="x"||i==="*",I8=(i,e)=>i.trim().split(/\s+/).map(t=>M8(t,e)).join(" "),M8=(i,e)=>{let t=e.loose?At[ht.TILDELOOSE]:At[ht.TILDE];return i.replace(t,(o,s,a,n,r)=>{Ce("tilde",i,o,s,a,n,r);let l;return mt(s)?l="":mt(a)?l=`>=${s}.0.0 <${+s+1}.0.0-0`:mt(n)?l=`>=${s}.${a}.0 <${s}.${+a+1}.0-0`:r?(Ce("replaceTilde pr",r),l=`>=${s}.${a}.${n}-${r} <${s}.${+a+1}.0-0`):l=`>=${s}.${a}.${n} <${s}.${+a+1}.0-0`,Ce("tilde return",l),l})},L8=(i,e)=>i.trim().split(/\s+/).map(t=>w8(t,e)).join(" "),w8=(i,e)=>{Ce("caret",i,e);let t=e.loose?At[ht.CARETLOOSE]:At[ht.CARET],o=e.includePrerelease?"-0":"";return i.replace(t,(s,a,n,r,l)=>{Ce("caret",i,s,a,n,r,l);let c;return mt(a)?c="":mt(n)?c=`>=${a}.0.0${o} <${+a+1}.0.0-0`:mt(r)?a==="0"?c=`>=${a}.${n}.0${o} <${a}.${+n+1}.0-0`:c=`>=${a}.${n}.0${o} <${+a+1}.0.0-0`:l?(Ce("replaceCaret pr",l),a==="0"?n==="0"?c=`>=${a}.${n}.${r}-${l} <${a}.${n}.${+r+1}-0`:c=`>=${a}.${n}.${r}-${l} <${a}.${+n+1}.0-0`:c=`>=${a}.${n}.${r}-${l} <${+a+1}.0.0-0`):(Ce("no pr"),a==="0"?n==="0"?c=`>=${a}.${n}.${r}${o} <${a}.${n}.${+r+1}-0`:c=`>=${a}.${n}.${r}${o} <${a}.${+n+1}.0-0`:c=`>=${a}.${n}.${r} <${+a+1}.0.0-0`),Ce("caret return",c),c})},D8=(i,e)=>(Ce("replaceXRanges",i,e),i.split(/\s+/).map(t=>U8(t,e)).join(" ")),U8=(i,e)=>{i=i.trim();let t=e.loose?At[ht.XRANGELOOSE]:At[ht.XRANGE];return i.replace(t,(o,s,a,n,r,l)=>{Ce("xRange",i,o,s,a,n,r,l);let c=mt(a),u=c||mt(n),d=u||mt(r),_=d;return s==="="&&_&&(s=""),l=e.includePrerelease?"-0":"",c?s===">"||s==="<"?o="<0.0.0-0":o="*":s&&_?(u&&(n=0),r=0,s===">"?(s=">=",u?(a=+a+1,n=0,r=0):(n=+n+1,r=0)):s==="<="&&(s="<",u?a=+a+1:n=+n+1),s==="<"&&(l="-0"),o=`${s+a}.${n}.${r}${l}`):u?o=`>=${a}.0.0${l} <${+a+1}.0.0-0`:d&&(o=`>=${a}.${n}.0${l} <${a}.${+n+1}.0-0`),Ce("xRange return",o),o})},k8=(i,e)=>(Ce("replaceStars",i,e),i.trim().replace(At[ht.STAR],"")),B8=(i,e)=>(Ce("replaceGTE0",i,e),i.trim().replace(At[e.includePrerelease?ht.GTE0PRE:ht.GTE0],"")),V8=i=>(e,t,o,s,a,n,r,l,c,u,d,_)=>(mt(o)?t="":mt(s)?t=`>=${o}.0.0${i?"-0":""}`:mt(a)?t=`>=${o}.${s}.0${i?"-0":""}`:n?t=`>=${t}`:t=`>=${t}${i?"-0":""}`,mt(c)?l="":mt(u)?l=`<${+c+1}.0.0-0`:mt(d)?l=`<${c}.${+u+1}.0-0`:_?l=`<=${c}.${u}.${d}-${_}`:i?l=`<${c}.${u}.${+d+1}-0`:l=`<=${l}`,`${t} ${l}`.trim()),F8=(i,e,t)=>{for(let o=0;o<i.length;o++)if(!i[o].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let o=0;o<i.length;o++)if(Ce(i[o].semver),i[o].semver!==R_.ANY&&i[o].semver.prerelease.length>0){let s=i[o].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var Fa=S((m_e,EL)=>{var qa=Symbol("SemVer ANY"),N_=class i{static get ANY(){return qa}constructor(e,t){if(t=fL(t),e instanceof i){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),C_("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===qa?this.value="":this.value=this.operator+this.semver.version,C_("comp",this)}parse(e){let t=this.options.loose?pL[hL.COMPARATORLOOSE]:pL[hL.COMPARATOR],o=e.match(t);if(!o)throw new TypeError(`Invalid comparator: ${e}`);this.operator=o[1]!==void 0?o[1]:"",this.operator==="="&&(this.operator=""),o[2]?this.semver=new mL(o[2],this.options.loose):this.semver=qa}toString(){return this.value}test(e){if(C_("Comparator.test",e,this.options.loose),this.semver===qa||e===qa)return!0;if(typeof e=="string")try{e=new mL(e,this.options)}catch{return!1}return b_(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new _L(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new _L(this.value,t).test(e.semver):(t=fL(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||b_(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||b_(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};EL.exports=N_;var fL=$u(),{safeRe:pL,t:hL}=bo(),b_=v_(),C_=Ba(),mL=at(),_L=jt()});var Ga=S((__e,SL)=>{var q8=jt(),G8=(i,e,t)=>{try{e=new q8(e,t)}catch{return!1}return e.test(i)};SL.exports=G8});var TL=S((E_e,gL)=>{var H8=jt(),j8=(i,e)=>new H8(i,e).set.map(t=>t.map(o=>o.value).join(" ").trim().split(" "));gL.exports=j8});var vL=S((S_e,yL)=>{var z8=at(),$8=jt(),Y8=(i,e,t)=>{let o=null,s=null,a=null;try{a=new $8(e,t)}catch{return null}return i.forEach(n=>{a.test(n)&&(!o||s.compare(n)===-1)&&(o=n,s=new z8(o,t))}),o};yL.exports=Y8});var OL=S((g_e,AL)=>{var K8=at(),W8=jt(),X8=(i,e,t)=>{let o=null,s=null,a=null;try{a=new W8(e,t)}catch{return null}return i.forEach(n=>{a.test(n)&&(!o||s.compare(n)===1)&&(o=n,s=new K8(o,t))}),o};AL.exports=X8});var CL=S((T_e,bL)=>{var x_=at(),J8=jt(),RL=Va(),Q8=(i,e)=>{i=new J8(i,e);let t=new x_("0.0.0");if(i.test(t)||(t=new x_("0.0.0-0"),i.test(t)))return t;t=null;for(let o=0;o<i.set.length;++o){let s=i.set[o],a=null;s.forEach(n=>{let r=new x_(n.semver.version);switch(n.operator){case">":r.prerelease.length===0?r.patch++:r.prerelease.push(0),r.raw=r.format();case"":case">=":(!a||RL(r,a))&&(a=r);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${n.operator}`)}}),a&&(!t||RL(t,a))&&(t=a)}return t&&i.test(t)?t:null};bL.exports=Q8});var xL=S((y_e,NL)=>{var Z8=jt(),e5=(i,e)=>{try{return new Z8(i,e).range||"*"}catch{return null}};NL.exports=e5});var td=S((v_e,LL)=>{var t5=at(),ML=Fa(),{ANY:r5}=ML,n5=jt(),i5=Ga(),PL=Va(),IL=Xu(),o5=Qu(),s5=Ju(),a5=(i,e,t,o)=>{i=new t5(i,o),e=new n5(e,o);let s,a,n,r,l;switch(t){case">":s=PL,a=o5,n=IL,r=">",l=">=";break;case"<":s=IL,a=s5,n=PL,r="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i5(i,e,o))return!1;for(let c=0;c<e.set.length;++c){let u=e.set[c],d=null,_=null;if(u.forEach(E=>{E.semver===r5&&(E=new ML(">=0.0.0")),d=d||E,_=_||E,s(E.semver,d.semver,o)?d=E:n(E.semver,_.semver,o)&&(_=E)}),d.operator===r||d.operator===l||(!_.operator||_.operator===r)&&a(i,_.semver))return!1;if(_.operator===l&&n(i,_.semver))return!1}return!0};LL.exports=a5});var DL=S((A_e,wL)=>{var l5=td(),c5=(i,e,t)=>l5(i,e,">",t);wL.exports=c5});var kL=S((O_e,UL)=>{var u5=td(),d5=(i,e,t)=>u5(i,e,"<",t);UL.exports=d5});var FL=S((R_e,VL)=>{var BL=jt(),f5=(i,e,t)=>(i=new BL(i,t),e=new BL(e,t),i.intersects(e,t));VL.exports=f5});var GL=S((b_e,qL)=>{var p5=Ga(),h5=Ht();qL.exports=(i,e,t)=>{let o=[],s=null,a=null,n=i.sort((u,d)=>h5(u,d,t));for(let u of n)p5(u,e,t)?(a=u,s||(s=u)):(a&&o.push([s,a]),a=null,s=null);s&&o.push([s,null]);let r=[];for(let[u,d]of o)u===d?r.push(u):!d&&u===n[0]?r.push("*"):d?u===n[0]?r.push(`<=${d}`):r.push(`${u} - ${d}`):r.push(`>=${u}`);let l=r.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e}});var KL=S((C_e,YL)=>{var HL=jt(),I_=Fa(),{ANY:P_}=I_,Ha=Ga(),M_=Ht(),m5=(i,e,t={})=>{if(i===e)return!0;i=new HL(i,t),e=new HL(e,t);let o=!1;e:for(let s of i.set){for(let a of e.set){let n=E5(s,a,t);if(o=o||n!==null,n)continue e}if(o)return!1}return!0},_5=[new I_(">=0.0.0-0")],jL=[new I_(">=0.0.0")],E5=(i,e,t)=>{if(i===e)return!0;if(i.length===1&&i[0].semver===P_){if(e.length===1&&e[0].semver===P_)return!0;t.includePrerelease?i=_5:i=jL}if(e.length===1&&e[0].semver===P_){if(t.includePrerelease)return!0;e=jL}let o=new Set,s,a;for(let E of i)E.operator===">"||E.operator===">="?s=zL(s,E,t):E.operator==="<"||E.operator==="<="?a=$L(a,E,t):o.add(E.semver);if(o.size>1)return null;let n;if(s&&a){if(n=M_(s.semver,a.semver,t),n>0)return null;if(n===0&&(s.operator!==">="||a.operator!=="<="))return null}for(let E of o){if(s&&!Ha(E,String(s),t)||a&&!Ha(E,String(a),t))return null;for(let A of e)if(!Ha(E,String(A),t))return!1;return!0}let r,l,c,u,d=a&&!t.includePrerelease&&a.semver.prerelease.length?a.semver:!1,_=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1;d&&d.prerelease.length===1&&a.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let E of e){if(u=u||E.operator===">"||E.operator===">=",c=c||E.operator==="<"||E.operator==="<=",s){if(_&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===_.major&&E.semver.minor===_.minor&&E.semver.patch===_.patch&&(_=!1),E.operator===">"||E.operator===">="){if(r=zL(s,E,t),r===E&&r!==s)return!1}else if(s.operator===">="&&!Ha(s.semver,String(E),t))return!1}if(a){if(d&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===d.major&&E.semver.minor===d.minor&&E.semver.patch===d.patch&&(d=!1),E.operator==="<"||E.operator==="<="){if(l=$L(a,E,t),l===E&&l!==a)return!1}else if(a.operator==="<="&&!Ha(a.semver,String(E),t))return!1}if(!E.operator&&(a||s)&&n!==0)return!1}return!(s&&c&&!a&&n!==0||a&&u&&!s&&n!==0||_||d)},zL=(i,e,t)=>{if(!i)return e;let o=M_(i.semver,e.semver,t);return o>0?i:o<0||e.operator===">"&&i.operator===">="?e:i},$L=(i,e,t)=>{if(!i)return e;let o=M_(i.semver,e.semver,t);return o<0?i:o>0||e.operator==="<"&&i.operator==="<="?e:i};YL.exports=m5});var w_=S((N_e,JL)=>{var L_=bo(),WL=ka(),S5=at(),XL=S_(),g5=Ai(),T5=vM(),y5=OM(),v5=CM(),A5=PM(),O5=MM(),R5=wM(),b5=UM(),C5=BM(),N5=Ht(),x5=GM(),P5=jM(),I5=Wu(),M5=KM(),L5=XM(),w5=Va(),D5=Xu(),U5=T_(),k5=y_(),B5=Ju(),V5=Qu(),F5=v_(),q5=oL(),G5=Fa(),H5=jt(),j5=Ga(),z5=TL(),$5=vL(),Y5=OL(),K5=CL(),W5=xL(),X5=td(),J5=DL(),Q5=kL(),Z5=FL(),eK=GL(),tK=KL();JL.exports={parse:g5,valid:T5,clean:y5,inc:v5,diff:A5,major:O5,minor:R5,patch:b5,prerelease:C5,compare:N5,rcompare:x5,compareLoose:P5,compareBuild:I5,sort:M5,rsort:L5,gt:w5,lt:D5,eq:U5,neq:k5,gte:B5,lte:V5,cmp:F5,coerce:q5,Comparator:G5,Range:H5,satisfies:j5,toComparators:z5,maxSatisfying:$5,minSatisfying:Y5,minVersion:K5,validRange:W5,outside:X5,gtr:J5,ltr:Q5,intersects:Z5,simplifyRange:eK,subset:tK,SemVer:S5,re:L_.re,src:L_.src,tokens:L_.t,SEMVER_SPEC_VERSION:WL.SEMVER_SPEC_VERSION,RELEASE_TYPES:WL.RELEASE_TYPES,compareIdentifiers:XL.compareIdentifiers,rcompareIdentifiers:XL.rcompareIdentifiers}});function iK(i){var e=decodeURIComponent(i).split(":");if(e.length!==4)return null;var t=ZL(e,4),o=t[0],s=t[1],a=t[3],n=o.padStart(32,"0"),r=s.padStart(16,"0"),l=nK.test(a)?parseInt(a,16)&1:1;return{traceId:n,spanId:r,isRemote:!0,traceFlags:l}}var QL,ZL,ew,D_,rK,nK,tw=m(()=>{w();W();QL=function(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],o=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZL=function(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var o=t.call(i),s,a=[],n;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(r){n={error:r}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(n)throw n.error}}return a},ew="uber-trace-id",D_="uberctx",rK=function(){function i(e){typeof e=="string"?(this._jaegerTraceHeader=e,this._jaegerBaggageHeaderPrefix=D_):(this._jaegerTraceHeader=(e==null?void 0:e.customTraceHeader)||ew,this._jaegerBaggageHeaderPrefix=(e==null?void 0:e.customBaggageHeaderPrefix)||D_)}return i.prototype.inject=function(e,t,o){var s,a,n=fe.getSpanContext(e),r=vt.getBaggage(e);if(n&&dt(e)===!1){var l="0"+(n.traceFlags||he.NONE).toString(16);o.set(t,this._jaegerTraceHeader,n.traceId+":"+n.spanId+":0:"+l)}if(r)try{for(var c=QL(r.getAllEntries()),u=c.next();!u.done;u=c.next()){var d=ZL(u.value,2),_=d[0],E=d[1];o.set(t,this._jaegerBaggageHeaderPrefix+"-"+_,encodeURIComponent(E.value))}}catch(A){s={error:A}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(s)throw s.error}}},i.prototype.extract=function(e,t,o){var s,a,n=this,r,l=o.get(t,this._jaegerTraceHeader),c=Array.isArray(l)?l[0]:l,u=o.keys(t).filter(function(O){return O.startsWith(n._jaegerBaggageHeaderPrefix+"-")}).map(function(O){var C=o.get(t,O);return{key:O.substring(n._jaegerBaggageHeaderPrefix.length+1),value:Array.isArray(C)?C[0]:C}}),d=e;if(typeof c=="string"){var _=iK(c);_&&(d=fe.setSpanContext(d,_))}if(u.length===0)return d;var E=(r=vt.getBaggage(e))!==null&&r!==void 0?r:vt.createBaggage();try{for(var A=QL(u),T=A.next();!T.done;T=A.next()){var R=T.value;R.value!==void 0&&(E=E.setEntry(R.key,{value:decodeURIComponent(R.value)}))}}catch(O){s={error:O}}finally{try{T&&!T.done&&(a=A.return)&&a.call(A)}finally{if(s)throw s.error}}return d=vt.setBaggage(d,E),d},i.prototype.fields=function(){return[this._jaegerTraceHeader]},i}(),nK=/^[0-9a-f]{1,2}$/i});var rw={};Ie(rw,{JaegerPropagator:()=>rK,UBER_BAGGAGE_HEADER_PREFIX:()=>D_,UBER_TRACE_ID_HEADER:()=>ew});var nw=m(()=>{tw()});var sw=S(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.NodeTracerProvider=void 0;var iw=LI(),rd=(VI(),ee(BI)),ow=(vi(),ee(Ro)),oK=w_(),sK=(nw(),ee(rw)),nd=class extends ow.BasicTracerProvider{constructor(e={}){super(e)}register(e={}){if(e.contextManager===void 0){let t=oK.gte(process.version,"14.8.0")?iw.AsyncLocalStorageContextManager:iw.AsyncHooksContextManager;e.contextManager=new t,e.contextManager.enable()}super.register(e)}};id.NodeTracerProvider=nd;nd._registeredPropagators=new Map([...ow.BasicTracerProvider._registeredPropagators,["b3",()=>new rd.B3Propagator({injectEncoding:rd.B3InjectEncoding.SINGLE_HEADER})],["b3multi",()=>new rd.B3Propagator({injectEncoding:rd.B3InjectEncoding.MULTI_HEADER})],["jaeger",()=>new sK.JaegerPropagator]])});var od=S(An=>{"use strict";var aK=An&&An.__createBinding||(Object.create?function(i,e,t,o){o===void 0&&(o=t),Object.defineProperty(i,o,{enumerable:!0,get:function(){return e[t]}})}:function(i,e,t,o){o===void 0&&(o=t),i[o]=e[t]}),aw=An&&An.__exportStar||function(i,e){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&aK(e,i,t)};Object.defineProperty(An,"__esModule",{value:!0});aw(sw(),An);aw((vi(),ee(Ro)),An)});function lw(i,e,t,o){for(let s=0,a=i.length;s<a;s++){let n=i[s];e&&n.setTracerProvider(e),t&&n.setMeterProvider(t),o&&n.setLoggerProvider&&n.setLoggerProvider(o),n.getConfig().enabled||n.enable()}}function cw(i){i.forEach(e=>e.disable())}var uw=m(()=>{});function dw(i){var e,t;let o=i.tracerProvider||fe.getTracerProvider(),s=i.meterProvider||ii.getMeterProvider(),a=i.loggerProvider||ua.getLoggerProvider(),n=(t=(e=i.instrumentations)===null||e===void 0?void 0:e.flat())!==null&&t!==void 0?t:[];return lw(n,o,s,a),()=>{cw(n)}}var fw=m(()=>{w();da();uw()});var k_=S((F_e,mw)=>{"use strict";function U_(i){return typeof i=="function"}var _t=console.error.bind(console);function ja(i,e,t){var o=!!i[e]&&i.propertyIsEnumerable(e);Object.defineProperty(i,e,{configurable:!0,enumerable:o,writable:!0,value:t})}function za(i){i&&i.logger&&(U_(i.logger)?_t=i.logger:_t("new logger isn't a function, not replacing"))}function pw(i,e,t){if(!i||!i[e]){_t("no original function "+e+" to wrap");return}if(!t){_t("no wrapper function"),_t(new Error().stack);return}if(!U_(i[e])||!U_(t)){_t("original object and wrapper must be functions");return}var o=i[e],s=t(o,e);return ja(s,"__original",o),ja(s,"__unwrap",function(){i[e]===s&&ja(i,e,o)}),ja(s,"__wrapped",!0),ja(i,e,s),s}function lK(i,e,t){if(i)Array.isArray(i)||(i=[i]);else{_t("must provide one or more modules to patch"),_t(new Error().stack);return}if(!(e&&Array.isArray(e))){_t("must provide one or more functions to wrap on modules");return}i.forEach(function(o){e.forEach(function(s){pw(o,s,t)})})}function hw(i,e){if(!i||!i[e]){_t("no function to unwrap."),_t(new Error().stack);return}if(!i[e].__unwrap)_t("no original to unwrap to -- has "+e+" already been unwrapped?");else return i[e].__unwrap()}function cK(i,e){if(i)Array.isArray(i)||(i=[i]);else{_t("must provide one or more modules to patch"),_t(new Error().stack);return}if(!(e&&Array.isArray(e))){_t("must provide one or more functions to unwrap on modules");return}i.forEach(function(t){e.forEach(function(o){hw(t,o)})})}za.wrap=pw;za.massWrap=lK;za.unwrap=hw;za.massUnwrap=cK;mw.exports=za});var On,sd,_w=m(()=>{w();da();On=pn(k_()),sd=class{constructor(e,t,o){this.instrumentationName=e,this.instrumentationVersion=t,this._wrap=On.wrap,this._unwrap=On.unwrap,this._massWrap=On.massWrap,this._massUnwrap=On.massUnwrap,this._config=Object.assign({enabled:!0},o),this._diag=v.createComponentLogger({namespace:e}),this._tracer=fe.getTracer(e,t),this._meter=ii.getMeter(e,t),this._logger=ua.getLogger(e,t),this._updateMetricInstruments()}get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}get logger(){return this._logger}setLoggerProvider(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)}getModuleDefinitions(){var e;let t=(e=this.init())!==null&&e!==void 0?e:[];return Array.isArray(t)?t:[t]}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e){this._config=Object.assign({},e)}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}_runSpanCustomizationHook(e,t,o,s){if(e)try{e(o,s)}catch(a){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},a)}}}});var B_=S((j_e,Ew)=>{"use strict";var uK=F("os");Ew.exports=uK.homedir||function(){var e=process.env.HOME,t=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return process.platform==="win32"?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||e||null:process.platform==="darwin"?e||(t?"/Users/"+t:null):process.platform==="linux"?e||(process.getuid()===0?"/root":t?"/home/"+t:null):e||null}});var V_=S((z_e,Sw)=>{Sw.exports=function(){var i=Error.prepareStackTrace;Error.prepareStackTrace=function(t,o){return o};var e=new Error().stack;return Error.prepareStackTrace=i,e[2].getFileName()}});var gw=S(($_e,$a)=>{"use strict";var dK=process.platform==="win32",fK=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,F_={};function pK(i){return fK.exec(i).slice(1)}F_.parse=function(i){if(typeof i!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof i);var e=pK(i);if(!e||e.length!==5)throw new TypeError("Invalid path '"+i+"'");return{root:e[1],dir:e[0]===e[1]?e[0]:e[0].slice(0,-1),base:e[2],ext:e[4],name:e[3]}};var hK=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,q_={};function mK(i){return hK.exec(i).slice(1)}q_.parse=function(i){if(typeof i!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof i);var e=mK(i);if(!e||e.length!==5)throw new TypeError("Invalid path '"+i+"'");return{root:e[1],dir:e[0].slice(0,-1),base:e[2],ext:e[4],name:e[3]}};dK?$a.exports=F_.parse:$a.exports=q_.parse;$a.exports.posix=q_.parse;$a.exports.win32=F_.parse});var G_=S((Y_e,Aw)=>{var vw=F("path"),Tw=vw.parse||gw(),yw=function(e,t){var o="/";/^([A-Za-z]:)/.test(e)?o="":/^\\\\/.test(e)&&(o="\\\\");for(var s=[e],a=Tw(e);a.dir!==s[s.length-1];)s.push(a.dir),a=Tw(a.dir);return s.reduce(function(n,r){return n.concat(t.map(function(l){return vw.resolve(o,r,l)}))},[])};Aw.exports=function(e,t,o){var s=t&&t.moduleDirectory?[].concat(t.moduleDirectory):["node_modules"];if(t&&typeof t.paths=="function")return t.paths(o,e,function(){return yw(e,s)},t);var a=yw(e,s);return t&&t.paths?a.concat(t.paths):a}});var H_=S((K_e,Ow)=>{Ow.exports=function(i,e){return e||{}}});var bw=S((W_e,Rw)=>{"use strict";var _K="Function.prototype.bind called on incompatible ",j_=Array.prototype.slice,EK=Object.prototype.toString,SK="[object Function]";Rw.exports=function(e){var t=this;if(typeof t!="function"||EK.call(t)!==SK)throw new TypeError(_K+t);for(var o=j_.call(arguments,1),s,a=function(){if(this instanceof s){var u=t.apply(this,o.concat(j_.call(arguments)));return Object(u)===u?u:this}else return t.apply(e,o.concat(j_.call(arguments)))},n=Math.max(0,t.length-o.length),r=[],l=0;l<n;l++)r.push("$"+l);if(s=Function("binder","return function ("+r.join(",")+"){ return binder.apply(this,arguments); }")(a),t.prototype){var c=function(){};c.prototype=t.prototype,s.prototype=new c,c.prototype=null}return s}});var Nw=S((X_e,Cw)=>{"use strict";var gK=bw();Cw.exports=Function.prototype.bind||gK});var Pw=S((J_e,xw)=>{"use strict";var TK=Nw();xw.exports=TK.call(Function.call,Object.prototype.hasOwnProperty)});var Iw=S((Q_e,yK)=>{yK.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":[">= 19.9",">= 20"],"node:test/reporters":[">= 19.9",">= 20"],"node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:[">= 13.4 && < 13.5",">= 20"],"node:wasi":">= 20",worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var Ya=S((Z_e,ww)=>{"use strict";var vK=Pw();function AK(i,e){for(var t=i.split("."),o=e.split(" "),s=o.length>1?o[0]:"=",a=(o.length>1?o[1]:o[0]).split("."),n=0;n<3;++n){var r=parseInt(t[n]||0,10),l=parseInt(a[n]||0,10);if(r!==l)return s==="<"?r<l:s===">="?r>=l:!1}return s===">="}function Mw(i,e){var t=e.split(/ ?&& ?/);if(t.length===0)return!1;for(var o=0;o<t.length;++o)if(!AK(i,t[o]))return!1;return!0}function OK(i,e){if(typeof e=="boolean")return e;var t=typeof i>"u"?process.versions&&process.versions.node:i;if(typeof t!="string")throw new TypeError(typeof i>"u"?"Unable to determine current node version":"If provided, a valid node version is required");if(e&&typeof e=="object"){for(var o=0;o<e.length;++o)if(Mw(t,e[o]))return!0;return!1}return Mw(t,e)}var Lw=Iw();ww.exports=function(e,t){return vK(Lw,e)&&OK(t,Lw[e])}});var kw=S((eEe,Uw)=>{var Oi=F("fs"),RK=B_(),Ve=F("path"),bK=V_(),CK=G_(),NK=H_(),xK=Ya(),PK=process.platform!=="win32"&&Oi.realpath&&typeof Oi.realpath.native=="function"?Oi.realpath.native:Oi.realpath,Dw=RK(),IK=function(){return[Ve.join(Dw,".node_modules"),Ve.join(Dw,".node_libraries")]},MK=function(e,t){Oi.stat(e,function(o,s){return o?o.code==="ENOENT"||o.code==="ENOTDIR"?t(null,!1):t(o):t(null,s.isFile()||s.isFIFO())})},LK=function(e,t){Oi.stat(e,function(o,s){return o?o.code==="ENOENT"||o.code==="ENOTDIR"?t(null,!1):t(o):t(null,s.isDirectory())})},wK=function(e,t){PK(e,function(o,s){o&&o.code!=="ENOENT"?t(o):t(null,o?e:s)})},Ka=function(e,t,o,s){o&&o.preserveSymlinks===!1?e(t,s):s(null,t)},DK=function(e,t,o){e(t,function(s,a){if(s)o(s);else try{var n=JSON.parse(a);o(null,n)}catch{o(null)}})},UK=function(e,t,o){for(var s=CK(t,o,e),a=0;a<s.length;a++)s[a]=Ve.join(s[a],e);return s};Uw.exports=function(e,t,o){var s=o,a=t;if(typeof t=="function"&&(s=a,a={}),typeof e!="string"){var n=new TypeError("Path must be a string.");return process.nextTick(function(){s(n)})}a=NK(e,a);var r=a.isFile||MK,l=a.isDirectory||LK,c=a.readFile||Oi.readFile,u=a.realpath||wK,d=a.readPackage||DK;if(a.readFile&&a.readPackage){var _=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick(function(){s(_)})}var E=a.packageIterator,A=a.extensions||[".js"],T=a.includeCoreModules!==!1,R=a.basedir||Ve.dirname(bK()),O=a.filename||R;a.paths=a.paths||IK();var C=Ve.resolve(R);Ka(u,C,a,function(y,B){y?s(y):I(B)});var L;function I(y){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e))L=Ve.resolve(y,e),(e==="."||e===".."||e.slice(-1)==="/")&&(L+="/"),/\/$/.test(e)&&L===y?oe(L,a.package,z):j(L,a.package,z);else{if(T&&xK(e))return s(null,e);le(e,y,function(B,b,h){if(B)s(B);else{if(b)return Ka(u,b,a,function(J,Q){J?s(J):s(null,Q,h)});var P=new Error("Cannot find module '"+e+"' from '"+O+"'");P.code="MODULE_NOT_FOUND",s(P)}})}}function z(y,B,b){y?s(y):B?s(null,B,b):oe(L,function(h,P,J){if(h)s(h);else if(P)Ka(u,P,a,function(K,ue){K?s(K):s(null,ue,J)});else{var Q=new Error("Cannot find module '"+e+"' from '"+O+"'");Q.code="MODULE_NOT_FOUND",s(Q)}})}function j(y,B,b){var h=B,P=b;typeof h=="function"&&(P=h,h=void 0);var J=[""].concat(A);Q(J,y,h);function Q(K,ue,de){if(K.length===0)return P(null,void 0,de);var xe=ue+K[0],ge=de;ge?se(null,ge):q(Ve.dirname(xe),se);function se(ye,we,it){if(ge=we,ye)return P(ye);if(it&&ge&&a.pathFilter){var De=Ve.relative(it,xe),x=De.slice(0,De.length-K[0].length),N=a.pathFilter(ge,ue,x);if(N)return Q([""].concat(A.slice()),Ve.resolve(it,N),ge)}r(xe,Le)}function Le(ye,we){if(ye)return P(ye);if(we)return P(null,xe,ge);Q(K.slice(1),ue,ge)}}}function q(y,B){if(y===""||y==="/"||process.platform==="win32"&&/^\w:[/\\]*$/.test(y)||/[/\\]node_modules[/\\]*$/.test(y))return B(null);Ka(u,y,a,function(b,h){if(b)return q(Ve.dirname(y),B);var P=Ve.join(h,"package.json");r(P,function(J,Q){if(!Q)return q(Ve.dirname(y),B);d(c,P,function(K,ue){K&&B(K);var de=ue;de&&a.packageFilter&&(de=a.packageFilter(de,P)),B(null,de,y)})})})}function oe(y,B,b){var h=b,P=B;typeof P=="function"&&(h=P,P=a.package),Ka(u,y,a,function(J,Q){if(J)return h(J);var K=Ve.join(Q,"package.json");r(K,function(ue,de){if(ue)return h(ue);if(!de)return j(Ve.join(y,"index"),P,h);d(c,K,function(xe,ge){if(xe)return h(xe);var se=ge;if(se&&a.packageFilter&&(se=a.packageFilter(se,K)),se&&se.main){if(typeof se.main!="string"){var Le=new TypeError("package \u201C"+se.name+"\u201D `main` must be a string");return Le.code="INVALID_PACKAGE_MAIN",h(Le)}(se.main==="."||se.main==="./")&&(se.main="index"),j(Ve.resolve(y,se.main),se,function(ye,we,it){if(ye)return h(ye);if(we)return h(null,we,it);if(!it)return j(Ve.join(y,"index"),it,h);var De=Ve.resolve(y,it.main);oe(De,it,function(x,N,M){if(x)return h(x);if(N)return h(null,N,M);j(Ve.join(y,"index"),M,h)})});return}j(Ve.join(y,"/index"),se,h)})})})}function Z(y,B){if(B.length===0)return y(null,void 0);var b=B[0];l(Ve.dirname(b),h);function h(Q,K){if(Q)return y(Q);if(!K)return Z(y,B.slice(1));j(b,a.package,P)}function P(Q,K,ue){if(Q)return y(Q);if(K)return y(null,K,ue);oe(b,a.package,J)}function J(Q,K,ue){if(Q)return y(Q);if(K)return y(null,K,ue);Z(y,B.slice(1))}}function le(y,B,b){var h=function(){return UK(y,B,a)};Z(b,E?E(y,B,h,a):h())}}});var Bw=S((tEe,kK)=>{kK.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:">= 13.4 && < 13.5",worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var Gw=S((rEe,qw)=>{"use strict";var BK=Ya(),Vw=Bw(),Fw={};for(ad in Vw)Object.prototype.hasOwnProperty.call(Vw,ad)&&(Fw[ad]=BK(ad));var ad;qw.exports=Fw});var jw=S((nEe,Hw)=>{var VK=Ya();Hw.exports=function(e){return VK(e)}});var Yw=S((iEe,$w)=>{var FK=Ya(),Ri=F("fs"),lt=F("path"),qK=B_(),GK=V_(),HK=G_(),jK=H_(),zK=process.platform!=="win32"&&Ri.realpathSync&&typeof Ri.realpathSync.native=="function"?Ri.realpathSync.native:Ri.realpathSync,zw=qK(),$K=function(){return[lt.join(zw,".node_modules"),lt.join(zw,".node_libraries")]},YK=function(e){try{var t=Ri.statSync(e,{throwIfNoEntry:!1})}catch(o){if(o&&(o.code==="ENOENT"||o.code==="ENOTDIR"))return!1;throw o}return!!t&&(t.isFile()||t.isFIFO())},KK=function(e){try{var t=Ri.statSync(e,{throwIfNoEntry:!1})}catch(o){if(o&&(o.code==="ENOENT"||o.code==="ENOTDIR"))return!1;throw o}return!!t&&t.isDirectory()},WK=function(e){try{return zK(e)}catch(t){if(t.code!=="ENOENT")throw t}return e},Wa=function(e,t,o){return o&&o.preserveSymlinks===!1?e(t):t},XK=function(e,t){var o=e(t);try{var s=JSON.parse(o);return s}catch{}},JK=function(e,t,o){for(var s=HK(t,o,e),a=0;a<s.length;a++)s[a]=lt.join(s[a],e);return s};$w.exports=function(e,t){if(typeof e!="string")throw new TypeError("Path must be a string.");var o=jK(e,t),s=o.isFile||YK,a=o.readFileSync||Ri.readFileSync,n=o.isDirectory||KK,r=o.realpathSync||WK,l=o.readPackageSync||XK;if(o.readFileSync&&o.readPackageSync)throw new TypeError("`readFileSync` and `readPackageSync` are mutually exclusive.");var c=o.packageIterator,u=o.extensions||[".js"],d=o.includeCoreModules!==!1,_=o.basedir||lt.dirname(GK()),E=o.filename||_;o.paths=o.paths||$K();var A=Wa(r,lt.resolve(_),o);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e)){var T=lt.resolve(A,e);(e==="."||e===".."||e.slice(-1)==="/")&&(T+="/");var R=L(T)||z(T);if(R)return Wa(r,R,o)}else{if(d&&FK(e))return e;var O=j(e,A);if(O)return Wa(r,O,o)}var C=new Error("Cannot find module '"+e+"' from '"+E+"'");throw C.code="MODULE_NOT_FOUND",C;function L(q){var oe=I(lt.dirname(q));if(oe&&oe.dir&&oe.pkg&&o.pathFilter){var Z=lt.relative(oe.dir,q),le=o.pathFilter(oe.pkg,q,Z);le&&(q=lt.resolve(oe.dir,le))}if(s(q))return q;for(var y=0;y<u.length;y++){var B=q+u[y];if(s(B))return B}}function I(q){if(!(q===""||q==="/")&&!(process.platform==="win32"&&/^\w:[/\\]*$/.test(q))&&!/[/\\]node_modules[/\\]*$/.test(q)){var oe=lt.join(Wa(r,q,o),"package.json");if(!s(oe))return I(lt.dirname(q));var Z=l(a,oe);return Z&&o.packageFilter&&(Z=o.packageFilter(Z,q)),{pkg:Z,dir:q}}}function z(q){var oe=lt.join(Wa(r,q,o),"/package.json");if(s(oe)){try{var Z=l(a,oe)}catch{}if(Z&&o.packageFilter&&(Z=o.packageFilter(Z,q)),Z&&Z.main){if(typeof Z.main!="string"){var le=new TypeError("package \u201C"+Z.name+"\u201D `main` must be a string");throw le.code="INVALID_PACKAGE_MAIN",le}(Z.main==="."||Z.main==="./")&&(Z.main="index");try{var y=L(lt.resolve(q,Z.main));if(y)return y;var B=z(lt.resolve(q,Z.main));if(B)return B}catch{}}}return L(lt.join(q,"/index"))}function j(q,oe){for(var Z=function(){return JK(q,oe,o)},le=c?c(q,oe,Z,o):Z(),y=0;y<le.length;y++){var B=le[y];if(n(lt.dirname(B))){var b=L(B);if(b)return b;var h=z(B);if(h)return h}}}}});var Ww=S((oEe,Kw)=>{var ld=kw();ld.core=Gw();ld.isCore=jw();ld.sync=Yw();Kw.exports=ld});var Jw=S((sEe,Xw)=>{var No=1e3,xo=No*60,Po=xo*60,bi=Po*24,QK=bi*7,ZK=bi*365.25;Xw.exports=function(i,e){e=e||{};var t=typeof i;if(t==="string"&&i.length>0)return eW(i);if(t==="number"&&isFinite(i))return e.long?rW(i):tW(i);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(i))};function eW(i){if(i=String(i),!(i.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i);if(e){var t=parseFloat(e[1]),o=(e[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return t*ZK;case"weeks":case"week":case"w":return t*QK;case"days":case"day":case"d":return t*bi;case"hours":case"hour":case"hrs":case"hr":case"h":return t*Po;case"minutes":case"minute":case"mins":case"min":case"m":return t*xo;case"seconds":case"second":case"secs":case"sec":case"s":return t*No;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function tW(i){var e=Math.abs(i);return e>=bi?Math.round(i/bi)+"d":e>=Po?Math.round(i/Po)+"h":e>=xo?Math.round(i/xo)+"m":e>=No?Math.round(i/No)+"s":i+"ms"}function rW(i){var e=Math.abs(i);return e>=bi?cd(i,e,bi,"day"):e>=Po?cd(i,e,Po,"hour"):e>=xo?cd(i,e,xo,"minute"):e>=No?cd(i,e,No,"second"):i+" ms"}function cd(i,e,t,o){var s=e>=t*1.5;return Math.round(i/t)+" "+o+(s?"s":"")}});var z_=S((aEe,Qw)=>{function nW(i){t.debug=t,t.default=t,t.coerce=l,t.disable=a,t.enable=s,t.enabled=n,t.humanize=Jw(),t.destroy=c,Object.keys(i).forEach(u=>{t[u]=i[u]}),t.names=[],t.skips=[],t.formatters={};function e(u){let d=0;for(let _=0;_<u.length;_++)d=(d<<5)-d+u.charCodeAt(_),d|=0;return t.colors[Math.abs(d)%t.colors.length]}t.selectColor=e;function t(u){let d,_=null,E,A;function T(...R){if(!T.enabled)return;let O=T,C=Number(new Date),L=C-(d||C);O.diff=L,O.prev=d,O.curr=C,d=C,R[0]=t.coerce(R[0]),typeof R[0]!="string"&&R.unshift("%O");let I=0;R[0]=R[0].replace(/%([a-zA-Z%])/g,(j,q)=>{if(j==="%%")return"%";I++;let oe=t.formatters[q];if(typeof oe=="function"){let Z=R[I];j=oe.call(O,Z),R.splice(I,1),I--}return j}),t.formatArgs.call(O,R),(O.log||t.log).apply(O,R)}return T.namespace=u,T.useColors=t.useColors(),T.color=t.selectColor(u),T.extend=o,T.destroy=t.destroy,Object.defineProperty(T,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(E!==t.namespaces&&(E=t.namespaces,A=t.enabled(u)),A),set:R=>{_=R}}),typeof t.init=="function"&&t.init(T),T}function o(u,d){let _=t(this.namespace+(typeof d>"u"?":":d)+u);return _.log=this.log,_}function s(u){t.save(u),t.namespaces=u,t.names=[],t.skips=[];let d,_=(typeof u=="string"?u:"").split(/[\s,]+/),E=_.length;for(d=0;d<E;d++)_[d]&&(u=_[d].replace(/\*/g,".*?"),u[0]==="-"?t.skips.push(new RegExp("^"+u.slice(1)+"$")):t.names.push(new RegExp("^"+u+"$")))}function a(){let u=[...t.names.map(r),...t.skips.map(r).map(d=>"-"+d)].join(",");return t.enable(""),u}function n(u){if(u[u.length-1]==="*")return!0;let d,_;for(d=0,_=t.skips.length;d<_;d++)if(t.skips[d].test(u))return!1;for(d=0,_=t.names.length;d<_;d++)if(t.names[d].test(u))return!0;return!1}function r(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}Qw.exports=nW});var Zw=S((Mt,ud)=>{Mt.formatArgs=oW;Mt.save=sW;Mt.load=aW;Mt.useColors=iW;Mt.storage=lW();Mt.destroy=(()=>{let i=!1;return()=>{i||(i=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Mt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function iW(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function oW(i){if(i[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+i[0]+(this.useColors?"%c ":" ")+"+"+ud.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;i.splice(1,0,e,"color: inherit");let t=0,o=0;i[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(t++,s==="%c"&&(o=t))}),i.splice(o,0,e)}Mt.log=console.debug||console.log||(()=>{});function sW(i){try{i?Mt.storage.setItem("debug",i):Mt.storage.removeItem("debug")}catch{}}function aW(){let i;try{i=Mt.storage.getItem("debug")}catch{}return!i&&typeof process<"u"&&"env"in process&&(i=process.env.DEBUG),i}function lW(){try{return localStorage}catch{}}ud.exports=z_()(Mt);var{formatters:cW}=ud.exports;cW.j=function(i){try{return JSON.stringify(i)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var t1=S((lEe,e1)=>{"use strict";e1.exports=(i,e=process.argv)=>{let t=i.startsWith("-")?"":i.length===1?"-":"--",o=e.indexOf(t+i),s=e.indexOf("--");return o!==-1&&(s===-1||o<s)}});var i1=S((cEe,n1)=>{"use strict";var uW=F("os"),r1=F("tty"),zt=t1(),{env:ze}=process,Rn;zt("no-color")||zt("no-colors")||zt("color=false")||zt("color=never")?Rn=0:(zt("color")||zt("colors")||zt("color=true")||zt("color=always"))&&(Rn=1);"FORCE_COLOR"in ze&&(ze.FORCE_COLOR==="true"?Rn=1:ze.FORCE_COLOR==="false"?Rn=0:Rn=ze.FORCE_COLOR.length===0?1:Math.min(parseInt(ze.FORCE_COLOR,10),3));function $_(i){return i===0?!1:{level:i,hasBasic:!0,has256:i>=2,has16m:i>=3}}function Y_(i,e){if(Rn===0)return 0;if(zt("color=16m")||zt("color=full")||zt("color=truecolor"))return 3;if(zt("color=256"))return 2;if(i&&!e&&Rn===void 0)return 0;let t=Rn||0;if(ze.TERM==="dumb")return t;if(process.platform==="win32"){let o=uW.release().split(".");return Number(o[0])>=10&&Number(o[2])>=10586?Number(o[2])>=14931?3:2:1}if("CI"in ze)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(o=>o in ze)||ze.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in ze)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(ze.TEAMCITY_VERSION)?1:0;if(ze.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in ze){let o=parseInt((ze.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(ze.TERM_PROGRAM){case"iTerm.app":return o>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(ze.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(ze.TERM)||"COLORTERM"in ze?1:t}function dW(i){let e=Y_(i,i&&i.isTTY);return $_(e)}n1.exports={supportsColor:dW,stdout:$_(Y_(!0,r1.isatty(1))),stderr:$_(Y_(!0,r1.isatty(2)))}});var s1=S((et,fd)=>{var fW=F("tty"),dd=F("util");et.init=gW;et.log=_W;et.formatArgs=hW;et.save=EW;et.load=SW;et.useColors=pW;et.destroy=dd.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");et.colors=[6,2,3,4,5,1];try{let i=i1();i&&(i.stderr||i).level>=2&&(et.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}et.inspectOpts=Object.keys(process.env).filter(i=>/^debug_/i.test(i)).reduce((i,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(s,a)=>a.toUpperCase()),o=process.env[e];return/^(yes|on|true|enabled)$/i.test(o)?o=!0:/^(no|off|false|disabled)$/i.test(o)?o=!1:o==="null"?o=null:o=Number(o),i[t]=o,i},{});function pW(){return"colors"in et.inspectOpts?!!et.inspectOpts.colors:fW.isatty(process.stderr.fd)}function hW(i){let{namespace:e,useColors:t}=this;if(t){let o=this.color,s="\x1B[3"+(o<8?o:"8;5;"+o),a=`  ${s};1m${e} \x1B[0m`;i[0]=a+i[0].split(`
`).join(`
`+a),i.push(s+"m+"+fd.exports.humanize(this.diff)+"\x1B[0m")}else i[0]=mW()+e+" "+i[0]}function mW(){return et.inspectOpts.hideDate?"":new Date().toISOString()+" "}function _W(...i){return process.stderr.write(dd.format(...i)+`
`)}function EW(i){i?process.env.DEBUG=i:delete process.env.DEBUG}function SW(){return process.env.DEBUG}function gW(i){i.inspectOpts={};let e=Object.keys(et.inspectOpts);for(let t=0;t<e.length;t++)i.inspectOpts[e[t]]=et.inspectOpts[e[t]]}fd.exports=z_()(et);var{formatters:o1}=fd.exports;o1.o=function(i){return this.inspectOpts.colors=this.useColors,dd.inspect(i,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};o1.O=function(i){return this.inspectOpts.colors=this.useColors,dd.inspect(i,this.inspectOpts)}});var a1=S((uEe,K_)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?K_.exports=Zw():K_.exports=s1()});var X_=S((dEe,l1)=>{"use strict";var W_=F("path");l1.exports=function(i){var e=i.split(W_.sep),t=e.lastIndexOf("node_modules");if(t!==-1&&e[t+1]){var o=e[t+1][0]==="@",s=o?e[t+1]+"/"+e[t+2]:e[t+1],a=o?3:2;return{name:s,basedir:e.slice(0,t+a).join(W_.sep),path:e.slice(t+a).join(W_.sep)}}}});var c1=S((fEe,TW)=>{TW.exports={name:"require-in-the-middle",version:"7.3.0",description:"Module to hook into the Node.js require function",main:"index.js",types:"types/index.d.ts",dependencies:{debug:"^4.1.1","module-details-from-path":"^1.0.3",resolve:"^1.22.1"},devDependencies:{"@babel/core":"^7.9.0","@babel/preset-env":"^7.9.5","@babel/preset-typescript":"^7.9.0","@babel/register":"^7.9.0","ipp-printer":"^1.0.0",patterns:"^1.0.3",roundround:"^0.2.0",semver:"^6.3.0",standard:"^14.3.1",tape:"^4.11.0"},scripts:{test:"npm run test:lint && npm run test:tape && npm run test:babel","test:lint":"standard","test:tape":"tape test/*.js","test:babel":"node test/babel/babel-register.js"},repository:{type:"git",url:"git+https://github.com/elastic/require-in-the-middle.git"},keywords:["require","hook","shim","shimmer","shimming","patch","monkey","monkeypatch","module","load"],files:["types"],author:"Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)",license:"MIT",bugs:{url:"https://github.com/elastic/require-in-the-middle/issues"},homepage:"https://github.com/elastic/require-in-the-middle#readme",engines:{node:">=8.6.0"}}});var eE=S((pEe,Z_)=>{"use strict";var Io=F("path"),en=F("module"),J_=Ww(),tt=a1()("require-in-the-middle"),yW=X_();Z_.exports=Ja;Z_.exports.Hook=Ja;var Xa;if(en.isBuiltin)Xa=en.isBuiltin;else{let[i,e]=process.versions.node.split(".").map(Number);i===8&&e<8?Xa=t=>t==="http2"?!0:!!J_.core[t]:Xa=t=>!!J_.core[t]}var vW=/([/\\]index)?(\.js)?$/,Q_=class{constructor(){this._localCache=new Map,this._kRitmExports=Symbol("RitmExports")}has(e,t){if(this._localCache.has(e))return!0;if(t)return!1;{let o=F.cache[e];return!!(o&&this._kRitmExports in o)}}get(e,t){let o=this._localCache.get(e);if(o!==void 0)return o;if(!t){let s=F.cache[e];return s&&s[this._kRitmExports]}}set(e,t,o){o?this._localCache.set(e,t):e in F.cache?F.cache[e][this._kRitmExports]=t:(tt('non-core module is unexpectedly not in require.cache: "%s"',e),this._localCache.set(e,t))}};function Ja(i,e,t){if(!(this instanceof Ja))return new Ja(i,e,t);if(typeof i=="function"?(t=i,i=null,e=null):typeof e=="function"&&(t=e,e=null),typeof en._resolveFilename!="function"){console.error("Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!",typeof en._resolveFilename),console.error("Please report this error as an issue related to Node.js %s at %s",process.version,c1().bugs.url);return}this._cache=new Q_,this._unhooked=!1,this._origRequire=en.prototype.require;let o=this,s=new Set,a=e?e.internals===!0:!1,n=Array.isArray(i);tt("registering require hook"),this._require=en.prototype.require=function(r){if(o._unhooked===!0)return tt("ignoring require call - module is soft-unhooked"),o._origRequire.apply(this,arguments);let l=Xa(r),c;if(l){if(c=r,r.startsWith("node:")){let T=r.slice(5);Xa(T)&&(c=T)}}else try{c=en._resolveFilename(r,this)}catch(T){return tt('Module._resolveFilename("%s") threw %j, calling original Module.require',r,T.message),o._origRequire.apply(this,arguments)}let u,d;if(tt("processing %s module require('%s'): %s",l===!0?"core":"non-core",r,c),o._cache.has(c,l)===!0)return tt("returning already patched cached module: %s",c),o._cache.get(c,l);let _=s.has(c);_===!1&&s.add(c);let E=o._origRequire.apply(this,arguments);if(_===!0)return tt("module is in the process of being patched already - ignoring: %s",c),E;if(s.delete(c),l===!0){if(n===!0&&i.includes(c)===!1)return tt("ignoring core module not on whitelist: %s",c),E;u=c}else if(n===!0&&i.includes(c)){let T=Io.parse(c);u=T.name,d=T.dir}else{let T=yW(c);if(T===void 0)return tt("could not parse filename: %s",c),E;u=T.name,d=T.basedir;let R=AW(T);tt("resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)",u,r,R,d);let O=!1;if(n){if(!r.startsWith(".")&&i.includes(r)&&(u=r,O=!0),!i.includes(u)&&!i.includes(R))return E;i.includes(R)&&R!==u&&(u=R,O=!0)}if(!O){let C;try{C=J_.sync(u,{basedir:d})}catch{return tt("could not resolve module: %s",u),o._cache.set(c,E,l),E}if(C!==c)if(a===!0)u=u+Io.sep+Io.relative(d,c),tt("preparing to process require of internal file: %s",u);else return tt("ignoring require of non-main module file: %s",C),o._cache.set(c,E,l),E}}o._cache.set(c,E,l),tt("calling require hook: %s",u);let A=t(E,u,d);return o._cache.set(c,A,l),tt("returning module: %s",u),A}}Ja.prototype.unhook=function(){this._unhooked=!0,this._require===en.prototype.require?(en.prototype.require=this._origRequire,tt("unhook successful")):tt("unhook unsuccessful")};function AW(i){let e=Io.sep!=="/"?i.path.split(Io.sep).join("/"):i.path;return Io.posix.join(i.name,e).replace(vW,"")}});var Qa,pd,hd,u1=m(()=>{Qa="/",pd=class{constructor(){this.hooks=[],this.children=new Map}},hd=class{constructor(){this._trie=new pd,this._counter=0}insert(e){let t=this._trie;for(let o of e.moduleName.split(Qa)){let s=t.children.get(o);s||(s=new pd,t.children.set(o,s)),t=s}t.hooks.push({hook:e,insertedId:this._counter++})}search(e,{maintainInsertionOrder:t,fullOnly:o}={}){let s=this._trie,a=[],n=!0;for(let r of e.split(Qa)){let l=s.children.get(r);if(!l){n=!1;break}o||a.push(...l.hooks),s=l}return o&&n&&a.push(...s.hooks),a.length===0?[]:a.length===1?[a[0].hook]:(t&&a.sort((r,l)=>r.insertedId-l.insertedId),a.map(({hook:r})=>r))}}});import*as tE from"path";function RW(i){return tE.sep!==Qa?i.split(tE.sep).join(Qa):i}var d1,OW,md,f1=m(()=>{d1=pn(eE());u1();OW=["afterEach","after","beforeEach","before","describe","it"].every(i=>typeof global[i]=="function"),md=class i{constructor(){this._moduleNameTrie=new hd,this._initialize()}_initialize(){new d1.Hook(null,{internals:!0},(e,t,o)=>{let s=RW(t),a=this._moduleNameTrie.search(s,{maintainInsertionOrder:!0,fullOnly:o===void 0});for(let{onRequire:n}of a)e=n(e,t,o);return e})}register(e,t){let o={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(o),o}static getInstance(){var e;return OW?new i:this._instance=(e=this._instance)!==null&&e!==void 0?e:new i}}});var _1=S(Za=>{var p1=[],rE=new WeakMap,h1=new Map,m1=[],bW={set(i,e,t){return rE.get(i)[e](t)},defineProperty(i,e,t){if(!("value"in t))throw new Error("Getters/setters are not supported for exports property descriptors.");return rE.get(i)[e](t.value)}};function CW(i,e,t,o){h1.set(i,o),rE.set(e,t);let s=new Proxy(e,bW);p1.forEach(a=>a(i,s)),m1.push([i,s])}Za.register=CW;Za.importHooks=p1;Za.specifiers=h1;Za.toHook=m1});var v1=S((gEe,tl)=>{var E1=F("path"),NW=X_(),{fileURLToPath:S1}=F("url"),{importHooks:nE,specifiers:xW,toHook:PW}=_1();function T1(i){nE.push(i),PW.forEach(([e,t])=>i(e,t))}function y1(i){let e=nE.indexOf(i);e>-1&&nE.splice(e,1)}function g1(i,e,t,o){let s=i(e,t,o);s&&s!==e&&(e.default=s)}function el(i,e,t){if(!(this instanceof el))return new el(i,e,t);typeof i=="function"?(t=i,i=null,e=null):typeof e=="function"&&(t=e,e=null);let o=e?e.internals===!0:!1;this._iitmHook=(s,a)=>{let n=s,r=s.startsWith("node:"),l;if(r)s=s.replace(/^node:/,"");else{if(s.startsWith("file://"))try{s=S1(s)}catch{}let c=NW(s);c&&(s=c.name,l=c.basedir)}if(i){for(let c of i)if(c===s){if(l){if(o)s=s+E1.sep+E1.relative(l,S1(n));else if(!l.endsWith(xW.get(n)))continue}g1(t,a,s,l)}}else g1(t,a,s,l)},T1(this._iitmHook)}el.prototype.unhook=function(){y1(this._iitmHook)};tl.exports=el;tl.exports.Hook=el;tl.exports.addHook=T1;tl.exports.removeHook=y1});function IW(i,e,t){let o,s;try{s=i()}catch(a){o=a}finally{if(e(o,s),o&&!t)throw o;return s}}async function MW(i,e,t){let o,s;try{s=await i()}catch(a){o=a}finally{if(e(o,s),o&&!t)throw o;return s}}function iE(i){return typeof i=="function"&&typeof i.__original=="function"&&typeof i.__unwrap=="function"&&i.__wrapped===!0}var oE=m(()=>{});import*as Lo from"path";import{types as A1}from"util";import{readFileSync as LW}from"fs";function O1(i,e,t){return typeof e>"u"?i.includes("*"):i.some(o=>(0,R1.satisfies)(e,o,{includePrerelease:t}))}var R1,rl,b1,C1,Mo,N1=m(()=>{R1=pn(w_()),rl=pn(k_());_w();f1();b1=pn(v1());w();C1=pn(eE());oE();Mo=class extends sd{constructor(e,t,o){super(e,t,o),this._hooks=[],this._requireInTheMiddleSingleton=md.getInstance(),this._enabled=!1,this._wrap=(a,n,r)=>{if(iE(a[n])&&this._unwrap(a,n),A1.isProxy(a)){let l=(0,rl.wrap)(Object.assign({},a),n,r);return Object.defineProperty(a,n,{value:l})}else return(0,rl.wrap)(a,n,r)},this._unwrap=(a,n)=>A1.isProxy(a)?Object.defineProperty(a,n,{value:a[n]}):(0,rl.unwrap)(a,n),this._massWrap=(a,n,r)=>{if(a)Array.isArray(a)||(a=[a]);else{v.error("must provide one or more modules to patch");return}if(!(n&&Array.isArray(n))){v.error("must provide one or more functions to wrap on modules");return}a.forEach(l=>{n.forEach(c=>{this._wrap(l,c,r)})})},this._massUnwrap=(a,n)=>{if(a)Array.isArray(a)||(a=[a]);else{v.error("must provide one or more modules to patch");return}if(!(n&&Array.isArray(n))){v.error("must provide one or more functions to wrap on modules");return}a.forEach(r=>{n.forEach(l=>{this._unwrap(r,l)})})};let s=this.init();s&&!Array.isArray(s)&&(s=[s]),this._modules=s||[],this._modules.length===0&&v.debug(`No modules instrumentation has been defined for '${this.instrumentationName}@${this.instrumentationVersion}', nothing will be patched`),this._config.enabled&&this.enable()}_warnOnPreloadedModules(){this._modules.forEach(e=>{let{name:t}=e;try{let o=F.resolve(t);F.cache[o]&&this._diag.warn(`Module ${t} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${t}`)}catch{}})}_extractPackageVersion(e){try{let t=LW(Lo.join(e,"package.json"),{encoding:"utf8"}),o=JSON.parse(t).version;return typeof o=="string"?o:void 0}catch{v.warn("Failed extracting version",e)}}_onRequire(e,t,o,s){var a;if(!s)return typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(t)):t;let n=this._extractPackageVersion(s);if(e.moduleVersion=n,e.name===o)return O1(e.supportedVersions,n,e.includePrerelease)&&typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:s}),e.patch(t,e.moduleVersion)):t;let r=(a=e.files)!==null&&a!==void 0?a:[],l=Lo.normalize(o);return r.filter(u=>u.name===l).filter(u=>O1(u.supportedVersions,n,e.includePrerelease)).reduce((u,d)=>(d.moduleExports=u,this._enabled?(this._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:d.name,baseDir:s}),d.patch(u,e.moduleVersion)):u),t)}enable(){if(!this._enabled){if(this._enabled=!0,this._hooks.length>0){for(let e of this._modules){typeof e.patch=="function"&&e.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:e.name,version:e.moduleVersion}),e.patch(e.moduleExports,e.moduleVersion));for(let t of e.files)t.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:e.name,version:e.moduleVersion,fileName:t.name}),t.patch(t.moduleExports,e.moduleVersion))}return}this._warnOnPreloadedModules();for(let e of this._modules){let t=(n,r,l)=>this._onRequire(e,n,r,l),o=(n,r,l)=>this._onRequire(e,n,r,l),s=Lo.isAbsolute(e.name)?new C1.Hook([e.name],{internals:!0},o):this._requireInTheMiddleSingleton.register(e.name,o);this._hooks.push(s);let a=new b1.Hook([e.name],{internals:!1},t);this._hooks.push(a)}}}disable(){if(this._enabled){this._enabled=!1;for(let e of this._modules){typeof e.unpatch=="function"&&e.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:e.name,version:e.moduleVersion}),e.unpatch(e.moduleExports,e.moduleVersion));for(let t of e.files)t.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:e.name,version:e.moduleVersion,fileName:t.name}),t.unpatch(t.moduleExports,e.moduleVersion))}}}isEnabled(){return this._enabled}}});import{normalize as _d}from"path";var x1=m(()=>{});var P1=m(()=>{N1();x1()});var sE=m(()=>{P1()});var Ed,I1=m(()=>{Ed=class{constructor(e,t,o,s,a){this.name=e,this.supportedVersions=t,this.patch=o,this.unpatch=s,this.files=a||[]}}});var Sd,M1=m(()=>{sE();Sd=class{constructor(e,t,o,s){this.supportedVersions=t,this.patch=o,this.unpatch=s,this.name=_d(e)}}});var L1=m(()=>{});var w1=m(()=>{});var D1={};Ie(D1,{InstrumentationBase:()=>Mo,InstrumentationNodeModuleDefinition:()=>Ed,InstrumentationNodeModuleFile:()=>Sd,isWrapped:()=>iE,registerInstrumentations:()=>dw,safeExecuteInTheMiddle:()=>IW,safeExecuteInTheMiddleAsync:()=>MW});var U1=m(()=>{fw();sE();I1();M1();L1();w1();oE()});function Rr(i={}){let e={};return Object.entries(i).forEach(([t,o])=>{typeof o<"u"?e[t]=String(o):v.warn(`Header "${t}" has invalid value (${o}) and will be ignored`)}),e}function wo(i,e){return i.endsWith("/")||(i=i+"/"),i+e}function Do(i){try{let e=new URL(i);return e.pathname===""&&(e.pathname=e.pathname+"/"),e.toString()}catch{return v.warn(`Could not parse export URL: '${i}'`),i}}function Ad(i){return typeof i=="number"?i<=0?Od(i,k1):i:wW()}function wW(){var i;let e=Number((i=X().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&i!==void 0?i:X().OTEL_EXPORTER_OTLP_TIMEOUT);return e<=0?Od(e,k1):e}function Od(i,e){return v.warn("Timeout must be greater than 0",i),e}function Rd(i){return[429,502,503,504].includes(i)}function bd(i){if(i==null)return-1;let e=Number.parseInt(i,10);if(Number.isInteger(e))return e>0?e*1e3:-1;let t=new Date(i).getTime()-Date.now();return t>=0?t:0}var k1,gd,Td,yd,vd,Ci=m(()=>{w();W();k1=1e4,gd=5,Td=1e3,yd=5e3,vd=1.5});var bn,Cd=m(()=>{w();W();Ci();bn=class{constructor(e={}){this._sendingPromises=[],this.url=this.getDefaultUrl(e),typeof e.hostname=="string"&&(this.hostname=e.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new Qe(this._shutdown,this),this._concurrencyLimit=typeof e.concurrencyLimit=="number"?e.concurrencyLimit:30,this.timeoutMillis=Ad(e.timeoutMillis),this.onInit(e)}export(e,t){if(this._shutdownOnce.isCalled){t({code:te.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){t({code:te.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(e).then(()=>{t({code:te.SUCCESS})}).catch(o=>{t({code:te.FAILED,error:o})})}_export(e){return new Promise((t,o)=>{try{v.debug("items to be sent",e),this.send(e,t,o)}catch(s){o(s)}})}shutdown(){return this._shutdownOnce.call()}forceFlush(){return Promise.all(this._sendingPromises).then(()=>{})}_shutdown(){return v.debug("shutdown started"),this.onShutdown(),this.forceFlush()}}});var br,aE=m(()=>{(function(i){i.NONE="none",i.GZIP="gzip"})(br||(br={}))});var ct,Nd=m(()=>{ct=class extends Error{constructor(e,t,o){super(e),this.name="OTLPExporterError",this.data=o,this.code=t}}});import*as lE from"url";import*as xd from"http";import*as Pd from"https";import*as B1 from"zlib";import{Readable as DW}from"stream";function nl(i,e,t,o,s){let a=i.timeoutMillis,n=new lE.URL(i.url),r=Number(process.versions.node.split(".")[0]),l,c,u=!1,d=setTimeout(()=>{if(clearTimeout(l),u=!0,c.destroyed){let T=new ct("Request Timeout");s(T)}else r>=14?c.destroy():c.abort()},a),_={hostname:n.hostname,port:n.port,path:n.pathname,method:"POST",headers:Object.assign({"Content-Type":t},i.headers),agent:i.agent},E=n.protocol==="http:"?xd.request:Pd.request,A=(T=gd,R=Td)=>{switch(c=E(_,O=>{let C="";O.on("data",L=>C+=L),O.on("aborted",()=>{if(u){let L=new ct("Request Timeout");s(L)}}),O.on("end",()=>{if(u===!1)if(O.statusCode&&O.statusCode<299)v.debug(`statusCode: ${O.statusCode}`,C),o(),clearTimeout(d),clearTimeout(l);else if(O.statusCode&&Rd(O.statusCode)&&T>0){let L;R=vd*R,O.headers["retry-after"]?L=bd(O.headers["retry-after"]):L=Math.round(Math.random()*(yd-R)+R),l=setTimeout(()=>{A(T-1,R)},L)}else{let L=new ct(O.statusMessage,O.statusCode,C);s(L),clearTimeout(d),clearTimeout(l)}})}),c.on("error",O=>{if(u){let C=new ct("Request Timeout",O.code);s(C)}else s(O);clearTimeout(d),clearTimeout(l)}),c.on("abort",()=>{if(u){let O=new ct("Request Timeout");s(O)}clearTimeout(d),clearTimeout(l)}),i.compression){case br.GZIP:{c.setHeader("Content-Encoding","gzip"),UW(e).on("error",s).pipe(B1.createGzip()).on("error",s).pipe(c);break}default:c.end(Buffer.from(e));break}};A()}function UW(i){let e=new DW;return e.push(i),e.push(null),e}function il(i){if(i.httpAgentOptions&&i.keepAlive===!1){v.warn("httpAgentOptions is used only when keepAlive is true");return}if(!(i.keepAlive===!1||!i.url))try{let t=new lE.URL(i.url).protocol==="http:"?xd.Agent:Pd.Agent;return new t(Object.assign({keepAlive:!0},i.httpAgentOptions))}catch(e){v.error(`collector exporter failed to create http agent. err: ${e.message}`);return}}function ol(i){return i||((X().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||X().OTEL_EXPORTER_OTLP_COMPRESSION)===br.GZIP?br.GZIP:br.NONE)}var cE=m(()=>{w();aE();W();Nd();Ci()});var tn,V1=m(()=>{Cd();Ci();cE();w();W();tn=class extends bn{constructor(e={},t,o){super(e),this.DEFAULT_HEADERS={},this._contentType=o,e.metadata&&v.warn("Metadata cannot be set when using http"),this.headers=Object.assign(this.DEFAULT_HEADERS,Rr(e.headers),sr.parseKeyPairsIntoRecord(X().OTEL_EXPORTER_OTLP_HEADERS)),this.agent=il(e),this.compression=ol(e.compression),this._serializer=t}onInit(e){}send(e,t,o){if(this._shutdownOnce.isCalled){v.debug("Shutdown already started. Cannot send objects");return}let s=new Promise((n,r)=>{var l;nl(this,(l=this._serializer.serializeRequest(e))!==null&&l!==void 0?l:new Uint8Array,this._contentType,n,r)}).then(t,o);this._sendingPromises.push(s);let a=()=>{let n=this._sendingPromises.indexOf(s);this._sendingPromises.splice(n,1)};s.then(a,a)}onShutdown(){}}});var F1=m(()=>{V1();cE();aE()});function q1(i,e,t,o,s){if(navigator.sendBeacon(e,new Blob([i],t)))v.debug("sendBeacon - can send",i),o();else{let a=new ct(`sendBeacon - cannot send ${i}`);s(a)}}function sl(i,e,t,o,s,a){let n,r,l=!1,c=setTimeout(()=>{if(clearTimeout(n),l=!0,r.readyState===XMLHttpRequest.DONE){let d=new ct("Request Timeout");a(d)}else r.abort()},o),u=(d=gd,_=Td)=>{r=new XMLHttpRequest,r.open("POST",e),Object.entries(Object.assign(Object.assign({},{Accept:"application/json","Content-Type":"application/json"}),t)).forEach(([A,T])=>{r.setRequestHeader(A,T)}),r.send(i),r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE&&l===!1)if(r.status>=200&&r.status<=299)v.debug("xhr success",i),s(),clearTimeout(c),clearTimeout(n);else if(r.status&&Rd(r.status)&&d>0){let A;_=vd*_,r.getResponseHeader("Retry-After")?A=bd(r.getResponseHeader("Retry-After")):A=Math.round(Math.random()*(yd-_)+_),n=setTimeout(()=>{u(d-1,_)},A)}else{let A=new ct(`Failed to export with XHR (status: ${r.status})`,r.status);a(A),clearTimeout(c),clearTimeout(n)}},r.onabort=()=>{if(l){let A=new ct("Request Timeout");a(A)}clearTimeout(c),clearTimeout(n)},r.onerror=()=>{if(l){let A=new ct("Request Timeout");a(A)}clearTimeout(c),clearTimeout(n)}};u()}var uE=m(()=>{w();Nd();Ci()});var al,G1=m(()=>{Cd();Ci();uE();w();W();al=class extends bn{constructor(e={},t,o){super(e),this._useXHR=!1,this._serializer=t,this._contentType=o,this._useXHR=!!e.headers||typeof navigator.sendBeacon!="function",this._useXHR?this._headers=Object.assign({},Rr(e.headers),sr.parseKeyPairsIntoRecord(X().OTEL_EXPORTER_OTLP_HEADERS)):this._headers={}}onInit(){}onShutdown(){}send(e,t,o){var s;if(this._shutdownOnce.isCalled){v.debug("Shutdown already started. Cannot send objects");return}let a=(s=this._serializer.serializeRequest(e))!==null&&s!==void 0?s:new Uint8Array,n=new Promise((l,c)=>{this._useXHR?sl(a,this.url,Object.assign(Object.assign({},this._headers),{"Content-Type":this._contentType}),this.timeoutMillis,l,c):q1(a,this.url,{type:this._contentType},l,c)}).then(t,o);this._sendingPromises.push(n);let r=()=>{let l=this._sendingPromises.indexOf(n);this._sendingPromises.splice(l,1)};n.then(r,r)}}});var H1=m(()=>{G1();uE()});var j1=m(()=>{F1();H1()});var dE={};Ie(dE,{CompressionAlgorithm:()=>br,OTLPExporterBase:()=>bn,OTLPExporterBrowserBase:()=>al,OTLPExporterError:()=>ct,OTLPExporterNodeBase:()=>tn,appendResourcePathToUrl:()=>wo,appendRootPathToUrlIfNeeded:()=>Do,configureCompression:()=>ol,configureExporterTimeout:()=>Ad,createHttpAgent:()=>il,invalidTimeout:()=>Od,parseHeaders:()=>Rr,sendWithHttp:()=>nl,sendWithXhr:()=>sl});var Uo=m(()=>{j1();Cd();Nd();Ci()});function Id(i){let e=BigInt(1e9);return BigInt(i[0])*e+BigInt(i[1])}function fE(i){let e=Number(BigInt.asUintN(32,i)),t=Number(BigInt.asUintN(32,i>>BigInt(32)));return{low:e,high:t}}function Md(i){let e=Id(i);return fE(e)}function pE(i){return Id(i).toString()}function z1(i){return i}function $1(i){if(i!==void 0)return li(i)}function Cn(i){var e,t;if(i===void 0)return BW;let o=(e=i.useLongBits)!==null&&e!==void 0?e:!0,s=(t=i.useHex)!==null&&t!==void 0?t:!1;return{encodeHrTime:o?Md:kW,encodeSpanContext:s?z1:li,encodeOptionalSpanContext:s?z1:$1}}var kW,BW,ll=m(()=>{W();kW=typeof BigInt<"u"?pE:Yh;BW={encodeHrTime:Md,encodeSpanContext:li,encodeOptionalSpanContext:$1}});var Ld,Y1=m(()=>{(function(i){i[i.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",i[i.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",i[i.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",i[i.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",i[i.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",i[i.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(Ld||(Ld={}))});function ko(i){return{name:i.name,version:i.version}}function Cr(i){return Object.keys(i).map(e=>wd(e,i[e]))}function wd(i,e){return{key:i,value:Dd(e)}}function Dd(i){let e=typeof i;return e==="string"?{stringValue:i}:e==="number"?Number.isInteger(i)?{intValue:i}:{doubleValue:i}:e==="boolean"?{boolValue:i}:i instanceof Uint8Array?{bytesValue:i}:Array.isArray(i)?{arrayValue:{values:i.map(Dd)}}:e==="object"&&i!=null?{kvlistValue:{values:Object.entries(i).map(([t,o])=>wd(t,o))}}:{}}var Bo=m(()=>{});function K1(i,e){var t;let o=i.spanContext(),s=i.status;return{traceId:e.encodeSpanContext(o.traceId),spanId:e.encodeSpanContext(o.spanId),parentSpanId:e.encodeOptionalSpanContext(i.parentSpanId),traceState:(t=o.traceState)===null||t===void 0?void 0:t.serialize(),name:i.name,kind:i.kind==null?0:i.kind+1,startTimeUnixNano:e.encodeHrTime(i.startTime),endTimeUnixNano:e.encodeHrTime(i.endTime),attributes:Cr(i.attributes),droppedAttributesCount:i.droppedAttributesCount,events:i.events.map(a=>FW(a,e)),droppedEventsCount:i.droppedEventsCount,status:{code:s.code,message:s.message},links:i.links.map(a=>VW(a,e)),droppedLinksCount:i.droppedLinksCount}}function VW(i,e){var t;return{attributes:i.attributes?Cr(i.attributes):[],spanId:e.encodeSpanContext(i.context.spanId),traceId:e.encodeSpanContext(i.context.traceId),traceState:(t=i.context.traceState)===null||t===void 0?void 0:t.serialize(),droppedAttributesCount:i.droppedAttributesCount||0}}function FW(i,e){return{attributes:i.attributes?Cr(i.attributes):[],name:i.name,timeUnixNano:e.encodeHrTime(i.time),droppedAttributesCount:i.droppedAttributesCount||0}}var W1=m(()=>{Bo()});function Vo(i){return{attributes:Cr(i.attributes),droppedAttributesCount:0}}var Ud=m(()=>{Bo()});function Nn(i,e){let t=Cn(e);return{resourceSpans:GW(i,t)}}function qW(i){let e=new Map;for(let t of i){let o=e.get(t.resource);o||(o=new Map,e.set(t.resource,o));let s=`${t.instrumentationLibrary.name}@${t.instrumentationLibrary.version||""}:${t.instrumentationLibrary.schemaUrl||""}`,a=o.get(s);a||(a=[],o.set(s,a)),a.push(t)}return e}function GW(i,e){let t=qW(i),o=[],s=t.entries(),a=s.next();for(;!a.done;){let[n,r]=a.value,l=[],c=r.values(),u=c.next();for(;!u.done;){let _=u.value;if(_.length>0){let E=_.map(A=>K1(A,e));l.push({scope:ko(_[0].instrumentationLibrary),spans:E,schemaUrl:_[0].instrumentationLibrary.schemaUrl})}u=c.next()}let d={resource:Vo(n),scopeSpans:l,schemaUrl:void 0};o.push(d),a=s.next()}return o}var kd=m(()=>{W1();ll();Bo();Ud()});function J1(i,e){let t=Cn(e);return{resource:Vo(i.resource),schemaUrl:void 0,scopeMetrics:HW(i.scopeMetrics,t)}}function HW(i,e){return Array.from(i.map(t=>({scope:ko(t.scope),metrics:t.metrics.map(o=>jW(o,e)),schemaUrl:t.scope.schemaUrl})))}function jW(i,e){let t={name:i.descriptor.name,description:i.descriptor.description,unit:i.descriptor.unit},o=KW(i.aggregationTemporality);switch(i.dataPointType){case Ze.SUM:t.sum={aggregationTemporality:o,isMonotonic:i.isMonotonic,dataPoints:X1(i,e)};break;case Ze.GAUGE:t.gauge={dataPoints:X1(i,e)};break;case Ze.HISTOGRAM:t.histogram={aggregationTemporality:o,dataPoints:$W(i,e)};break;case Ze.EXPONENTIAL_HISTOGRAM:t.exponentialHistogram={aggregationTemporality:o,dataPoints:YW(i,e)};break}return t}function zW(i,e,t){let o={attributes:Cr(i.attributes),startTimeUnixNano:t.encodeHrTime(i.startTime),timeUnixNano:t.encodeHrTime(i.endTime)};switch(e){case Tt.INT:o.asInt=i.value;break;case Tt.DOUBLE:o.asDouble=i.value;break}return o}function X1(i,e){return i.dataPoints.map(t=>zW(t,i.descriptor.valueType,e))}function $W(i,e){return i.dataPoints.map(t=>{let o=t.value;return{attributes:Cr(t.attributes),bucketCounts:o.buckets.counts,explicitBounds:o.buckets.boundaries,count:o.count,sum:o.sum,min:o.min,max:o.max,startTimeUnixNano:e.encodeHrTime(t.startTime),timeUnixNano:e.encodeHrTime(t.endTime)}})}function YW(i,e){return i.dataPoints.map(t=>{let o=t.value;return{attributes:Cr(t.attributes),count:o.count,min:o.min,max:o.max,sum:o.sum,positive:{offset:o.positive.offset,bucketCounts:o.positive.bucketCounts},negative:{offset:o.negative.offset,bucketCounts:o.negative.bucketCounts},scale:o.scale,zeroCount:o.zeroCount,startTimeUnixNano:e.encodeHrTime(t.startTime),timeUnixNano:e.encodeHrTime(t.endTime)}})}function KW(i){switch(i){case ar.DELTA:return 1;case ar.CUMULATIVE:return 2}}var Q1=m(()=>{w();Mu();ll();Bo();Ud()});function Fo(i,e){return{resourceMetrics:i.map(t=>J1(t,e))}}var Bd=m(()=>{Q1()});function qo(i,e){let t=Cn(e);return{resourceLogs:XW(i,t)}}function WW(i){let e=new Map;for(let t of i){let{resource:o,instrumentationScope:{name:s,version:a="",schemaUrl:n=""}}=t,r=e.get(o);r||(r=new Map,e.set(o,r));let l=`${s}@${a}:${n}`,c=r.get(l);c||(c=[],r.set(l,c)),c.push(t)}return e}function XW(i,e){let t=WW(i);return Array.from(t,([o,s])=>({resource:Vo(o),scopeLogs:Array.from(s,([,a])=>({scope:ko(a[0].instrumentationScope),logRecords:a.map(n=>JW(n,e)),schemaUrl:a[0].instrumentationScope.schemaUrl})),schemaUrl:void 0}))}function JW(i,e){var t,o,s;return{timeUnixNano:e.encodeHrTime(i.hrTime),observedTimeUnixNano:e.encodeHrTime(i.hrTimeObserved),severityNumber:i.severityNumber,severityText:i.severityText,body:Dd(i.body),attributes:QW(i.attributes),droppedAttributesCount:i.droppedAttributesCount,flags:(t=i.spanContext)===null||t===void 0?void 0:t.traceFlags,traceId:e.encodeOptionalSpanContext((o=i.spanContext)===null||o===void 0?void 0:o.traceId),spanId:e.encodeOptionalSpanContext((s=i.spanContext)===null||s===void 0?void 0:s.spanId)}}function QW(i){return Object.keys(i).map(e=>wd(e,i[e]))}var Vd=m(()=>{ll();Bo();Ud()});var hE=S((cge,Z1)=>{"use strict";Z1.exports=ZW;function ZW(i,e){for(var t=new Array(arguments.length-1),o=0,s=2,a=!0;s<arguments.length;)t[o++]=arguments[s++];return new Promise(function(r,l){t[o]=function(u){if(a)if(a=!1,u)l(u);else{for(var d=new Array(arguments.length-1),_=0;_<d.length;)d[_++]=arguments[_];r.apply(null,d)}};try{i.apply(e||null,t)}catch(c){a&&(a=!1,l(c))}})}});var nD=S(rD=>{"use strict";var Fd=rD;Fd.length=function(e){var t=e.length;if(!t)return 0;for(var o=0;--t%4>1&&e.charAt(t)==="=";)++o;return Math.ceil(e.length*3)/4-o};var Go=new Array(64),tD=new Array(123);for(cr=0;cr<64;)tD[Go[cr]=cr<26?cr+65:cr<52?cr+71:cr<62?cr-4:cr-59|43]=cr++;var cr;Fd.encode=function(e,t,o){for(var s=null,a=[],n=0,r=0,l;t<o;){var c=e[t++];switch(r){case 0:a[n++]=Go[c>>2],l=(c&3)<<4,r=1;break;case 1:a[n++]=Go[l|c>>4],l=(c&15)<<2,r=2;break;case 2:a[n++]=Go[l|c>>6],a[n++]=Go[c&63],r=0;break}n>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,a)),n=0)}return r&&(a[n++]=Go[l],a[n++]=61,r===1&&(a[n++]=61)),s?(n&&s.push(String.fromCharCode.apply(String,a.slice(0,n))),s.join("")):String.fromCharCode.apply(String,a.slice(0,n))};var eD="invalid encoding";Fd.decode=function(e,t,o){for(var s=o,a=0,n,r=0;r<e.length;){var l=e.charCodeAt(r++);if(l===61&&a>1)break;if((l=tD[l])===void 0)throw Error(eD);switch(a){case 0:n=l,a=1;break;case 1:t[o++]=n<<2|(l&48)>>4,n=l,a=2;break;case 2:t[o++]=(n&15)<<4|(l&60)>>2,n=l,a=3;break;case 3:t[o++]=(n&3)<<6|l,a=0;break}}if(a===1)throw Error(eD);return o-s};Fd.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var oD=S((dge,iD)=>{"use strict";iD.exports=qd;function qd(){this._listeners={}}qd.prototype.on=function(e,t,o){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:o||this}),this};qd.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var o=this._listeners[e],s=0;s<o.length;)o[s].fn===t?o.splice(s,1):++s;return this};qd.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var o=[],s=1;s<arguments.length;)o.push(arguments[s++]);for(s=0;s<t.length;)t[s].fn.apply(t[s++].ctx,o)}return this}});var fD=S((fge,dD)=>{"use strict";dD.exports=sD(sD);function sD(i){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),o=t[3]===128;function s(l,c,u){e[0]=l,c[u]=t[0],c[u+1]=t[1],c[u+2]=t[2],c[u+3]=t[3]}function a(l,c,u){e[0]=l,c[u]=t[3],c[u+1]=t[2],c[u+2]=t[1],c[u+3]=t[0]}i.writeFloatLE=o?s:a,i.writeFloatBE=o?a:s;function n(l,c){return t[0]=l[c],t[1]=l[c+1],t[2]=l[c+2],t[3]=l[c+3],e[0]}function r(l,c){return t[3]=l[c],t[2]=l[c+1],t[1]=l[c+2],t[0]=l[c+3],e[0]}i.readFloatLE=o?n:r,i.readFloatBE=o?r:n}():function(){function e(o,s,a,n){var r=s<0?1:0;if(r&&(s=-s),s===0)o(1/s>0?0:2147483648,a,n);else if(isNaN(s))o(2143289344,a,n);else if(s>34028234663852886e22)o((r<<31|2139095040)>>>0,a,n);else if(s<11754943508222875e-54)o((r<<31|Math.round(s/1401298464324817e-60))>>>0,a,n);else{var l=Math.floor(Math.log(s)/Math.LN2),c=Math.round(s*Math.pow(2,-l)*8388608)&8388607;o((r<<31|l+127<<23|c)>>>0,a,n)}}i.writeFloatLE=e.bind(null,aD),i.writeFloatBE=e.bind(null,lD);function t(o,s,a){var n=o(s,a),r=(n>>31)*2+1,l=n>>>23&255,c=n&8388607;return l===255?c?NaN:r*(1/0):l===0?r*1401298464324817e-60*c:r*Math.pow(2,l-150)*(c+8388608)}i.readFloatLE=t.bind(null,cD),i.readFloatBE=t.bind(null,uD)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),o=t[7]===128;function s(l,c,u){e[0]=l,c[u]=t[0],c[u+1]=t[1],c[u+2]=t[2],c[u+3]=t[3],c[u+4]=t[4],c[u+5]=t[5],c[u+6]=t[6],c[u+7]=t[7]}function a(l,c,u){e[0]=l,c[u]=t[7],c[u+1]=t[6],c[u+2]=t[5],c[u+3]=t[4],c[u+4]=t[3],c[u+5]=t[2],c[u+6]=t[1],c[u+7]=t[0]}i.writeDoubleLE=o?s:a,i.writeDoubleBE=o?a:s;function n(l,c){return t[0]=l[c],t[1]=l[c+1],t[2]=l[c+2],t[3]=l[c+3],t[4]=l[c+4],t[5]=l[c+5],t[6]=l[c+6],t[7]=l[c+7],e[0]}function r(l,c){return t[7]=l[c],t[6]=l[c+1],t[5]=l[c+2],t[4]=l[c+3],t[3]=l[c+4],t[2]=l[c+5],t[1]=l[c+6],t[0]=l[c+7],e[0]}i.readDoubleLE=o?n:r,i.readDoubleBE=o?r:n}():function(){function e(o,s,a,n,r,l){var c=n<0?1:0;if(c&&(n=-n),n===0)o(0,r,l+s),o(1/n>0?0:2147483648,r,l+a);else if(isNaN(n))o(0,r,l+s),o(2146959360,r,l+a);else if(n>17976931348623157e292)o(0,r,l+s),o((c<<31|2146435072)>>>0,r,l+a);else{var u;if(n<22250738585072014e-324)u=n/5e-324,o(u>>>0,r,l+s),o((c<<31|u/4294967296)>>>0,r,l+a);else{var d=Math.floor(Math.log(n)/Math.LN2);d===1024&&(d=1023),u=n*Math.pow(2,-d),o(u*4503599627370496>>>0,r,l+s),o((c<<31|d+1023<<20|u*1048576&1048575)>>>0,r,l+a)}}}i.writeDoubleLE=e.bind(null,aD,0,4),i.writeDoubleBE=e.bind(null,lD,4,0);function t(o,s,a,n,r){var l=o(n,r+s),c=o(n,r+a),u=(c>>31)*2+1,d=c>>>20&2047,_=4294967296*(c&1048575)+l;return d===2047?_?NaN:u*(1/0):d===0?u*5e-324*_:u*Math.pow(2,d-1075)*(_+4503599627370496)}i.readDoubleLE=t.bind(null,cD,0,4),i.readDoubleBE=t.bind(null,uD,4,0)}(),i}function aD(i,e,t){e[t]=i&255,e[t+1]=i>>>8&255,e[t+2]=i>>>16&255,e[t+3]=i>>>24}function lD(i,e,t){e[t]=i>>>24,e[t+1]=i>>>16&255,e[t+2]=i>>>8&255,e[t+3]=i&255}function cD(i,e){return(i[e]|i[e+1]<<8|i[e+2]<<16|i[e+3]<<24)>>>0}function uD(i,e){return(i[e]<<24|i[e+1]<<16|i[e+2]<<8|i[e+3])>>>0}});var mE=S((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(i){}return null}});var hD=S(pD=>{"use strict";var _E=pD;_E.length=function(e){for(var t=0,o=0,s=0;s<e.length;++s)o=e.charCodeAt(s),o<128?t+=1:o<2048?t+=2:(o&64512)===55296&&(e.charCodeAt(s+1)&64512)===56320?(++s,t+=4):t+=3;return t};_E.read=function(e,t,o){var s=o-t;if(s<1)return"";for(var a=null,n=[],r=0,l;t<o;)l=e[t++],l<128?n[r++]=l:l>191&&l<224?n[r++]=(l&31)<<6|e[t++]&63:l>239&&l<365?(l=((l&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,n[r++]=55296+(l>>10),n[r++]=56320+(l&1023)):n[r++]=(l&15)<<12|(e[t++]&63)<<6|e[t++]&63,r>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,n)),r=0);return a?(r&&a.push(String.fromCharCode.apply(String,n.slice(0,r))),a.join("")):String.fromCharCode.apply(String,n.slice(0,r))};_E.write=function(e,t,o){for(var s=o,a,n,r=0;r<e.length;++r)a=e.charCodeAt(r),a<128?t[o++]=a:a<2048?(t[o++]=a>>6|192,t[o++]=a&63|128):(a&64512)===55296&&((n=e.charCodeAt(r+1))&64512)===56320?(a=65536+((a&1023)<<10)+(n&1023),++r,t[o++]=a>>18|240,t[o++]=a>>12&63|128,t[o++]=a>>6&63|128,t[o++]=a&63|128):(t[o++]=a>>12|224,t[o++]=a>>6&63|128,t[o++]=a&63|128);return o-s}});var _D=S((hge,mD)=>{"use strict";mD.exports=eX;function eX(i,e,t){var o=t||8192,s=o>>>1,a=null,n=o;return function(l){if(l<1||l>s)return i(l);n+l>o&&(a=i(o),n=0);var c=e.call(a,n,n+=l);return n&7&&(n=(n|7)+1),c}}});var SD=S((mge,ED)=>{"use strict";ED.exports=$e;var cl=Nr();function $e(i,e){this.lo=i>>>0,this.hi=e>>>0}var Ni=$e.zero=new $e(0,0);Ni.toNumber=function(){return 0};Ni.zzEncode=Ni.zzDecode=function(){return this};Ni.length=function(){return 1};var tX=$e.zeroHash="\0\0\0\0\0\0\0\0";$e.fromNumber=function(e){if(e===0)return Ni;var t=e<0;t&&(e=-e);var o=e>>>0,s=(e-o)/4294967296>>>0;return t&&(s=~s>>>0,o=~o>>>0,++o>4294967295&&(o=0,++s>4294967295&&(s=0))),new $e(o,s)};$e.from=function(e){if(typeof e=="number")return $e.fromNumber(e);if(cl.isString(e))if(cl.Long)e=cl.Long.fromString(e);else return $e.fromNumber(parseInt(e,10));return e.low||e.high?new $e(e.low>>>0,e.high>>>0):Ni};$e.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,o=~this.hi>>>0;return t||(o=o+1>>>0),-(t+o*4294967296)}return this.lo+this.hi*4294967296};$e.prototype.toLong=function(e){return cl.Long?new cl.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var xn=String.prototype.charCodeAt;$e.fromHash=function(e){return e===tX?Ni:new $e((xn.call(e,0)|xn.call(e,1)<<8|xn.call(e,2)<<16|xn.call(e,3)<<24)>>>0,(xn.call(e,4)|xn.call(e,5)<<8|xn.call(e,6)<<16|xn.call(e,7)<<24)>>>0)};$e.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};$e.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};$e.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};$e.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,o=this.hi>>>24;return o===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:o<128?9:10}});var Nr=S(EE=>{"use strict";var G=EE;G.asPromise=hE();G.base64=nD();G.EventEmitter=oD();G.float=fD();G.inquire=mE();G.utf8=hD();G.pool=_D();G.LongBits=SD();G.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);G.global=G.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||EE;G.emptyArray=Object.freeze?Object.freeze([]):[];G.emptyObject=Object.freeze?Object.freeze({}):{};G.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};G.isString=function(e){return typeof e=="string"||e instanceof String};G.isObject=function(e){return e&&typeof e=="object"};G.isset=G.isSet=function(e,t){var o=e[t];return o!=null&&e.hasOwnProperty(t)?typeof o!="object"||(Array.isArray(o)?o.length:Object.keys(o).length)>0:!1};G.Buffer=function(){try{var i=G.inquire("buffer").Buffer;return i.prototype.utf8Write?i:null}catch{return null}}();G._Buffer_from=null;G._Buffer_allocUnsafe=null;G.newBuffer=function(e){return typeof e=="number"?G.Buffer?G._Buffer_allocUnsafe(e):new G.Array(e):G.Buffer?G._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};G.Array=typeof Uint8Array<"u"?Uint8Array:Array;G.Long=G.global.dcodeIO&&G.global.dcodeIO.Long||G.global.Long||G.inquire("long");G.key2Re=/^true|false|0|1$/;G.key32Re=/^-?(?:0|[1-9][0-9]*)$/;G.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;G.longToHash=function(e){return e?G.LongBits.from(e).toHash():G.LongBits.zeroHash};G.longFromHash=function(e,t){var o=G.LongBits.fromHash(e);return G.Long?G.Long.fromBits(o.lo,o.hi,t):o.toNumber(!!t)};function gD(i,e,t){for(var o=Object.keys(e),s=0;s<o.length;++s)(i[o[s]]===void 0||!t)&&(i[o[s]]=e[o[s]]);return i}G.merge=gD;G.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function TD(i){function e(t,o){if(!(this instanceof e))return new e(t,o);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),o&&gD(this,o)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return i},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}G.newError=TD;G.ProtocolError=TD("ProtocolError");G.oneOfGetter=function(e){for(var t={},o=0;o<e.length;++o)t[e[o]]=1;return function(){for(var s=Object.keys(this),a=s.length-1;a>-1;--a)if(t[s[a]]===1&&this[s[a]]!==void 0&&this[s[a]]!==null)return s[a]}};G.oneOfSetter=function(e){return function(t){for(var o=0;o<e.length;++o)e[o]!==t&&delete this[e[o]]}};G.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};G._configure=function(){var i=G.Buffer;if(!i){G._Buffer_from=G._Buffer_allocUnsafe=null;return}G._Buffer_from=i.from!==Uint8Array.from&&i.from||function(t,o){return new i(t,o)},G._Buffer_allocUnsafe=i.allocUnsafe||function(t){return new i(t)}}});var Hd=S((Ege,OD)=>{"use strict";OD.exports=_e;var $t=Nr(),SE,Gd=$t.LongBits,yD=$t.base64,vD=$t.utf8;function ul(i,e,t){this.fn=i,this.len=e,this.next=void 0,this.val=t}function TE(){}function rX(i){this.head=i.head,this.tail=i.tail,this.len=i.len,this.next=i.states}function _e(){this.len=0,this.head=new ul(TE,0,0),this.tail=this.head,this.states=null}var AD=function(){return $t.Buffer?function(){return(_e.create=function(){return new SE})()}:function(){return new _e}};_e.create=AD();_e.alloc=function(e){return new $t.Array(e)};$t.Array!==Array&&(_e.alloc=$t.pool(_e.alloc,$t.Array.prototype.subarray));_e.prototype._push=function(e,t,o){return this.tail=this.tail.next=new ul(e,t,o),this.len+=t,this};function yE(i,e,t){e[t]=i&255}function nX(i,e,t){for(;i>127;)e[t++]=i&127|128,i>>>=7;e[t]=i}function vE(i,e){this.len=i,this.next=void 0,this.val=e}vE.prototype=Object.create(ul.prototype);vE.prototype.fn=nX;_e.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new vE((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};_e.prototype.int32=function(e){return e<0?this._push(AE,10,Gd.fromNumber(e)):this.uint32(e)};_e.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function AE(i,e,t){for(;i.hi;)e[t++]=i.lo&127|128,i.lo=(i.lo>>>7|i.hi<<25)>>>0,i.hi>>>=7;for(;i.lo>127;)e[t++]=i.lo&127|128,i.lo=i.lo>>>7;e[t++]=i.lo}_e.prototype.uint64=function(e){var t=Gd.from(e);return this._push(AE,t.length(),t)};_e.prototype.int64=_e.prototype.uint64;_e.prototype.sint64=function(e){var t=Gd.from(e).zzEncode();return this._push(AE,t.length(),t)};_e.prototype.bool=function(e){return this._push(yE,1,e?1:0)};function gE(i,e,t){e[t]=i&255,e[t+1]=i>>>8&255,e[t+2]=i>>>16&255,e[t+3]=i>>>24}_e.prototype.fixed32=function(e){return this._push(gE,4,e>>>0)};_e.prototype.sfixed32=_e.prototype.fixed32;_e.prototype.fixed64=function(e){var t=Gd.from(e);return this._push(gE,4,t.lo)._push(gE,4,t.hi)};_e.prototype.sfixed64=_e.prototype.fixed64;_e.prototype.float=function(e){return this._push($t.float.writeFloatLE,4,e)};_e.prototype.double=function(e){return this._push($t.float.writeDoubleLE,8,e)};var iX=$t.Array.prototype.set?function(e,t,o){t.set(e,o)}:function(e,t,o){for(var s=0;s<e.length;++s)t[o+s]=e[s]};_e.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(yE,1,0);if($t.isString(e)){var o=_e.alloc(t=yD.length(e));yD.decode(e,o,0),e=o}return this.uint32(t)._push(iX,t,e)};_e.prototype.string=function(e){var t=vD.length(e);return t?this.uint32(t)._push(vD.write,t,e):this._push(yE,1,0)};_e.prototype.fork=function(){return this.states=new rX(this),this.head=this.tail=new ul(TE,0,0),this.len=0,this};_e.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new ul(TE,0,0),this.len=0),this};_e.prototype.ldelim=function(){var e=this.head,t=this.tail,o=this.len;return this.reset().uint32(o),o&&(this.tail.next=e.next,this.tail=t,this.len+=o),this};_e.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),o=0;e;)e.fn(e.val,t,o),o+=e.len,e=e.next;return t};_e._configure=function(i){SE=i,_e.create=AD(),SE._configure()}});var CD=S((Sge,bD)=>{"use strict";bD.exports=xr;var RD=Hd();(xr.prototype=Object.create(RD.prototype)).constructor=xr;var Pn=Nr();function xr(){RD.call(this)}xr._configure=function(){xr.alloc=Pn._Buffer_allocUnsafe,xr.writeBytesBuffer=Pn.Buffer&&Pn.Buffer.prototype instanceof Uint8Array&&Pn.Buffer.prototype.set.name==="set"?function(e,t,o){t.set(e,o)}:function(e,t,o){if(e.copy)e.copy(t,o,0,e.length);else for(var s=0;s<e.length;)t[o++]=e[s++]}};xr.prototype.bytes=function(e){Pn.isString(e)&&(e=Pn._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(xr.writeBytesBuffer,t,e),this};function oX(i,e,t){i.length<40?Pn.utf8.write(i,e,t):e.utf8Write?e.utf8Write(i,t):e.write(i,t)}xr.prototype.string=function(e){var t=Pn.Buffer.byteLength(e);return this.uint32(t),t&&this._push(oX,t,e),this};xr._configure()});var zd=S((gge,MD)=>{"use strict";MD.exports=ke;var ur=Nr(),RE,PD=ur.LongBits,sX=ur.utf8;function dr(i,e){return RangeError("index out of range: "+i.pos+" + "+(e||1)+" > "+i.len)}function ke(i){this.buf=i,this.pos=0,this.len=i.length}var ND=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new ke(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new ke(e);throw Error("illegal buffer")},ID=function(){return ur.Buffer?function(t){return(ke.create=function(s){return ur.Buffer.isBuffer(s)?new RE(s):ND(s)})(t)}:ND};ke.create=ID();ke.prototype._slice=ur.Array.prototype.subarray||ur.Array.prototype.slice;ke.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,dr(this,10);return e}}();ke.prototype.int32=function(){return this.uint32()|0};ke.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function OE(){var i=new PD(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(i.lo=(i.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return i;if(i.lo=(i.lo|(this.buf[this.pos]&127)<<28)>>>0,i.hi=(i.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return i;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw dr(this);if(i.lo=(i.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return i}return i.lo=(i.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,i}if(this.len-this.pos>4){for(;e<5;++e)if(i.hi=(i.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return i}else for(;e<5;++e){if(this.pos>=this.len)throw dr(this);if(i.hi=(i.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return i}throw Error("invalid varint encoding")}ke.prototype.bool=function(){return this.uint32()!==0};function jd(i,e){return(i[e-4]|i[e-3]<<8|i[e-2]<<16|i[e-1]<<24)>>>0}ke.prototype.fixed32=function(){if(this.pos+4>this.len)throw dr(this,4);return jd(this.buf,this.pos+=4)};ke.prototype.sfixed32=function(){if(this.pos+4>this.len)throw dr(this,4);return jd(this.buf,this.pos+=4)|0};function xD(){if(this.pos+8>this.len)throw dr(this,8);return new PD(jd(this.buf,this.pos+=4),jd(this.buf,this.pos+=4))}ke.prototype.float=function(){if(this.pos+4>this.len)throw dr(this,4);var e=ur.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};ke.prototype.double=function(){if(this.pos+8>this.len)throw dr(this,4);var e=ur.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};ke.prototype.bytes=function(){var e=this.uint32(),t=this.pos,o=this.pos+e;if(o>this.len)throw dr(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,o);if(t===o){var s=ur.Buffer;return s?s.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,o)};ke.prototype.string=function(){var e=this.bytes();return sX.read(e,0,e.length)};ke.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw dr(this,e);this.pos+=e}else do if(this.pos>=this.len)throw dr(this);while(this.buf[this.pos++]&128);return this};ke.prototype.skipType=function(i){switch(i){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(i=this.uint32()&7)!==4;)this.skipType(i);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+i+" at offset "+this.pos)}return this};ke._configure=function(i){RE=i,ke.create=ID(),RE._configure();var e=ur.Long?"toLong":"toNumber";ur.merge(ke.prototype,{int64:function(){return OE.call(this)[e](!1)},uint64:function(){return OE.call(this)[e](!0)},sint64:function(){return OE.call(this).zzDecode()[e](!1)},fixed64:function(){return xD.call(this)[e](!0)},sfixed64:function(){return xD.call(this)[e](!1)}})}});var UD=S((Tge,DD)=>{"use strict";DD.exports=xi;var wD=zd();(xi.prototype=Object.create(wD.prototype)).constructor=xi;var LD=Nr();function xi(i){wD.call(this,i)}xi._configure=function(){LD.Buffer&&(xi.prototype._slice=LD.Buffer.prototype.slice)};xi.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};xi._configure()});var BD=S((yge,kD)=>{"use strict";kD.exports=dl;var bE=Nr();(dl.prototype=Object.create(bE.EventEmitter.prototype)).constructor=dl;function dl(i,e,t){if(typeof i!="function")throw TypeError("rpcImpl must be a function");bE.EventEmitter.call(this),this.rpcImpl=i,this.requestDelimited=!!e,this.responseDelimited=!!t}dl.prototype.rpcCall=function i(e,t,o,s,a){if(!s)throw TypeError("request must be specified");var n=this;if(!a)return bE.asPromise(i,n,e,t,o,s);if(!n.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return n.rpcImpl(e,t[n.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(l,c){if(l)return n.emit("error",l,e),a(l);if(c===null){n.end(!0);return}if(!(c instanceof o))try{c=o[n.responseDelimited?"decodeDelimited":"decode"](c)}catch(u){return n.emit("error",u,e),a(u)}return n.emit("data",c,e),a(null,c)})}catch(r){n.emit("error",r,e),setTimeout(function(){a(r)},0);return}};dl.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var CE=S(VD=>{"use strict";var aX=VD;aX.Service=BD()});var NE=S((Age,FD)=>{"use strict";FD.exports={}});var xE=S(GD=>{"use strict";var Ot=GD;Ot.build="minimal";Ot.Writer=Hd();Ot.BufferWriter=CD();Ot.Reader=zd();Ot.BufferReader=UD();Ot.util=Nr();Ot.rpc=CE();Ot.roots=NE();Ot.configure=qD;function qD(){Ot.util._configure(),Ot.Writer._configure(Ot.BufferWriter),Ot.Reader._configure(Ot.BufferReader)}qD()});var jD=S((Rge,HD)=>{"use strict";HD.exports=xE()});var $D=S((bge,zD)=>{"use strict";var $=jD(),g=$.Reader,ne=$.Writer,p=$.util,f=$.roots.default||($.roots.default={});f.opentelemetry=function(){var i={};return i.proto=function(){var e={};return e.common=function(){var t={};return t.v1=function(){var o={};return o.AnyValue=function(){function s(n){if(n)for(var r=Object.keys(n),l=0;l<r.length;++l)n[r[l]]!=null&&(this[r[l]]=n[r[l]])}s.prototype.stringValue=null,s.prototype.boolValue=null,s.prototype.intValue=null,s.prototype.doubleValue=null,s.prototype.arrayValue=null,s.prototype.kvlistValue=null,s.prototype.bytesValue=null;var a;return Object.defineProperty(s.prototype,"value",{get:p.oneOfGetter(a=["stringValue","boolValue","intValue","doubleValue","arrayValue","kvlistValue","bytesValue"]),set:p.oneOfSetter(a)}),s.create=function(r){return new s(r)},s.encode=function(r,l){return l||(l=ne.create()),r.stringValue!=null&&Object.hasOwnProperty.call(r,"stringValue")&&l.uint32(10).string(r.stringValue),r.boolValue!=null&&Object.hasOwnProperty.call(r,"boolValue")&&l.uint32(16).bool(r.boolValue),r.intValue!=null&&Object.hasOwnProperty.call(r,"intValue")&&l.uint32(24).int64(r.intValue),r.doubleValue!=null&&Object.hasOwnProperty.call(r,"doubleValue")&&l.uint32(33).double(r.doubleValue),r.arrayValue!=null&&Object.hasOwnProperty.call(r,"arrayValue")&&f.opentelemetry.proto.common.v1.ArrayValue.encode(r.arrayValue,l.uint32(42).fork()).ldelim(),r.kvlistValue!=null&&Object.hasOwnProperty.call(r,"kvlistValue")&&f.opentelemetry.proto.common.v1.KeyValueList.encode(r.kvlistValue,l.uint32(50).fork()).ldelim(),r.bytesValue!=null&&Object.hasOwnProperty.call(r,"bytesValue")&&l.uint32(58).bytes(r.bytesValue),l},s.encodeDelimited=function(r,l){return this.encode(r,l).ldelim()},s.decode=function(r,l){r instanceof g||(r=g.create(r));for(var c=l===void 0?r.len:r.pos+l,u=new f.opentelemetry.proto.common.v1.AnyValue;r.pos<c;){var d=r.uint32();switch(d>>>3){case 1:{u.stringValue=r.string();break}case 2:{u.boolValue=r.bool();break}case 3:{u.intValue=r.int64();break}case 4:{u.doubleValue=r.double();break}case 5:{u.arrayValue=f.opentelemetry.proto.common.v1.ArrayValue.decode(r,r.uint32());break}case 6:{u.kvlistValue=f.opentelemetry.proto.common.v1.KeyValueList.decode(r,r.uint32());break}case 7:{u.bytesValue=r.bytes();break}default:r.skipType(d&7);break}}return u},s.decodeDelimited=function(r){return r instanceof g||(r=new g(r)),this.decode(r,r.uint32())},s.verify=function(r){if(typeof r!="object"||r===null)return"object expected";var l={};if(r.stringValue!=null&&r.hasOwnProperty("stringValue")&&(l.value=1,!p.isString(r.stringValue)))return"stringValue: string expected";if(r.boolValue!=null&&r.hasOwnProperty("boolValue")){if(l.value===1)return"value: multiple values";if(l.value=1,typeof r.boolValue!="boolean")return"boolValue: boolean expected"}if(r.intValue!=null&&r.hasOwnProperty("intValue")){if(l.value===1)return"value: multiple values";if(l.value=1,!p.isInteger(r.intValue)&&!(r.intValue&&p.isInteger(r.intValue.low)&&p.isInteger(r.intValue.high)))return"intValue: integer|Long expected"}if(r.doubleValue!=null&&r.hasOwnProperty("doubleValue")){if(l.value===1)return"value: multiple values";if(l.value=1,typeof r.doubleValue!="number")return"doubleValue: number expected"}if(r.arrayValue!=null&&r.hasOwnProperty("arrayValue")){if(l.value===1)return"value: multiple values";l.value=1;{var c=f.opentelemetry.proto.common.v1.ArrayValue.verify(r.arrayValue);if(c)return"arrayValue."+c}}if(r.kvlistValue!=null&&r.hasOwnProperty("kvlistValue")){if(l.value===1)return"value: multiple values";l.value=1;{var c=f.opentelemetry.proto.common.v1.KeyValueList.verify(r.kvlistValue);if(c)return"kvlistValue."+c}}if(r.bytesValue!=null&&r.hasOwnProperty("bytesValue")){if(l.value===1)return"value: multiple values";if(l.value=1,!(r.bytesValue&&typeof r.bytesValue.length=="number"||p.isString(r.bytesValue)))return"bytesValue: buffer expected"}return null},s.fromObject=function(r){if(r instanceof f.opentelemetry.proto.common.v1.AnyValue)return r;var l=new f.opentelemetry.proto.common.v1.AnyValue;if(r.stringValue!=null&&(l.stringValue=String(r.stringValue)),r.boolValue!=null&&(l.boolValue=!!r.boolValue),r.intValue!=null&&(p.Long?(l.intValue=p.Long.fromValue(r.intValue)).unsigned=!1:typeof r.intValue=="string"?l.intValue=parseInt(r.intValue,10):typeof r.intValue=="number"?l.intValue=r.intValue:typeof r.intValue=="object"&&(l.intValue=new p.LongBits(r.intValue.low>>>0,r.intValue.high>>>0).toNumber())),r.doubleValue!=null&&(l.doubleValue=Number(r.doubleValue)),r.arrayValue!=null){if(typeof r.arrayValue!="object")throw TypeError(".opentelemetry.proto.common.v1.AnyValue.arrayValue: object expected");l.arrayValue=f.opentelemetry.proto.common.v1.ArrayValue.fromObject(r.arrayValue)}if(r.kvlistValue!=null){if(typeof r.kvlistValue!="object")throw TypeError(".opentelemetry.proto.common.v1.AnyValue.kvlistValue: object expected");l.kvlistValue=f.opentelemetry.proto.common.v1.KeyValueList.fromObject(r.kvlistValue)}return r.bytesValue!=null&&(typeof r.bytesValue=="string"?p.base64.decode(r.bytesValue,l.bytesValue=p.newBuffer(p.base64.length(r.bytesValue)),0):r.bytesValue.length>=0&&(l.bytesValue=r.bytesValue)),l},s.toObject=function(r,l){l||(l={});var c={};return r.stringValue!=null&&r.hasOwnProperty("stringValue")&&(c.stringValue=r.stringValue,l.oneofs&&(c.value="stringValue")),r.boolValue!=null&&r.hasOwnProperty("boolValue")&&(c.boolValue=r.boolValue,l.oneofs&&(c.value="boolValue")),r.intValue!=null&&r.hasOwnProperty("intValue")&&(typeof r.intValue=="number"?c.intValue=l.longs===String?String(r.intValue):r.intValue:c.intValue=l.longs===String?p.Long.prototype.toString.call(r.intValue):l.longs===Number?new p.LongBits(r.intValue.low>>>0,r.intValue.high>>>0).toNumber():r.intValue,l.oneofs&&(c.value="intValue")),r.doubleValue!=null&&r.hasOwnProperty("doubleValue")&&(c.doubleValue=l.json&&!isFinite(r.doubleValue)?String(r.doubleValue):r.doubleValue,l.oneofs&&(c.value="doubleValue")),r.arrayValue!=null&&r.hasOwnProperty("arrayValue")&&(c.arrayValue=f.opentelemetry.proto.common.v1.ArrayValue.toObject(r.arrayValue,l),l.oneofs&&(c.value="arrayValue")),r.kvlistValue!=null&&r.hasOwnProperty("kvlistValue")&&(c.kvlistValue=f.opentelemetry.proto.common.v1.KeyValueList.toObject(r.kvlistValue,l),l.oneofs&&(c.value="kvlistValue")),r.bytesValue!=null&&r.hasOwnProperty("bytesValue")&&(c.bytesValue=l.bytes===String?p.base64.encode(r.bytesValue,0,r.bytesValue.length):l.bytes===Array?Array.prototype.slice.call(r.bytesValue):r.bytesValue,l.oneofs&&(c.value="bytesValue")),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.common.v1.AnyValue"},s}(),o.ArrayValue=function(){function s(a){if(this.values=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.values=p.emptyArray,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.values!=null&&n.values.length)for(var l=0;l<n.values.length;++l)f.opentelemetry.proto.common.v1.AnyValue.encode(n.values[l],r.uint32(10).fork()).ldelim();return r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof g||(n=g.create(n));for(var l=r===void 0?n.len:n.pos+r,c=new f.opentelemetry.proto.common.v1.ArrayValue;n.pos<l;){var u=n.uint32();switch(u>>>3){case 1:{c.values&&c.values.length||(c.values=[]),c.values.push(f.opentelemetry.proto.common.v1.AnyValue.decode(n,n.uint32()));break}default:n.skipType(u&7);break}}return c},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.values!=null&&n.hasOwnProperty("values")){if(!Array.isArray(n.values))return"values: array expected";for(var r=0;r<n.values.length;++r){var l=f.opentelemetry.proto.common.v1.AnyValue.verify(n.values[r]);if(l)return"values."+l}}return null},s.fromObject=function(n){if(n instanceof f.opentelemetry.proto.common.v1.ArrayValue)return n;var r=new f.opentelemetry.proto.common.v1.ArrayValue;if(n.values){if(!Array.isArray(n.values))throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: array expected");r.values=[];for(var l=0;l<n.values.length;++l){if(typeof n.values[l]!="object")throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: object expected");r.values[l]=f.opentelemetry.proto.common.v1.AnyValue.fromObject(n.values[l])}}return r},s.toObject=function(n,r){r||(r={});var l={};if((r.arrays||r.defaults)&&(l.values=[]),n.values&&n.values.length){l.values=[];for(var c=0;c<n.values.length;++c)l.values[c]=f.opentelemetry.proto.common.v1.AnyValue.toObject(n.values[c],r)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.common.v1.ArrayValue"},s}(),o.KeyValueList=function(){function s(a){if(this.values=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.values=p.emptyArray,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.values!=null&&n.values.length)for(var l=0;l<n.values.length;++l)f.opentelemetry.proto.common.v1.KeyValue.encode(n.values[l],r.uint32(10).fork()).ldelim();return r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof g||(n=g.create(n));for(var l=r===void 0?n.len:n.pos+r,c=new f.opentelemetry.proto.common.v1.KeyValueList;n.pos<l;){var u=n.uint32();switch(u>>>3){case 1:{c.values&&c.values.length||(c.values=[]),c.values.push(f.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}default:n.skipType(u&7);break}}return c},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.values!=null&&n.hasOwnProperty("values")){if(!Array.isArray(n.values))return"values: array expected";for(var r=0;r<n.values.length;++r){var l=f.opentelemetry.proto.common.v1.KeyValue.verify(n.values[r]);if(l)return"values."+l}}return null},s.fromObject=function(n){if(n instanceof f.opentelemetry.proto.common.v1.KeyValueList)return n;var r=new f.opentelemetry.proto.common.v1.KeyValueList;if(n.values){if(!Array.isArray(n.values))throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: array expected");r.values=[];for(var l=0;l<n.values.length;++l){if(typeof n.values[l]!="object")throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: object expected");r.values[l]=f.opentelemetry.proto.common.v1.KeyValue.fromObject(n.values[l])}}return r},s.toObject=function(n,r){r||(r={});var l={};if((r.arrays||r.defaults)&&(l.values=[]),n.values&&n.values.length){l.values=[];for(var c=0;c<n.values.length;++c)l.values[c]=f.opentelemetry.proto.common.v1.KeyValue.toObject(n.values[c],r)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.common.v1.KeyValueList"},s}(),o.KeyValue=function(){function s(a){if(a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.key=null,s.prototype.value=null,s.create=function(n){return new s(n)},s.encode=function(n,r){return r||(r=ne.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&r.uint32(10).string(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&f.opentelemetry.proto.common.v1.AnyValue.encode(n.value,r.uint32(18).fork()).ldelim(),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof g||(n=g.create(n));for(var l=r===void 0?n.len:n.pos+r,c=new f.opentelemetry.proto.common.v1.KeyValue;n.pos<l;){var u=n.uint32();switch(u>>>3){case 1:{c.key=n.string();break}case 2:{c.value=f.opentelemetry.proto.common.v1.AnyValue.decode(n,n.uint32());break}default:n.skipType(u&7);break}}return c},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.key!=null&&n.hasOwnProperty("key")&&!p.isString(n.key))return"key: string expected";if(n.value!=null&&n.hasOwnProperty("value")){var r=f.opentelemetry.proto.common.v1.AnyValue.verify(n.value);if(r)return"value."+r}return null},s.fromObject=function(n){if(n instanceof f.opentelemetry.proto.common.v1.KeyValue)return n;var r=new f.opentelemetry.proto.common.v1.KeyValue;if(n.key!=null&&(r.key=String(n.key)),n.value!=null){if(typeof n.value!="object")throw TypeError(".opentelemetry.proto.common.v1.KeyValue.value: object expected");r.value=f.opentelemetry.proto.common.v1.AnyValue.fromObject(n.value)}return r},s.toObject=function(n,r){r||(r={});var l={};return r.defaults&&(l.key="",l.value=null),n.key!=null&&n.hasOwnProperty("key")&&(l.key=n.key),n.value!=null&&n.hasOwnProperty("value")&&(l.value=f.opentelemetry.proto.common.v1.AnyValue.toObject(n.value,r)),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.common.v1.KeyValue"},s}(),o.InstrumentationScope=function(){function s(a){if(this.attributes=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.name=null,s.prototype.version=null,s.prototype.attributes=p.emptyArray,s.prototype.droppedAttributesCount=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&r.uint32(10).string(n.name),n.version!=null&&Object.hasOwnProperty.call(n,"version")&&r.uint32(18).string(n.version),n.attributes!=null&&n.attributes.length)for(var l=0;l<n.attributes.length;++l)f.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[l],r.uint32(26).fork()).ldelim();return n.droppedAttributesCount!=null&&Object.hasOwnProperty.call(n,"droppedAttributesCount")&&r.uint32(32).uint32(n.droppedAttributesCount),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof g||(n=g.create(n));for(var l=r===void 0?n.len:n.pos+r,c=new f.opentelemetry.proto.common.v1.InstrumentationScope;n.pos<l;){var u=n.uint32();switch(u>>>3){case 1:{c.name=n.string();break}case 2:{c.version=n.string();break}case 3:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(f.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 4:{c.droppedAttributesCount=n.uint32();break}default:n.skipType(u&7);break}}return c},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.name!=null&&n.hasOwnProperty("name")&&!p.isString(n.name))return"name: string expected";if(n.version!=null&&n.hasOwnProperty("version")&&!p.isString(n.version))return"version: string expected";if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var r=0;r<n.attributes.length;++r){var l=f.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[r]);if(l)return"attributes."+l}}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&!p.isInteger(n.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},s.fromObject=function(n){if(n instanceof f.opentelemetry.proto.common.v1.InstrumentationScope)return n;var r=new f.opentelemetry.proto.common.v1.InstrumentationScope;if(n.name!=null&&(r.name=String(n.name)),n.version!=null&&(r.version=String(n.version)),n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: array expected");r.attributes=[];for(var l=0;l<n.attributes.length;++l){if(typeof n.attributes[l]!="object")throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: object expected");r.attributes[l]=f.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[l])}}return n.droppedAttributesCount!=null&&(r.droppedAttributesCount=n.droppedAttributesCount>>>0),r},s.toObject=function(n,r){r||(r={});var l={};if((r.arrays||r.defaults)&&(l.attributes=[]),r.defaults&&(l.name="",l.version="",l.droppedAttributesCount=0),n.name!=null&&n.hasOwnProperty("name")&&(l.name=n.name),n.version!=null&&n.hasOwnProperty("version")&&(l.version=n.version),n.attributes&&n.attributes.length){l.attributes=[];for(var c=0;c<n.attributes.length;++c)l.attributes[c]=f.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[c],r)}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&(l.droppedAttributesCount=n.droppedAttributesCount),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.common.v1.InstrumentationScope"},s}(),o}(),t}(),e.resource=function(){var t={};return t.v1=function(){var o={};return o.Resource=function(){function s(a){if(this.attributes=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.attributes=p.emptyArray,s.prototype.droppedAttributesCount=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.attributes!=null&&n.attributes.length)for(var l=0;l<n.attributes.length;++l)f.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[l],r.uint32(10).fork()).ldelim();return n.droppedAttributesCount!=null&&Object.hasOwnProperty.call(n,"droppedAttributesCount")&&r.uint32(16).uint32(n.droppedAttributesCount),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof g||(n=g.create(n));for(var l=r===void 0?n.len:n.pos+r,c=new f.opentelemetry.proto.resource.v1.Resource;n.pos<l;){var u=n.uint32();switch(u>>>3){case 1:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(f.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 2:{c.droppedAttributesCount=n.uint32();break}default:n.skipType(u&7);break}}return c},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var r=0;r<n.attributes.length;++r){var l=f.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[r]);if(l)return"attributes."+l}}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&!p.isInteger(n.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},s.fromObject=function(n){if(n instanceof f.opentelemetry.proto.resource.v1.Resource)return n;var r=new f.opentelemetry.proto.resource.v1.Resource;if(n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: array expected");r.attributes=[];for(var l=0;l<n.attributes.length;++l){if(typeof n.attributes[l]!="object")throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: object expected");r.attributes[l]=f.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[l])}}return n.droppedAttributesCount!=null&&(r.droppedAttributesCount=n.droppedAttributesCount>>>0),r},s.toObject=function(n,r){r||(r={});var l={};if((r.arrays||r.defaults)&&(l.attributes=[]),r.defaults&&(l.droppedAttributesCount=0),n.attributes&&n.attributes.length){l.attributes=[];for(var c=0;c<n.attributes.length;++c)l.attributes[c]=f.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[c],r)}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&(l.droppedAttributesCount=n.droppedAttributesCount),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.resource.v1.Resource"},s}(),o}(),t}(),e.trace=function(){var t={};return t.v1=function(){var o={};return o.TracesData=function(){function s(a){if(this.resourceSpans=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.resourceSpans=p.emptyArray,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.resourceSpans!=null&&n.resourceSpans.length)for(var l=0;l<n.resourceSpans.length;++l)f.opentelemetry.proto.trace.v1.ResourceSpans.encode(n.resourceSpans[l],r.uint32(10).fork()).ldelim();return r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof g||(n=g.create(n));for(var l=r===void 0?n.len:n.pos+r,c=new f.opentelemetry.proto.trace.v1.TracesData;n.pos<l;){var u=n.uint32();switch(u>>>3){case 1:{c.resourceSpans&&c.resourceSpans.length||(c.resourceSpans=[]),c.resourceSpans.push(f.opentelemetry.proto.trace.v1.ResourceSpans.decode(n,n.uint32()));break}default:n.skipType(u&7);break}}return c},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resourceSpans!=null&&n.hasOwnProperty("resourceSpans")){if(!Array.isArray(n.resourceSpans))return"resourceSpans: array expected";for(var r=0;r<n.resourceSpans.length;++r){var l=f.opentelemetry.proto.trace.v1.ResourceSpans.verify(n.resourceSpans[r]);if(l)return"resourceSpans."+l}}return null},s.fromObject=function(n){if(n instanceof f.opentelemetry.proto.trace.v1.TracesData)return n;var r=new f.opentelemetry.proto.trace.v1.TracesData;if(n.resourceSpans){if(!Array.isArray(n.resourceSpans))throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: array expected");r.resourceSpans=[];for(var l=0;l<n.resourceSpans.length;++l){if(typeof n.resourceSpans[l]!="object")throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: object expected");r.resourceSpans[l]=f.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(n.resourceSpans[l])}}return r},s.toObject=function(n,r){r||(r={});var l={};if((r.arrays||r.defaults)&&(l.resourceSpans=[]),n.resourceSpans&&n.resourceSpans.length){l.resourceSpans=[];for(var c=0;c<n.resourceSpans.length;++c)l.resourceSpans[c]=f.opentelemetry.proto.trace.v1.ResourceSpans.toObject(n.resourceSpans[c],r)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.trace.v1.TracesData"},s}(),o.ResourceSpans=function(){function s(a){if(this.scopeSpans=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.resource=null,s.prototype.scopeSpans=p.emptyArray,s.prototype.schemaUrl=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.resource!=null&&Object.hasOwnProperty.call(n,"resource")&&f.opentelemetry.proto.resource.v1.Resource.encode(n.resource,r.uint32(10).fork()).ldelim(),n.scopeSpans!=null&&n.scopeSpans.length)for(var l=0;l<n.scopeSpans.length;++l)f.opentelemetry.proto.trace.v1.ScopeSpans.encode(n.scopeSpans[l],r.uint32(18).fork()).ldelim();return n.schemaUrl!=null&&Object.hasOwnProperty.call(n,"schemaUrl")&&r.uint32(26).string(n.schemaUrl),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof g||(n=g.create(n));for(var l=r===void 0?n.len:n.pos+r,c=new f.opentelemetry.proto.trace.v1.ResourceSpans;n.pos<l;){var u=n.uint32();switch(u>>>3){case 1:{c.resource=f.opentelemetry.proto.resource.v1.Resource.decode(n,n.uint32());break}case 2:{c.scopeSpans&&c.scopeSpans.length||(c.scopeSpans=[]),c.scopeSpans.push(f.opentelemetry.proto.trace.v1.ScopeSpans.decode(n,n.uint32()));break}case 3:{c.schemaUrl=n.string();break}default:n.skipType(u&7);break}}return c},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resource!=null&&n.hasOwnProperty("resource")){var r=f.opentelemetry.proto.resource.v1.Resource.verify(n.resource);if(r)return"resource."+r}if(n.scopeSpans!=null&&n.hasOwnProperty("scopeSpans")){if(!Array.isArray(n.scopeSpans))return"scopeSpans: array expected";for(var l=0;l<n.scopeSpans.length;++l){var r=f.opentelemetry.proto.trace.v1.ScopeSpans.verify(n.scopeSpans[l]);if(r)return"scopeSpans."+r}}return n.schemaUrl!=null&&n.hasOwnProperty("schemaUrl")&&!p.isString(n.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(n){if(n instanceof f.opentelemetry.proto.trace.v1.ResourceSpans)return n;var r=new f.opentelemetry.proto.trace.v1.ResourceSpans;if(n.resource!=null){if(typeof n.resource!="object")throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.resource: object expected");r.resource=f.opentelemetry.proto.resource.v1.Resource.fromObject(n.resource)}if(n.scopeSpans){if(!Array.isArray(n.scopeSpans))throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: array expected");r.scopeSpans=[];for(var l=0;l<n.scopeSpans.length;++l){if(typeof n.scopeSpans[l]!="object")throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: object expected");r.scopeSpans[l]=f.opentelemetry.proto.trace.v1.ScopeSpans.fromObject(n.scopeSpans[l])}}return n.schemaUrl!=null&&(r.schemaUrl=String(n.schemaUrl)),r},s.toObject=function(n,r){r||(r={});var l={};if((r.arrays||r.defaults)&&(l.scopeSpans=[]),r.defaults&&(l.resource=null,l.schemaUrl=""),n.resource!=null&&n.hasOwnProperty("resource")&&(l.resource=f.opentelemetry.proto.resource.v1.Resource.toObject(n.resource,r)),n.scopeSpans&&n.scopeSpans.length){l.scopeSpans=[];for(var c=0;c<n.scopeSpans.length;++c)l.scopeSpans[c]=f.opentelemetry.proto.trace.v1.ScopeSpans.toObject(n.scopeSpans[c],r)}return n.schemaUrl!=null&&n.hasOwnProperty("schemaUrl")&&(l.schemaUrl=n.schemaUrl),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.trace.v1.ResourceSpans"},s}(),o.ScopeSpans=function(){function s(a){if(this.spans=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.scope=null,s.prototype.spans=p.emptyArray,s.prototype.schemaUrl=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.scope!=null&&Object.hasOwnProperty.call(n,"scope")&&f.opentelemetry.proto.common.v1.InstrumentationScope.encode(n.scope,r.uint32(10).fork()).ldelim(),n.spans!=null&&n.spans.length)for(var l=0;l<n.spans.length;++l)f.opentelemetry.proto.trace.v1.Span.encode(n.spans[l],r.uint32(18).fork()).ldelim();return n.schemaUrl!=null&&Object.hasOwnProperty.call(n,"schemaUrl")&&r.uint32(26).string(n.schemaUrl),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof g||(n=g.create(n));for(var l=r===void 0?n.len:n.pos+r,c=new f.opentelemetry.proto.trace.v1.ScopeSpans;n.pos<l;){var u=n.uint32();switch(u>>>3){case 1:{c.scope=f.opentelemetry.proto.common.v1.InstrumentationScope.decode(n,n.uint32());break}case 2:{c.spans&&c.spans.length||(c.spans=[]),c.spans.push(f.opentelemetry.proto.trace.v1.Span.decode(n,n.uint32()));break}case 3:{c.schemaUrl=n.string();break}default:n.skipType(u&7);break}}return c},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.scope!=null&&n.hasOwnProperty("scope")){var r=f.opentelemetry.proto.common.v1.InstrumentationScope.verify(n.scope);if(r)return"scope."+r}if(n.spans!=null&&n.hasOwnProperty("spans")){if(!Array.isArray(n.spans))return"spans: array expected";for(var l=0;l<n.spans.length;++l){var r=f.opentelemetry.proto.trace.v1.Span.verify(n.spans[l]);if(r)return"spans."+r}}return n.schemaUrl!=null&&n.hasOwnProperty("schemaUrl")&&!p.isString(n.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(n){if(n instanceof f.opentelemetry.proto.trace.v1.ScopeSpans)return n;var r=new f.opentelemetry.proto.trace.v1.ScopeSpans;if(n.scope!=null){if(typeof n.scope!="object")throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.scope: object expected");r.scope=f.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(n.scope)}if(n.spans){if(!Array.isArray(n.spans))throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: array expected");r.spans=[];for(var l=0;l<n.spans.length;++l){if(typeof n.spans[l]!="object")throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: object expected");r.spans[l]=f.opentelemetry.proto.trace.v1.Span.fromObject(n.spans[l])}}return n.schemaUrl!=null&&(r.schemaUrl=String(n.schemaUrl)),r},s.toObject=function(n,r){r||(r={});var l={};if((r.arrays||r.defaults)&&(l.spans=[]),r.defaults&&(l.scope=null,l.schemaUrl=""),n.scope!=null&&n.hasOwnProperty("scope")&&(l.scope=f.opentelemetry.proto.common.v1.InstrumentationScope.toObject(n.scope,r)),n.spans&&n.spans.length){l.spans=[];for(var c=0;c<n.spans.length;++c)l.spans[c]=f.opentelemetry.proto.trace.v1.Span.toObject(n.spans[c],r)}return n.schemaUrl!=null&&n.hasOwnProperty("schemaUrl")&&(l.schemaUrl=n.schemaUrl),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.trace.v1.ScopeSpans"},s}(),o.Span=function(){function s(a){if(this.attributes=[],this.events=[],this.links=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.traceId=null,s.prototype.spanId=null,s.prototype.traceState=null,s.prototype.parentSpanId=null,s.prototype.name=null,s.prototype.kind=null,s.prototype.startTimeUnixNano=null,s.prototype.endTimeUnixNano=null,s.prototype.attributes=p.emptyArray,s.prototype.droppedAttributesCount=null,s.prototype.events=p.emptyArray,s.prototype.droppedEventsCount=null,s.prototype.links=p.emptyArray,s.prototype.droppedLinksCount=null,s.prototype.status=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.traceId!=null&&Object.hasOwnProperty.call(n,"traceId")&&r.uint32(10).bytes(n.traceId),n.spanId!=null&&Object.hasOwnProperty.call(n,"spanId")&&r.uint32(18).bytes(n.spanId),n.traceState!=null&&Object.hasOwnProperty.call(n,"traceState")&&r.uint32(26).string(n.traceState),n.parentSpanId!=null&&Object.hasOwnProperty.call(n,"parentSpanId")&&r.uint32(34).bytes(n.parentSpanId),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&r.uint32(42).string(n.name),n.kind!=null&&Object.hasOwnProperty.call(n,"kind")&&r.uint32(48).int32(n.kind),n.startTimeUnixNano!=null&&Object.hasOwnProperty.call(n,"startTimeUnixNano")&&r.uint32(57).fixed64(n.startTimeUnixNano),n.endTimeUnixNano!=null&&Object.hasOwnProperty.call(n,"endTimeUnixNano")&&r.uint32(65).fixed64(n.endTimeUnixNano),n.attributes!=null&&n.attributes.length)for(var l=0;l<n.attributes.length;++l)f.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[l],r.uint32(74).fork()).ldelim();if(n.droppedAttributesCount!=null&&Object.hasOwnProperty.call(n,"droppedAttributesCount")&&r.uint32(80).uint32(n.droppedAttributesCount),n.events!=null&&n.events.length)for(var l=0;l<n.events.length;++l)f.opentelemetry.proto.trace.v1.Span.Event.encode(n.events[l],r.uint32(90).fork()).ldelim();if(n.droppedEventsCount!=null&&Object.hasOwnProperty.call(n,"droppedEventsCount")&&r.uint32(96).uint32(n.droppedEventsCount),n.links!=null&&n.links.length)for(var l=0;l<n.links.length;++l)f.opentelemetry.proto.trace.v1.Span.Link.encode(n.links[l],r.uint32(106).fork()).ldelim();return n.droppedLinksCount!=null&&Object.hasOwnProperty.call(n,"droppedLinksCount")&&r.uint32(112).uint32(n.droppedLinksCount),n.status!=null&&Object.hasOwnProperty.call(n,"status")&&f.opentelemetry.proto.trace.v1.Status.encode(n.status,r.uint32(122).fork()).ldelim(),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof g||(n=g.create(n));for(var l=r===void 0?n.len:n.pos+r,c=new f.opentelemetry.proto.trace.v1.Span;n.pos<l;){var u=n.uint32();switch(u>>>3){case 1:{c.traceId=n.bytes();break}case 2:{c.spanId=n.bytes();break}case 3:{c.traceState=n.string();break}case 4:{c.parentSpanId=n.bytes();break}case 5:{c.name=n.string();break}case 6:{c.kind=n.int32();break}case 7:{c.startTimeUnixNano=n.fixed64();break}case 8:{c.endTimeUnixNano=n.fixed64();break}case 9:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(f.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 10:{c.droppedAttributesCount=n.uint32();break}case 11:{c.events&&c.events.length||(c.events=[]),c.events.push(f.opentelemetry.proto.trace.v1.Span.Event.decode(n,n.uint32()));break}case 12:{c.droppedEventsCount=n.uint32();break}case 13:{c.links&&c.links.length||(c.links=[]),c.links.push(f.opentelemetry.proto.trace.v1.Span.Link.decode(n,n.uint32()));break}case 14:{c.droppedLinksCount=n.uint32();break}case 15:{c.status=f.opentelemetry.proto.trace.v1.Status.decode(n,n.uint32());break}default:n.skipType(u&7);break}}return c},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.traceId!=null&&n.hasOwnProperty("traceId")&&!(n.traceId&&typeof n.traceId.length=="number"||p.isString(n.traceId)))return"traceId: buffer expected";if(n.spanId!=null&&n.hasOwnProperty("spanId")&&!(n.spanId&&typeof n.spanId.length=="number"||p.isString(n.spanId)))return"spanId: buffer expected";if(n.traceState!=null&&n.hasOwnProperty("traceState")&&!p.isString(n.traceState))return"traceState: string expected";if(n.parentSpanId!=null&&n.hasOwnProperty("parentSpanId")&&!(n.parentSpanId&&typeof n.parentSpanId.length=="number"||p.isString(n.parentSpanId)))return"parentSpanId: buffer expected";if(n.name!=null&&n.hasOwnProperty("name")&&!p.isString(n.name))return"name: string expected";if(n.kind!=null&&n.hasOwnProperty("kind"))switch(n.kind){default:return"kind: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:break}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&!p.isInteger(n.startTimeUnixNano)&&!(n.startTimeUnixNano&&p.isInteger(n.startTimeUnixNano.low)&&p.isInteger(n.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(n.endTimeUnixNano!=null&&n.hasOwnProperty("endTimeUnixNano")&&!p.isInteger(n.endTimeUnixNano)&&!(n.endTimeUnixNano&&p.isInteger(n.endTimeUnixNano.low)&&p.isInteger(n.endTimeUnixNano.high)))return"endTimeUnixNano: integer|Long expected";if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var r=0;r<n.attributes.length;++r){var l=f.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[r]);if(l)return"attributes."+l}}if(n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&!p.isInteger(n.droppedAttributesCount))return"droppedAttributesCount: integer expected";if(n.events!=null&&n.hasOwnProperty("events")){if(!Array.isArray(n.events))return"events: array expected";for(var r=0;r<n.events.length;++r){var l=f.opentelemetry.proto.trace.v1.Span.Event.verify(n.events[r]);if(l)return"events."+l}}if(n.droppedEventsCount!=null&&n.hasOwnProperty("droppedEventsCount")&&!p.isInteger(n.droppedEventsCount))return"droppedEventsCount: integer expected";if(n.links!=null&&n.hasOwnProperty("links")){if(!Array.isArray(n.links))return"links: array expected";for(var r=0;r<n.links.length;++r){var l=f.opentelemetry.proto.trace.v1.Span.Link.verify(n.links[r]);if(l)return"links."+l}}if(n.droppedLinksCount!=null&&n.hasOwnProperty("droppedLinksCount")&&!p.isInteger(n.droppedLinksCount))return"droppedLinksCount: integer expected";if(n.status!=null&&n.hasOwnProperty("status")){var l=f.opentelemetry.proto.trace.v1.Status.verify(n.status);if(l)return"status."+l}return null},s.fromObject=function(n){if(n instanceof f.opentelemetry.proto.trace.v1.Span)return n;var r=new f.opentelemetry.proto.trace.v1.Span;switch(n.traceId!=null&&(typeof n.traceId=="string"?p.base64.decode(n.traceId,r.traceId=p.newBuffer(p.base64.length(n.traceId)),0):n.traceId.length>=0&&(r.traceId=n.traceId)),n.spanId!=null&&(typeof n.spanId=="string"?p.base64.decode(n.spanId,r.spanId=p.newBuffer(p.base64.length(n.spanId)),0):n.spanId.length>=0&&(r.spanId=n.spanId)),n.traceState!=null&&(r.traceState=String(n.traceState)),n.parentSpanId!=null&&(typeof n.parentSpanId=="string"?p.base64.decode(n.parentSpanId,r.parentSpanId=p.newBuffer(p.base64.length(n.parentSpanId)),0):n.parentSpanId.length>=0&&(r.parentSpanId=n.parentSpanId)),n.name!=null&&(r.name=String(n.name)),n.kind){default:if(typeof n.kind=="number"){r.kind=n.kind;break}break;case"SPAN_KIND_UNSPECIFIED":case 0:r.kind=0;break;case"SPAN_KIND_INTERNAL":case 1:r.kind=1;break;case"SPAN_KIND_SERVER":case 2:r.kind=2;break;case"SPAN_KIND_CLIENT":case 3:r.kind=3;break;case"SPAN_KIND_PRODUCER":case 4:r.kind=4;break;case"SPAN_KIND_CONSUMER":case 5:r.kind=5;break}if(n.startTimeUnixNano!=null&&(p.Long?(r.startTimeUnixNano=p.Long.fromValue(n.startTimeUnixNano)).unsigned=!1:typeof n.startTimeUnixNano=="string"?r.startTimeUnixNano=parseInt(n.startTimeUnixNano,10):typeof n.startTimeUnixNano=="number"?r.startTimeUnixNano=n.startTimeUnixNano:typeof n.startTimeUnixNano=="object"&&(r.startTimeUnixNano=new p.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber())),n.endTimeUnixNano!=null&&(p.Long?(r.endTimeUnixNano=p.Long.fromValue(n.endTimeUnixNano)).unsigned=!1:typeof n.endTimeUnixNano=="string"?r.endTimeUnixNano=parseInt(n.endTimeUnixNano,10):typeof n.endTimeUnixNano=="number"?r.endTimeUnixNano=n.endTimeUnixNano:typeof n.endTimeUnixNano=="object"&&(r.endTimeUnixNano=new p.LongBits(n.endTimeUnixNano.low>>>0,n.endTimeUnixNano.high>>>0).toNumber())),n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: array expected");r.attributes=[];for(var l=0;l<n.attributes.length;++l){if(typeof n.attributes[l]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: object expected");r.attributes[l]=f.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[l])}}if(n.droppedAttributesCount!=null&&(r.droppedAttributesCount=n.droppedAttributesCount>>>0),n.events){if(!Array.isArray(n.events))throw TypeError(".opentelemetry.proto.trace.v1.Span.events: array expected");r.events=[];for(var l=0;l<n.events.length;++l){if(typeof n.events[l]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.events: object expected");r.events[l]=f.opentelemetry.proto.trace.v1.Span.Event.fromObject(n.events[l])}}if(n.droppedEventsCount!=null&&(r.droppedEventsCount=n.droppedEventsCount>>>0),n.links){if(!Array.isArray(n.links))throw TypeError(".opentelemetry.proto.trace.v1.Span.links: array expected");r.links=[];for(var l=0;l<n.links.length;++l){if(typeof n.links[l]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.links: object expected");r.links[l]=f.opentelemetry.proto.trace.v1.Span.Link.fromObject(n.links[l])}}if(n.droppedLinksCount!=null&&(r.droppedLinksCount=n.droppedLinksCount>>>0),n.status!=null){if(typeof n.status!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.status: object expected");r.status=f.opentelemetry.proto.trace.v1.Status.fromObject(n.status)}return r},s.toObject=function(n,r){r||(r={});var l={};if((r.arrays||r.defaults)&&(l.attributes=[],l.events=[],l.links=[]),r.defaults){if(r.bytes===String?l.traceId="":(l.traceId=[],r.bytes!==Array&&(l.traceId=p.newBuffer(l.traceId))),r.bytes===String?l.spanId="":(l.spanId=[],r.bytes!==Array&&(l.spanId=p.newBuffer(l.spanId))),l.traceState="",r.bytes===String?l.parentSpanId="":(l.parentSpanId=[],r.bytes!==Array&&(l.parentSpanId=p.newBuffer(l.parentSpanId))),l.name="",l.kind=r.enums===String?"SPAN_KIND_UNSPECIFIED":0,p.Long){var c=new p.Long(0,0,!1);l.startTimeUnixNano=r.longs===String?c.toString():r.longs===Number?c.toNumber():c}else l.startTimeUnixNano=r.longs===String?"0":0;if(p.Long){var c=new p.Long(0,0,!1);l.endTimeUnixNano=r.longs===String?c.toString():r.longs===Number?c.toNumber():c}else l.endTimeUnixNano=r.longs===String?"0":0;l.droppedAttributesCount=0,l.droppedEventsCount=0,l.droppedLinksCount=0,l.status=null}if(n.traceId!=null&&n.hasOwnProperty("traceId")&&(l.traceId=r.bytes===String?p.base64.encode(n.traceId,0,n.traceId.length):r.bytes===Array?Array.prototype.slice.call(n.traceId):n.traceId),n.spanId!=null&&n.hasOwnProperty("spanId")&&(l.spanId=r.bytes===String?p.base64.encode(n.spanId,0,n.spanId.length):r.bytes===Array?Array.prototype.slice.call(n.spanId):n.spanId),n.traceState!=null&&n.hasOwnProperty("traceState")&&(l.traceState=n.traceState),n.parentSpanId!=null&&n.hasOwnProperty("parentSpanId")&&(l.parentSpanId=r.bytes===String?p.base64.encode(n.parentSpanId,0,n.parentSpanId.length):r.bytes===Array?Array.prototype.slice.call(n.parentSpanId):n.parentSpanId),n.name!=null&&n.hasOwnProperty("name")&&(l.name=n.name),n.kind!=null&&n.hasOwnProperty("kind")&&(l.kind=r.enums===String?f.opentelemetry.proto.trace.v1.Span.SpanKind[n.kind]===void 0?n.kind:f.opentelemetry.proto.trace.v1.Span.SpanKind[n.kind]:n.kind),n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&(typeof n.startTimeUnixNano=="number"?l.startTimeUnixNano=r.longs===String?String(n.startTimeUnixNano):n.startTimeUnixNano:l.startTimeUnixNano=r.longs===String?p.Long.prototype.toString.call(n.startTimeUnixNano):r.longs===Number?new p.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber():n.startTimeUnixNano),n.endTimeUnixNano!=null&&n.hasOwnProperty("endTimeUnixNano")&&(typeof n.endTimeUnixNano=="number"?l.endTimeUnixNano=r.longs===String?String(n.endTimeUnixNano):n.endTimeUnixNano:l.endTimeUnixNano=r.longs===String?p.Long.prototype.toString.call(n.endTimeUnixNano):r.longs===Number?new p.LongBits(n.endTimeUnixNano.low>>>0,n.endTimeUnixNano.high>>>0).toNumber():n.endTimeUnixNano),n.attributes&&n.attributes.length){l.attributes=[];for(var u=0;u<n.attributes.length;++u)l.attributes[u]=f.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[u],r)}if(n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&(l.droppedAttributesCount=n.droppedAttributesCount),n.events&&n.events.length){l.events=[];for(var u=0;u<n.events.length;++u)l.events[u]=f.opentelemetry.proto.trace.v1.Span.Event.toObject(n.events[u],r)}if(n.droppedEventsCount!=null&&n.hasOwnProperty("droppedEventsCount")&&(l.droppedEventsCount=n.droppedEventsCount),n.links&&n.links.length){l.links=[];for(var u=0;u<n.links.length;++u)l.links[u]=f.opentelemetry.proto.trace.v1.Span.Link.toObject(n.links[u],r)}return n.droppedLinksCount!=null&&n.hasOwnProperty("droppedLinksCount")&&(l.droppedLinksCount=n.droppedLinksCount),n.status!=null&&n.hasOwnProperty("status")&&(l.status=f.opentelemetry.proto.trace.v1.Status.toObject(n.status,r)),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.trace.v1.Span"},s.SpanKind=function(){var a={},n=Object.create(a);return n[a[0]="SPAN_KIND_UNSPECIFIED"]=0,n[a[1]="SPAN_KIND_INTERNAL"]=1,n[a[2]="SPAN_KIND_SERVER"]=2,n[a[3]="SPAN_KIND_CLIENT"]=3,n[a[4]="SPAN_KIND_PRODUCER"]=4,n[a[5]="SPAN_KIND_CONSUMER"]=5,n}(),s.Event=function(){function a(n){if(this.attributes=[],n)for(var r=Object.keys(n),l=0;l<r.length;++l)n[r[l]]!=null&&(this[r[l]]=n[r[l]])}return a.prototype.timeUnixNano=null,a.prototype.name=null,a.prototype.attributes=p.emptyArray,a.prototype.droppedAttributesCount=null,a.create=function(r){return new a(r)},a.encode=function(r,l){if(l||(l=ne.create()),r.timeUnixNano!=null&&Object.hasOwnProperty.call(r,"timeUnixNano")&&l.uint32(9).fixed64(r.timeUnixNano),r.name!=null&&Object.hasOwnProperty.call(r,"name")&&l.uint32(18).string(r.name),r.attributes!=null&&r.attributes.length)for(var c=0;c<r.attributes.length;++c)f.opentelemetry.proto.common.v1.KeyValue.encode(r.attributes[c],l.uint32(26).fork()).ldelim();return r.droppedAttributesCount!=null&&Object.hasOwnProperty.call(r,"droppedAttributesCount")&&l.uint32(32).uint32(r.droppedAttributesCount),l},a.encodeDelimited=function(r,l){return this.encode(r,l).ldelim()},a.decode=function(r,l){r instanceof g||(r=g.create(r));for(var c=l===void 0?r.len:r.pos+l,u=new f.opentelemetry.proto.trace.v1.Span.Event;r.pos<c;){var d=r.uint32();switch(d>>>3){case 1:{u.timeUnixNano=r.fixed64();break}case 2:{u.name=r.string();break}case 3:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(f.opentelemetry.proto.common.v1.KeyValue.decode(r,r.uint32()));break}case 4:{u.droppedAttributesCount=r.uint32();break}default:r.skipType(d&7);break}}return u},a.decodeDelimited=function(r){return r instanceof g||(r=new g(r)),this.decode(r,r.uint32())},a.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.timeUnixNano!=null&&r.hasOwnProperty("timeUnixNano")&&!p.isInteger(r.timeUnixNano)&&!(r.timeUnixNano&&p.isInteger(r.timeUnixNano.low)&&p.isInteger(r.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(r.name!=null&&r.hasOwnProperty("name")&&!p.isString(r.name))return"name: string expected";if(r.attributes!=null&&r.hasOwnProperty("attributes")){if(!Array.isArray(r.attributes))return"attributes: array expected";for(var l=0;l<r.attributes.length;++l){var c=f.opentelemetry.proto.common.v1.KeyValue.verify(r.attributes[l]);if(c)return"attributes."+c}}return r.droppedAttributesCount!=null&&r.hasOwnProperty("droppedAttributesCount")&&!p.isInteger(r.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},a.fromObject=function(r){if(r instanceof f.opentelemetry.proto.trace.v1.Span.Event)return r;var l=new f.opentelemetry.proto.trace.v1.Span.Event;if(r.timeUnixNano!=null&&(p.Long?(l.timeUnixNano=p.Long.fromValue(r.timeUnixNano)).unsigned=!1:typeof r.timeUnixNano=="string"?l.timeUnixNano=parseInt(r.timeUnixNano,10):typeof r.timeUnixNano=="number"?l.timeUnixNano=r.timeUnixNano:typeof r.timeUnixNano=="object"&&(l.timeUnixNano=new p.LongBits(r.timeUnixNano.low>>>0,r.timeUnixNano.high>>>0).toNumber())),r.name!=null&&(l.name=String(r.name)),r.attributes){if(!Array.isArray(r.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: array expected");l.attributes=[];for(var c=0;c<r.attributes.length;++c){if(typeof r.attributes[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: object expected");l.attributes[c]=f.opentelemetry.proto.common.v1.KeyValue.fromObject(r.attributes[c])}}return r.droppedAttributesCount!=null&&(l.droppedAttributesCount=r.droppedAttributesCount>>>0),l},a.toObject=function(r,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.attributes=[]),l.defaults){if(p.Long){var u=new p.Long(0,0,!1);c.timeUnixNano=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.timeUnixNano=l.longs===String?"0":0;c.name="",c.droppedAttributesCount=0}if(r.timeUnixNano!=null&&r.hasOwnProperty("timeUnixNano")&&(typeof r.timeUnixNano=="number"?c.timeUnixNano=l.longs===String?String(r.timeUnixNano):r.timeUnixNano:c.timeUnixNano=l.longs===String?p.Long.prototype.toString.call(r.timeUnixNano):l.longs===Number?new p.LongBits(r.timeUnixNano.low>>>0,r.timeUnixNano.high>>>0).toNumber():r.timeUnixNano),r.name!=null&&r.hasOwnProperty("name")&&(c.name=r.name),r.attributes&&r.attributes.length){c.attributes=[];for(var d=0;d<r.attributes.length;++d)c.attributes[d]=f.opentelemetry.proto.common.v1.KeyValue.toObject(r.attributes[d],l)}return r.droppedAttributesCount!=null&&r.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=r.droppedAttributesCount),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},a.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.trace.v1.Span.Event"},a}(),s.Link=function(){function a(n){if(this.attributes=[],n)for(var r=Object.keys(n),l=0;l<r.length;++l)n[r[l]]!=null&&(this[r[l]]=n[r[l]])}return a.prototype.traceId=null,a.prototype.spanId=null,a.prototype.traceState=null,a.prototype.attributes=p.emptyArray,a.prototype.droppedAttributesCount=null,a.create=function(r){return new a(r)},a.encode=function(r,l){if(l||(l=ne.create()),r.traceId!=null&&Object.hasOwnProperty.call(r,"traceId")&&l.uint32(10).bytes(r.traceId),r.spanId!=null&&Object.hasOwnProperty.call(r,"spanId")&&l.uint32(18).bytes(r.spanId),r.traceState!=null&&Object.hasOwnProperty.call(r,"traceState")&&l.uint32(26).string(r.traceState),r.attributes!=null&&r.attributes.length)for(var c=0;c<r.attributes.length;++c)f.opentelemetry.proto.common.v1.KeyValue.encode(r.attributes[c],l.uint32(34).fork()).ldelim();return r.droppedAttributesCount!=null&&Object.hasOwnProperty.call(r,"droppedAttributesCount")&&l.uint32(40).uint32(r.droppedAttributesCount),l},a.encodeDelimited=function(r,l){return this.encode(r,l).ldelim()},a.decode=function(r,l){r instanceof g||(r=g.create(r));for(var c=l===void 0?r.len:r.pos+l,u=new f.opentelemetry.proto.trace.v1.Span.Link;r.pos<c;){var d=r.uint32();switch(d>>>3){case 1:{u.traceId=r.bytes();break}case 2:{u.spanId=r.bytes();break}case 3:{u.traceState=r.string();break}case 4:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(f.opentelemetry.proto.common.v1.KeyValue.decode(r,r.uint32()));break}case 5:{u.droppedAttributesCount=r.uint32();break}default:r.skipType(d&7);break}}return u},a.decodeDelimited=function(r){return r instanceof g||(r=new g(r)),this.decode(r,r.uint32())},a.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.traceId!=null&&r.hasOwnProperty("traceId")&&!(r.traceId&&typeof r.traceId.length=="number"||p.isString(r.traceId)))return"traceId: buffer expected";if(r.spanId!=null&&r.hasOwnProperty("spanId")&&!(r.spanId&&typeof r.spanId.length=="number"||p.isString(r.spanId)))return"spanId: buffer expected";if(r.traceState!=null&&r.hasOwnProperty("traceState")&&!p.isString(r.traceState))return"traceState: string expected";if(r.attributes!=null&&r.hasOwnProperty("attributes")){if(!Array.isArray(r.attributes))return"attributes: array expected";for(var l=0;l<r.attributes.length;++l){var c=f.opentelemetry.proto.common.v1.KeyValue.verify(r.attributes[l]);if(c)return"attributes."+c}}return r.droppedAttributesCount!=null&&r.hasOwnProperty("droppedAttributesCount")&&!p.isInteger(r.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},a.fromObject=function(r){if(r instanceof f.opentelemetry.proto.trace.v1.Span.Link)return r;var l=new f.opentelemetry.proto.trace.v1.Span.Link;if(r.traceId!=null&&(typeof r.traceId=="string"?p.base64.decode(r.traceId,l.traceId=p.newBuffer(p.base64.length(r.traceId)),0):r.traceId.length>=0&&(l.traceId=r.traceId)),r.spanId!=null&&(typeof r.spanId=="string"?p.base64.decode(r.spanId,l.spanId=p.newBuffer(p.base64.length(r.spanId)),0):r.spanId.length>=0&&(l.spanId=r.spanId)),r.traceState!=null&&(l.traceState=String(r.traceState)),r.attributes){if(!Array.isArray(r.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: array expected");l.attributes=[];for(var c=0;c<r.attributes.length;++c){if(typeof r.attributes[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: object expected");l.attributes[c]=f.opentelemetry.proto.common.v1.KeyValue.fromObject(r.attributes[c])}}return r.droppedAttributesCount!=null&&(l.droppedAttributesCount=r.droppedAttributesCount>>>0),l},a.toObject=function(r,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.attributes=[]),l.defaults&&(l.bytes===String?c.traceId="":(c.traceId=[],l.bytes!==Array&&(c.traceId=p.newBuffer(c.traceId))),l.bytes===String?c.spanId="":(c.spanId=[],l.bytes!==Array&&(c.spanId=p.newBuffer(c.spanId))),c.traceState="",c.droppedAttributesCount=0),r.traceId!=null&&r.hasOwnProperty("traceId")&&(c.traceId=l.bytes===String?p.base64.encode(r.traceId,0,r.traceId.length):l.bytes===Array?Array.prototype.slice.call(r.traceId):r.traceId),r.spanId!=null&&r.hasOwnProperty("spanId")&&(c.spanId=l.bytes===String?p.base64.encode(r.spanId,0,r.spanId.length):l.bytes===Array?Array.prototype.slice.call(r.spanId):r.spanId),r.traceState!=null&&r.hasOwnProperty("traceState")&&(c.traceState=r.traceState),r.attributes&&r.attributes.length){c.attributes=[];for(var u=0;u<r.attributes.length;++u)c.attributes[u]=f.opentelemetry.proto.common.v1.KeyValue.toObject(r.attributes[u],l)}return r.droppedAttributesCount!=null&&r.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=r.droppedAttributesCount),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},a.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.trace.v1.Span.Link"},a}(),s}(),o.Status=function(){function s(a){if(a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.message=null,s.prototype.code=null,s.create=function(n){return new s(n)},s.encode=function(n,r){return r||(r=ne.create()),n.message!=null&&Object.hasOwnProperty.call(n,"message")&&r.uint32(18).string(n.message),n.code!=null&&Object.hasOwnProperty.call(n,"code")&&r.uint32(24).int32(n.code),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof g||(n=g.create(n));for(var l=r===void 0?n.len:n.pos+r,c=new f.opentelemetry.proto.trace.v1.Status;n.pos<l;){var u=n.uint32();switch(u>>>3){case 2:{c.message=n.string();break}case 3:{c.code=n.int32();break}default:n.skipType(u&7);break}}return c},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.message!=null&&n.hasOwnProperty("message")&&!p.isString(n.message))return"message: string expected";if(n.code!=null&&n.hasOwnProperty("code"))switch(n.code){default:return"code: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(n){if(n instanceof f.opentelemetry.proto.trace.v1.Status)return n;var r=new f.opentelemetry.proto.trace.v1.Status;switch(n.message!=null&&(r.message=String(n.message)),n.code){default:if(typeof n.code=="number"){r.code=n.code;break}break;case"STATUS_CODE_UNSET":case 0:r.code=0;break;case"STATUS_CODE_OK":case 1:r.code=1;break;case"STATUS_CODE_ERROR":case 2:r.code=2;break}return r},s.toObject=function(n,r){r||(r={});var l={};return r.defaults&&(l.message="",l.code=r.enums===String?"STATUS_CODE_UNSET":0),n.message!=null&&n.hasOwnProperty("message")&&(l.message=n.message),n.code!=null&&n.hasOwnProperty("code")&&(l.code=r.enums===String?f.opentelemetry.proto.trace.v1.Status.StatusCode[n.code]===void 0?n.code:f.opentelemetry.proto.trace.v1.Status.StatusCode[n.code]:n.code),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.trace.v1.Status"},s.StatusCode=function(){var a={},n=Object.create(a);return n[a[0]="STATUS_CODE_UNSET"]=0,n[a[1]="STATUS_CODE_OK"]=1,n[a[2]="STATUS_CODE_ERROR"]=2,n}(),s}(),o}(),t}(),e.collector=function(){var t={};return t.trace=function(){var o={};return o.v1=function(){var s={};return s.TraceService=function(){function a(n,r,l){$.rpc.Service.call(this,n,r,l)}return(a.prototype=Object.create($.rpc.Service.prototype)).constructor=a,a.create=function(r,l,c){return new this(r,l,c)},Object.defineProperty(a.prototype.export=function n(r,l){return this.rpcCall(n,f.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,f.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,r,l)},"name",{value:"Export"}),a}(),s.ExportTraceServiceRequest=function(){function a(n){if(this.resourceSpans=[],n)for(var r=Object.keys(n),l=0;l<r.length;++l)n[r[l]]!=null&&(this[r[l]]=n[r[l]])}return a.prototype.resourceSpans=p.emptyArray,a.create=function(r){return new a(r)},a.encode=function(r,l){if(l||(l=ne.create()),r.resourceSpans!=null&&r.resourceSpans.length)for(var c=0;c<r.resourceSpans.length;++c)f.opentelemetry.proto.trace.v1.ResourceSpans.encode(r.resourceSpans[c],l.uint32(10).fork()).ldelim();return l},a.encodeDelimited=function(r,l){return this.encode(r,l).ldelim()},a.decode=function(r,l){r instanceof g||(r=g.create(r));for(var c=l===void 0?r.len:r.pos+l,u=new f.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;r.pos<c;){var d=r.uint32();switch(d>>>3){case 1:{u.resourceSpans&&u.resourceSpans.length||(u.resourceSpans=[]),u.resourceSpans.push(f.opentelemetry.proto.trace.v1.ResourceSpans.decode(r,r.uint32()));break}default:r.skipType(d&7);break}}return u},a.decodeDelimited=function(r){return r instanceof g||(r=new g(r)),this.decode(r,r.uint32())},a.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.resourceSpans!=null&&r.hasOwnProperty("resourceSpans")){if(!Array.isArray(r.resourceSpans))return"resourceSpans: array expected";for(var l=0;l<r.resourceSpans.length;++l){var c=f.opentelemetry.proto.trace.v1.ResourceSpans.verify(r.resourceSpans[l]);if(c)return"resourceSpans."+c}}return null},a.fromObject=function(r){if(r instanceof f.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest)return r;var l=new f.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;if(r.resourceSpans){if(!Array.isArray(r.resourceSpans))throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: array expected");l.resourceSpans=[];for(var c=0;c<r.resourceSpans.length;++c){if(typeof r.resourceSpans[c]!="object")throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: object expected");l.resourceSpans[c]=f.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(r.resourceSpans[c])}}return l},a.toObject=function(r,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.resourceSpans=[]),r.resourceSpans&&r.resourceSpans.length){c.resourceSpans=[];for(var u=0;u<r.resourceSpans.length;++u)c.resourceSpans[u]=f.opentelemetry.proto.trace.v1.ResourceSpans.toObject(r.resourceSpans[u],l)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},a.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest"},a}(),s.ExportTraceServiceResponse=function(){function a(n){if(n)for(var r=Object.keys(n),l=0;l<r.length;++l)n[r[l]]!=null&&(this[r[l]]=n[r[l]])}return a.prototype.partialSuccess=null,a.create=function(r){return new a(r)},a.encode=function(r,l){return l||(l=ne.create()),r.partialSuccess!=null&&Object.hasOwnProperty.call(r,"partialSuccess")&&f.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.encode(r.partialSuccess,l.uint32(10).fork()).ldelim(),l},a.encodeDelimited=function(r,l){return this.encode(r,l).ldelim()},a.decode=function(r,l){r instanceof g||(r=g.create(r));for(var c=l===void 0?r.len:r.pos+l,u=new f.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;r.pos<c;){var d=r.uint32();switch(d>>>3){case 1:{u.partialSuccess=f.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.decode(r,r.uint32());break}default:r.skipType(d&7);break}}return u},a.decodeDelimited=function(r){return r instanceof g||(r=new g(r)),this.decode(r,r.uint32())},a.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.partialSuccess!=null&&r.hasOwnProperty("partialSuccess")){var l=f.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.verify(r.partialSuccess);if(l)return"partialSuccess."+l}return null},a.fromObject=function(r){if(r instanceof f.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse)return r;var l=new f.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;if(r.partialSuccess!=null){if(typeof r.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse.partialSuccess: object expected");l.partialSuccess=f.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.fromObject(r.partialSuccess)}return l},a.toObject=function(r,l){l||(l={});var c={};return l.defaults&&(c.partialSuccess=null),r.partialSuccess!=null&&r.hasOwnProperty("partialSuccess")&&(c.partialSuccess=f.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.toObject(r.partialSuccess,l)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},a.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse"},a}(),s.ExportTracePartialSuccess=function(){function a(n){if(n)for(var r=Object.keys(n),l=0;l<r.length;++l)n[r[l]]!=null&&(this[r[l]]=n[r[l]])}return a.prototype.rejectedSpans=null,a.prototype.errorMessage=null,a.create=function(r){return new a(r)},a.encode=function(r,l){return l||(l=ne.create()),r.rejectedSpans!=null&&Object.hasOwnProperty.call(r,"rejectedSpans")&&l.uint32(8).int64(r.rejectedSpans),r.errorMessage!=null&&Object.hasOwnProperty.call(r,"errorMessage")&&l.uint32(18).string(r.errorMessage),l},a.encodeDelimited=function(r,l){return this.encode(r,l).ldelim()},a.decode=function(r,l){r instanceof g||(r=g.create(r));for(var c=l===void 0?r.len:r.pos+l,u=new f.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;r.pos<c;){var d=r.uint32();switch(d>>>3){case 1:{u.rejectedSpans=r.int64();break}case 2:{u.errorMessage=r.string();break}default:r.skipType(d&7);break}}return u},a.decodeDelimited=function(r){return r instanceof g||(r=new g(r)),this.decode(r,r.uint32())},a.verify=function(r){return typeof r!="object"||r===null?"object expected":r.rejectedSpans!=null&&r.hasOwnProperty("rejectedSpans")&&!p.isInteger(r.rejectedSpans)&&!(r.rejectedSpans&&p.isInteger(r.rejectedSpans.low)&&p.isInteger(r.rejectedSpans.high))?"rejectedSpans: integer|Long expected":r.errorMessage!=null&&r.hasOwnProperty("errorMessage")&&!p.isString(r.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(r){if(r instanceof f.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess)return r;var l=new f.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;return r.rejectedSpans!=null&&(p.Long?(l.rejectedSpans=p.Long.fromValue(r.rejectedSpans)).unsigned=!1:typeof r.rejectedSpans=="string"?l.rejectedSpans=parseInt(r.rejectedSpans,10):typeof r.rejectedSpans=="number"?l.rejectedSpans=r.rejectedSpans:typeof r.rejectedSpans=="object"&&(l.rejectedSpans=new p.LongBits(r.rejectedSpans.low>>>0,r.rejectedSpans.high>>>0).toNumber())),r.errorMessage!=null&&(l.errorMessage=String(r.errorMessage)),l},a.toObject=function(r,l){l||(l={});var c={};if(l.defaults){if(p.Long){var u=new p.Long(0,0,!1);c.rejectedSpans=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.rejectedSpans=l.longs===String?"0":0;c.errorMessage=""}return r.rejectedSpans!=null&&r.hasOwnProperty("rejectedSpans")&&(typeof r.rejectedSpans=="number"?c.rejectedSpans=l.longs===String?String(r.rejectedSpans):r.rejectedSpans:c.rejectedSpans=l.longs===String?p.Long.prototype.toString.call(r.rejectedSpans):l.longs===Number?new p.LongBits(r.rejectedSpans.low>>>0,r.rejectedSpans.high>>>0).toNumber():r.rejectedSpans),r.errorMessage!=null&&r.hasOwnProperty("errorMessage")&&(c.errorMessage=r.errorMessage),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},a.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess"},a}(),s}(),o}(),t.metrics=function(){var o={};return o.v1=function(){var s={};return s.MetricsService=function(){function a(n,r,l){$.rpc.Service.call(this,n,r,l)}return(a.prototype=Object.create($.rpc.Service.prototype)).constructor=a,a.create=function(r,l,c){return new this(r,l,c)},Object.defineProperty(a.prototype.export=function n(r,l){return this.rpcCall(n,f.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,f.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,r,l)},"name",{value:"Export"}),a}(),s.ExportMetricsServiceRequest=function(){function a(n){if(this.resourceMetrics=[],n)for(var r=Object.keys(n),l=0;l<r.length;++l)n[r[l]]!=null&&(this[r[l]]=n[r[l]])}return a.prototype.resourceMetrics=p.emptyArray,a.create=function(r){return new a(r)},a.encode=function(r,l){if(l||(l=ne.create()),r.resourceMetrics!=null&&r.resourceMetrics.length)for(var c=0;c<r.resourceMetrics.length;++c)f.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(r.resourceMetrics[c],l.uint32(10).fork()).ldelim();return l},a.encodeDelimited=function(r,l){return this.encode(r,l).ldelim()},a.decode=function(r,l){r instanceof g||(r=g.create(r));for(var c=l===void 0?r.len:r.pos+l,u=new f.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;r.pos<c;){var d=r.uint32();switch(d>>>3){case 1:{u.resourceMetrics&&u.resourceMetrics.length||(u.resourceMetrics=[]),u.resourceMetrics.push(f.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(r,r.uint32()));break}default:r.skipType(d&7);break}}return u},a.decodeDelimited=function(r){return r instanceof g||(r=new g(r)),this.decode(r,r.uint32())},a.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.resourceMetrics!=null&&r.hasOwnProperty("resourceMetrics")){if(!Array.isArray(r.resourceMetrics))return"resourceMetrics: array expected";for(var l=0;l<r.resourceMetrics.length;++l){var c=f.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(r.resourceMetrics[l]);if(c)return"resourceMetrics."+c}}return null},a.fromObject=function(r){if(r instanceof f.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest)return r;var l=new f.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;if(r.resourceMetrics){if(!Array.isArray(r.resourceMetrics))throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: array expected");l.resourceMetrics=[];for(var c=0;c<r.resourceMetrics.length;++c){if(typeof r.resourceMetrics[c]!="object")throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: object expected");l.resourceMetrics[c]=f.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(r.resourceMetrics[c])}}return l},a.toObject=function(r,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.resourceMetrics=[]),r.resourceMetrics&&r.resourceMetrics.length){c.resourceMetrics=[];for(var u=0;u<r.resourceMetrics.length;++u)c.resourceMetrics[u]=f.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(r.resourceMetrics[u],l)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},a.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest"},a}(),s.ExportMetricsServiceResponse=function(){function a(n){if(n)for(var r=Object.keys(n),l=0;l<r.length;++l)n[r[l]]!=null&&(this[r[l]]=n[r[l]])}return a.prototype.partialSuccess=null,a.create=function(r){return new a(r)},a.encode=function(r,l){return l||(l=ne.create()),r.partialSuccess!=null&&Object.hasOwnProperty.call(r,"partialSuccess")&&f.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.encode(r.partialSuccess,l.uint32(10).fork()).ldelim(),l},a.encodeDelimited=function(r,l){return this.encode(r,l).ldelim()},a.decode=function(r,l){r instanceof g||(r=g.create(r));for(var c=l===void 0?r.len:r.pos+l,u=new f.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;r.pos<c;){var d=r.uint32();switch(d>>>3){case 1:{u.partialSuccess=f.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.decode(r,r.uint32());break}default:r.skipType(d&7);break}}return u},a.decodeDelimited=function(r){return r instanceof g||(r=new g(r)),this.decode(r,r.uint32())},a.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.partialSuccess!=null&&r.hasOwnProperty("partialSuccess")){var l=f.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.verify(r.partialSuccess);if(l)return"partialSuccess."+l}return null},a.fromObject=function(r){if(r instanceof f.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse)return r;var l=new f.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;if(r.partialSuccess!=null){if(typeof r.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse.partialSuccess: object expected");l.partialSuccess=f.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.fromObject(r.partialSuccess)}return l},a.toObject=function(r,l){l||(l={});var c={};return l.defaults&&(c.partialSuccess=null),r.partialSuccess!=null&&r.hasOwnProperty("partialSuccess")&&(c.partialSuccess=f.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.toObject(r.partialSuccess,l)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},a.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse"},a}(),s.ExportMetricsPartialSuccess=function(){function a(n){if(n)for(var r=Object.keys(n),l=0;l<r.length;++l)n[r[l]]!=null&&(this[r[l]]=n[r[l]])}return a.prototype.rejectedDataPoints=null,a.prototype.errorMessage=null,a.create=function(r){return new a(r)},a.encode=function(r,l){return l||(l=ne.create()),r.rejectedDataPoints!=null&&Object.hasOwnProperty.call(r,"rejectedDataPoints")&&l.uint32(8).int64(r.rejectedDataPoints),r.errorMessage!=null&&Object.hasOwnProperty.call(r,"errorMessage")&&l.uint32(18).string(r.errorMessage),l},a.encodeDelimited=function(r,l){return this.encode(r,l).ldelim()},a.decode=function(r,l){r instanceof g||(r=g.create(r));for(var c=l===void 0?r.len:r.pos+l,u=new f.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;r.pos<c;){var d=r.uint32();switch(d>>>3){case 1:{u.rejectedDataPoints=r.int64();break}case 2:{u.errorMessage=r.string();break}default:r.skipType(d&7);break}}return u},a.decodeDelimited=function(r){return r instanceof g||(r=new g(r)),this.decode(r,r.uint32())},a.verify=function(r){return typeof r!="object"||r===null?"object expected":r.rejectedDataPoints!=null&&r.hasOwnProperty("rejectedDataPoints")&&!p.isInteger(r.rejectedDataPoints)&&!(r.rejectedDataPoints&&p.isInteger(r.rejectedDataPoints.low)&&p.isInteger(r.rejectedDataPoints.high))?"rejectedDataPoints: integer|Long expected":r.errorMessage!=null&&r.hasOwnProperty("errorMessage")&&!p.isString(r.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(r){if(r instanceof f.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess)return r;var l=new f.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;return r.rejectedDataPoints!=null&&(p.Long?(l.rejectedDataPoints=p.Long.fromValue(r.rejectedDataPoints)).unsigned=!1:typeof r.rejectedDataPoints=="string"?l.rejectedDataPoints=parseInt(r.rejectedDataPoints,10):typeof r.rejectedDataPoints=="number"?l.rejectedDataPoints=r.rejectedDataPoints:typeof r.rejectedDataPoints=="object"&&(l.rejectedDataPoints=new p.LongBits(r.rejectedDataPoints.low>>>0,r.rejectedDataPoints.high>>>0).toNumber())),r.errorMessage!=null&&(l.errorMessage=String(r.errorMessage)),l},a.toObject=function(r,l){l||(l={});var c={};if(l.defaults){if(p.Long){var u=new p.Long(0,0,!1);c.rejectedDataPoints=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.rejectedDataPoints=l.longs===String?"0":0;c.errorMessage=""}return r.rejectedDataPoints!=null&&r.hasOwnProperty("rejectedDataPoints")&&(typeof r.rejectedDataPoints=="number"?c.rejectedDataPoints=l.longs===String?String(r.rejectedDataPoints):r.rejectedDataPoints:c.rejectedDataPoints=l.longs===String?p.Long.prototype.toString.call(r.rejectedDataPoints):l.longs===Number?new p.LongBits(r.rejectedDataPoints.low>>>0,r.rejectedDataPoints.high>>>0).toNumber():r.rejectedDataPoints),r.errorMessage!=null&&r.hasOwnProperty("errorMessage")&&(c.errorMessage=r.errorMessage),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},a.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess"},a}(),s}(),o}(),t.logs=function(){var o={};return o.v1=function(){var s={};return s.LogsService=function(){function a(n,r,l){$.rpc.Service.call(this,n,r,l)}return(a.prototype=Object.create($.rpc.Service.prototype)).constructor=a,a.create=function(r,l,c){return new this(r,l,c)},Object.defineProperty(a.prototype.export=function n(r,l){return this.rpcCall(n,f.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,f.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,r,l)},"name",{value:"Export"}),a}(),s.ExportLogsServiceRequest=function(){function a(n){if(this.resourceLogs=[],n)for(var r=Object.keys(n),l=0;l<r.length;++l)n[r[l]]!=null&&(this[r[l]]=n[r[l]])}return a.prototype.resourceLogs=p.emptyArray,a.create=function(r){return new a(r)},a.encode=function(r,l){if(l||(l=ne.create()),r.resourceLogs!=null&&r.resourceLogs.length)for(var c=0;c<r.resourceLogs.length;++c)f.opentelemetry.proto.logs.v1.ResourceLogs.encode(r.resourceLogs[c],l.uint32(10).fork()).ldelim();return l},a.encodeDelimited=function(r,l){return this.encode(r,l).ldelim()},a.decode=function(r,l){r instanceof g||(r=g.create(r));for(var c=l===void 0?r.len:r.pos+l,u=new f.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;r.pos<c;){var d=r.uint32();switch(d>>>3){case 1:{u.resourceLogs&&u.resourceLogs.length||(u.resourceLogs=[]),u.resourceLogs.push(f.opentelemetry.proto.logs.v1.ResourceLogs.decode(r,r.uint32()));break}default:r.skipType(d&7);break}}return u},a.decodeDelimited=function(r){return r instanceof g||(r=new g(r)),this.decode(r,r.uint32())},a.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.resourceLogs!=null&&r.hasOwnProperty("resourceLogs")){if(!Array.isArray(r.resourceLogs))return"resourceLogs: array expected";for(var l=0;l<r.resourceLogs.length;++l){var c=f.opentelemetry.proto.logs.v1.ResourceLogs.verify(r.resourceLogs[l]);if(c)return"resourceLogs."+c}}return null},a.fromObject=function(r){if(r instanceof f.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest)return r;var l=new f.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;if(r.resourceLogs){if(!Array.isArray(r.resourceLogs))throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: array expected");l.resourceLogs=[];for(var c=0;c<r.resourceLogs.length;++c){if(typeof r.resourceLogs[c]!="object")throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: object expected");l.resourceLogs[c]=f.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(r.resourceLogs[c])}}return l},a.toObject=function(r,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.resourceLogs=[]),r.resourceLogs&&r.resourceLogs.length){c.resourceLogs=[];for(var u=0;u<r.resourceLogs.length;++u)c.resourceLogs[u]=f.opentelemetry.proto.logs.v1.ResourceLogs.toObject(r.resourceLogs[u],l)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},a.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest"},a}(),s.ExportLogsServiceResponse=function(){function a(n){if(n)for(var r=Object.keys(n),l=0;l<r.length;++l)n[r[l]]!=null&&(this[r[l]]=n[r[l]])}return a.prototype.partialSuccess=null,a.create=function(r){return new a(r)},a.encode=function(r,l){return l||(l=ne.create()),r.partialSuccess!=null&&Object.hasOwnProperty.call(r,"partialSuccess")&&f.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.encode(r.partialSuccess,l.uint32(10).fork()).ldelim(),l},a.encodeDelimited=function(r,l){return this.encode(r,l).ldelim()},a.decode=function(r,l){r instanceof g||(r=g.create(r));for(var c=l===void 0?r.len:r.pos+l,u=new f.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;r.pos<c;){var d=r.uint32();switch(d>>>3){case 1:{u.partialSuccess=f.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.decode(r,r.uint32());break}default:r.skipType(d&7);break}}return u},a.decodeDelimited=function(r){return r instanceof g||(r=new g(r)),this.decode(r,r.uint32())},a.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.partialSuccess!=null&&r.hasOwnProperty("partialSuccess")){var l=f.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.verify(r.partialSuccess);if(l)return"partialSuccess."+l}return null},a.fromObject=function(r){if(r instanceof f.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse)return r;var l=new f.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;if(r.partialSuccess!=null){if(typeof r.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse.partialSuccess: object expected");l.partialSuccess=f.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.fromObject(r.partialSuccess)}return l},a.toObject=function(r,l){l||(l={});var c={};return l.defaults&&(c.partialSuccess=null),r.partialSuccess!=null&&r.hasOwnProperty("partialSuccess")&&(c.partialSuccess=f.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.toObject(r.partialSuccess,l)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},a.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse"},a}(),s.ExportLogsPartialSuccess=function(){function a(n){if(n)for(var r=Object.keys(n),l=0;l<r.length;++l)n[r[l]]!=null&&(this[r[l]]=n[r[l]])}return a.prototype.rejectedLogRecords=null,a.prototype.errorMessage=null,a.create=function(r){return new a(r)},a.encode=function(r,l){return l||(l=ne.create()),r.rejectedLogRecords!=null&&Object.hasOwnProperty.call(r,"rejectedLogRecords")&&l.uint32(8).int64(r.rejectedLogRecords),r.errorMessage!=null&&Object.hasOwnProperty.call(r,"errorMessage")&&l.uint32(18).string(r.errorMessage),l},a.encodeDelimited=function(r,l){return this.encode(r,l).ldelim()},a.decode=function(r,l){r instanceof g||(r=g.create(r));for(var c=l===void 0?r.len:r.pos+l,u=new f.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;r.pos<c;){var d=r.uint32();switch(d>>>3){case 1:{u.rejectedLogRecords=r.int64();break}case 2:{u.errorMessage=r.string();break}default:r.skipType(d&7);break}}return u},a.decodeDelimited=function(r){return r instanceof g||(r=new g(r)),this.decode(r,r.uint32())},a.verify=function(r){return typeof r!="object"||r===null?"object expected":r.rejectedLogRecords!=null&&r.hasOwnProperty("rejectedLogRecords")&&!p.isInteger(r.rejectedLogRecords)&&!(r.rejectedLogRecords&&p.isInteger(r.rejectedLogRecords.low)&&p.isInteger(r.rejectedLogRecords.high))?"rejectedLogRecords: integer|Long expected":r.errorMessage!=null&&r.hasOwnProperty("errorMessage")&&!p.isString(r.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(r){if(r instanceof f.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess)return r;var l=new f.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;return r.rejectedLogRecords!=null&&(p.Long?(l.rejectedLogRecords=p.Long.fromValue(r.rejectedLogRecords)).unsigned=!1:typeof r.rejectedLogRecords=="string"?l.rejectedLogRecords=parseInt(r.rejectedLogRecords,10):typeof r.rejectedLogRecords=="number"?l.rejectedLogRecords=r.rejectedLogRecords:typeof r.rejectedLogRecords=="object"&&(l.rejectedLogRecords=new p.LongBits(r.rejectedLogRecords.low>>>0,r.rejectedLogRecords.high>>>0).toNumber())),r.errorMessage!=null&&(l.errorMessage=String(r.errorMessage)),l},a.toObject=function(r,l){l||(l={});var c={};if(l.defaults){if(p.Long){var u=new p.Long(0,0,!1);c.rejectedLogRecords=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.rejectedLogRecords=l.longs===String?"0":0;c.errorMessage=""}return r.rejectedLogRecords!=null&&r.hasOwnProperty("rejectedLogRecords")&&(typeof r.rejectedLogRecords=="number"?c.rejectedLogRecords=l.longs===String?String(r.rejectedLogRecords):r.rejectedLogRecords:c.rejectedLogRecords=l.longs===String?p.Long.prototype.toString.call(r.rejectedLogRecords):l.longs===Number?new p.LongBits(r.rejectedLogRecords.low>>>0,r.rejectedLogRecords.high>>>0).toNumber():r.rejectedLogRecords),r.errorMessage!=null&&r.hasOwnProperty("errorMessage")&&(c.errorMessage=r.errorMessage),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},a.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess"},a}(),s}(),o}(),t}(),e.metrics=function(){var t={};return t.v1=function(){var o={};return o.MetricsData=function(){function s(a){if(this.resourceMetrics=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.resourceMetrics=p.emptyArray,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.resourceMetrics!=null&&n.resourceMetrics.length)for(var l=0;l<n.resourceMetrics.length;++l)f.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(n.resourceMetrics[l],r.uint32(10).fork()).ldelim();return r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof g||(n=g.create(n));for(var l=r===void 0?n.len:n.pos+r,c=new f.opentelemetry.proto.metrics.v1.MetricsData;n.pos<l;){var u=n.uint32();switch(u>>>3){case 1:{c.resourceMetrics&&c.resourceMetrics.length||(c.resourceMetrics=[]),c.resourceMetrics.push(f.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(n,n.uint32()));break}default:n.skipType(u&7);break}}return c},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resourceMetrics!=null&&n.hasOwnProperty("resourceMetrics")){if(!Array.isArray(n.resourceMetrics))return"resourceMetrics: array expected";for(var r=0;r<n.resourceMetrics.length;++r){var l=f.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(n.resourceMetrics[r]);if(l)return"resourceMetrics."+l}}return null},s.fromObject=function(n){if(n instanceof f.opentelemetry.proto.metrics.v1.MetricsData)return n;var r=new f.opentelemetry.proto.metrics.v1.MetricsData;if(n.resourceMetrics){if(!Array.isArray(n.resourceMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: array expected");r.resourceMetrics=[];for(var l=0;l<n.resourceMetrics.length;++l){if(typeof n.resourceMetrics[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: object expected");r.resourceMetrics[l]=f.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(n.resourceMetrics[l])}}return r},s.toObject=function(n,r){r||(r={});var l={};if((r.arrays||r.defaults)&&(l.resourceMetrics=[]),n.resourceMetrics&&n.resourceMetrics.length){l.resourceMetrics=[];for(var c=0;c<n.resourceMetrics.length;++c)l.resourceMetrics[c]=f.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(n.resourceMetrics[c],r)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.MetricsData"},s}(),o.ResourceMetrics=function(){function s(a){if(this.scopeMetrics=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.resource=null,s.prototype.scopeMetrics=p.emptyArray,s.prototype.schemaUrl=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.resource!=null&&Object.hasOwnProperty.call(n,"resource")&&f.opentelemetry.proto.resource.v1.Resource.encode(n.resource,r.uint32(10).fork()).ldelim(),n.scopeMetrics!=null&&n.scopeMetrics.length)for(var l=0;l<n.scopeMetrics.length;++l)f.opentelemetry.proto.metrics.v1.ScopeMetrics.encode(n.scopeMetrics[l],r.uint32(18).fork()).ldelim();return n.schemaUrl!=null&&Object.hasOwnProperty.call(n,"schemaUrl")&&r.uint32(26).string(n.schemaUrl),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof g||(n=g.create(n));for(var l=r===void 0?n.len:n.pos+r,c=new f.opentelemetry.proto.metrics.v1.ResourceMetrics;n.pos<l;){var u=n.uint32();switch(u>>>3){case 1:{c.resource=f.opentelemetry.proto.resource.v1.Resource.decode(n,n.uint32());break}case 2:{c.scopeMetrics&&c.scopeMetrics.length||(c.scopeMetrics=[]),c.scopeMetrics.push(f.opentelemetry.proto.metrics.v1.ScopeMetrics.decode(n,n.uint32()));break}case 3:{c.schemaUrl=n.string();break}default:n.skipType(u&7);break}}return c},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resource!=null&&n.hasOwnProperty("resource")){var r=f.opentelemetry.proto.resource.v1.Resource.verify(n.resource);if(r)return"resource."+r}if(n.scopeMetrics!=null&&n.hasOwnProperty("scopeMetrics")){if(!Array.isArray(n.scopeMetrics))return"scopeMetrics: array expected";for(var l=0;l<n.scopeMetrics.length;++l){var r=f.opentelemetry.proto.metrics.v1.ScopeMetrics.verify(n.scopeMetrics[l]);if(r)return"scopeMetrics."+r}}return n.schemaUrl!=null&&n.hasOwnProperty("schemaUrl")&&!p.isString(n.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(n){if(n instanceof f.opentelemetry.proto.metrics.v1.ResourceMetrics)return n;var r=new f.opentelemetry.proto.metrics.v1.ResourceMetrics;if(n.resource!=null){if(typeof n.resource!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.resource: object expected");r.resource=f.opentelemetry.proto.resource.v1.Resource.fromObject(n.resource)}if(n.scopeMetrics){if(!Array.isArray(n.scopeMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: array expected");r.scopeMetrics=[];for(var l=0;l<n.scopeMetrics.length;++l){if(typeof n.scopeMetrics[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: object expected");r.scopeMetrics[l]=f.opentelemetry.proto.metrics.v1.ScopeMetrics.fromObject(n.scopeMetrics[l])}}return n.schemaUrl!=null&&(r.schemaUrl=String(n.schemaUrl)),r},s.toObject=function(n,r){r||(r={});var l={};if((r.arrays||r.defaults)&&(l.scopeMetrics=[]),r.defaults&&(l.resource=null,l.schemaUrl=""),n.resource!=null&&n.hasOwnProperty("resource")&&(l.resource=f.opentelemetry.proto.resource.v1.Resource.toObject(n.resource,r)),n.scopeMetrics&&n.scopeMetrics.length){l.scopeMetrics=[];for(var c=0;c<n.scopeMetrics.length;++c)l.scopeMetrics[c]=f.opentelemetry.proto.metrics.v1.ScopeMetrics.toObject(n.scopeMetrics[c],r)}return n.schemaUrl!=null&&n.hasOwnProperty("schemaUrl")&&(l.schemaUrl=n.schemaUrl),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.ResourceMetrics"},s}(),o.ScopeMetrics=function(){function s(a){if(this.metrics=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.scope=null,s.prototype.metrics=p.emptyArray,s.prototype.schemaUrl=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.scope!=null&&Object.hasOwnProperty.call(n,"scope")&&f.opentelemetry.proto.common.v1.InstrumentationScope.encode(n.scope,r.uint32(10).fork()).ldelim(),n.metrics!=null&&n.metrics.length)for(var l=0;l<n.metrics.length;++l)f.opentelemetry.proto.metrics.v1.Metric.encode(n.metrics[l],r.uint32(18).fork()).ldelim();return n.schemaUrl!=null&&Object.hasOwnProperty.call(n,"schemaUrl")&&r.uint32(26).string(n.schemaUrl),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof g||(n=g.create(n));for(var l=r===void 0?n.len:n.pos+r,c=new f.opentelemetry.proto.metrics.v1.ScopeMetrics;n.pos<l;){var u=n.uint32();switch(u>>>3){case 1:{c.scope=f.opentelemetry.proto.common.v1.InstrumentationScope.decode(n,n.uint32());break}case 2:{c.metrics&&c.metrics.length||(c.metrics=[]),c.metrics.push(f.opentelemetry.proto.metrics.v1.Metric.decode(n,n.uint32()));break}case 3:{c.schemaUrl=n.string();break}default:n.skipType(u&7);break}}return c},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.scope!=null&&n.hasOwnProperty("scope")){var r=f.opentelemetry.proto.common.v1.InstrumentationScope.verify(n.scope);if(r)return"scope."+r}if(n.metrics!=null&&n.hasOwnProperty("metrics")){if(!Array.isArray(n.metrics))return"metrics: array expected";for(var l=0;l<n.metrics.length;++l){var r=f.opentelemetry.proto.metrics.v1.Metric.verify(n.metrics[l]);if(r)return"metrics."+r}}return n.schemaUrl!=null&&n.hasOwnProperty("schemaUrl")&&!p.isString(n.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(n){if(n instanceof f.opentelemetry.proto.metrics.v1.ScopeMetrics)return n;var r=new f.opentelemetry.proto.metrics.v1.ScopeMetrics;if(n.scope!=null){if(typeof n.scope!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.scope: object expected");r.scope=f.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(n.scope)}if(n.metrics){if(!Array.isArray(n.metrics))throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: array expected");r.metrics=[];for(var l=0;l<n.metrics.length;++l){if(typeof n.metrics[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: object expected");r.metrics[l]=f.opentelemetry.proto.metrics.v1.Metric.fromObject(n.metrics[l])}}return n.schemaUrl!=null&&(r.schemaUrl=String(n.schemaUrl)),r},s.toObject=function(n,r){r||(r={});var l={};if((r.arrays||r.defaults)&&(l.metrics=[]),r.defaults&&(l.scope=null,l.schemaUrl=""),n.scope!=null&&n.hasOwnProperty("scope")&&(l.scope=f.opentelemetry.proto.common.v1.InstrumentationScope.toObject(n.scope,r)),n.metrics&&n.metrics.length){l.metrics=[];for(var c=0;c<n.metrics.length;++c)l.metrics[c]=f.opentelemetry.proto.metrics.v1.Metric.toObject(n.metrics[c],r)}return n.schemaUrl!=null&&n.hasOwnProperty("schemaUrl")&&(l.schemaUrl=n.schemaUrl),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.ScopeMetrics"},s}(),o.Metric=function(){function s(n){if(n)for(var r=Object.keys(n),l=0;l<r.length;++l)n[r[l]]!=null&&(this[r[l]]=n[r[l]])}s.prototype.name=null,s.prototype.description=null,s.prototype.unit=null,s.prototype.gauge=null,s.prototype.sum=null,s.prototype.histogram=null,s.prototype.exponentialHistogram=null,s.prototype.summary=null;var a;return Object.defineProperty(s.prototype,"data",{get:p.oneOfGetter(a=["gauge","sum","histogram","exponentialHistogram","summary"]),set:p.oneOfSetter(a)}),s.create=function(r){return new s(r)},s.encode=function(r,l){return l||(l=ne.create()),r.name!=null&&Object.hasOwnProperty.call(r,"name")&&l.uint32(10).string(r.name),r.description!=null&&Object.hasOwnProperty.call(r,"description")&&l.uint32(18).string(r.description),r.unit!=null&&Object.hasOwnProperty.call(r,"unit")&&l.uint32(26).string(r.unit),r.gauge!=null&&Object.hasOwnProperty.call(r,"gauge")&&f.opentelemetry.proto.metrics.v1.Gauge.encode(r.gauge,l.uint32(42).fork()).ldelim(),r.sum!=null&&Object.hasOwnProperty.call(r,"sum")&&f.opentelemetry.proto.metrics.v1.Sum.encode(r.sum,l.uint32(58).fork()).ldelim(),r.histogram!=null&&Object.hasOwnProperty.call(r,"histogram")&&f.opentelemetry.proto.metrics.v1.Histogram.encode(r.histogram,l.uint32(74).fork()).ldelim(),r.exponentialHistogram!=null&&Object.hasOwnProperty.call(r,"exponentialHistogram")&&f.opentelemetry.proto.metrics.v1.ExponentialHistogram.encode(r.exponentialHistogram,l.uint32(82).fork()).ldelim(),r.summary!=null&&Object.hasOwnProperty.call(r,"summary")&&f.opentelemetry.proto.metrics.v1.Summary.encode(r.summary,l.uint32(90).fork()).ldelim(),l},s.encodeDelimited=function(r,l){return this.encode(r,l).ldelim()},s.decode=function(r,l){r instanceof g||(r=g.create(r));for(var c=l===void 0?r.len:r.pos+l,u=new f.opentelemetry.proto.metrics.v1.Metric;r.pos<c;){var d=r.uint32();switch(d>>>3){case 1:{u.name=r.string();break}case 2:{u.description=r.string();break}case 3:{u.unit=r.string();break}case 5:{u.gauge=f.opentelemetry.proto.metrics.v1.Gauge.decode(r,r.uint32());break}case 7:{u.sum=f.opentelemetry.proto.metrics.v1.Sum.decode(r,r.uint32());break}case 9:{u.histogram=f.opentelemetry.proto.metrics.v1.Histogram.decode(r,r.uint32());break}case 10:{u.exponentialHistogram=f.opentelemetry.proto.metrics.v1.ExponentialHistogram.decode(r,r.uint32());break}case 11:{u.summary=f.opentelemetry.proto.metrics.v1.Summary.decode(r,r.uint32());break}default:r.skipType(d&7);break}}return u},s.decodeDelimited=function(r){return r instanceof g||(r=new g(r)),this.decode(r,r.uint32())},s.verify=function(r){if(typeof r!="object"||r===null)return"object expected";var l={};if(r.name!=null&&r.hasOwnProperty("name")&&!p.isString(r.name))return"name: string expected";if(r.description!=null&&r.hasOwnProperty("description")&&!p.isString(r.description))return"description: string expected";if(r.unit!=null&&r.hasOwnProperty("unit")&&!p.isString(r.unit))return"unit: string expected";if(r.gauge!=null&&r.hasOwnProperty("gauge")){l.data=1;{var c=f.opentelemetry.proto.metrics.v1.Gauge.verify(r.gauge);if(c)return"gauge."+c}}if(r.sum!=null&&r.hasOwnProperty("sum")){if(l.data===1)return"data: multiple values";l.data=1;{var c=f.opentelemetry.proto.metrics.v1.Sum.verify(r.sum);if(c)return"sum."+c}}if(r.histogram!=null&&r.hasOwnProperty("histogram")){if(l.data===1)return"data: multiple values";l.data=1;{var c=f.opentelemetry.proto.metrics.v1.Histogram.verify(r.histogram);if(c)return"histogram."+c}}if(r.exponentialHistogram!=null&&r.hasOwnProperty("exponentialHistogram")){if(l.data===1)return"data: multiple values";l.data=1;{var c=f.opentelemetry.proto.metrics.v1.ExponentialHistogram.verify(r.exponentialHistogram);if(c)return"exponentialHistogram."+c}}if(r.summary!=null&&r.hasOwnProperty("summary")){if(l.data===1)return"data: multiple values";l.data=1;{var c=f.opentelemetry.proto.metrics.v1.Summary.verify(r.summary);if(c)return"summary."+c}}return null},s.fromObject=function(r){if(r instanceof f.opentelemetry.proto.metrics.v1.Metric)return r;var l=new f.opentelemetry.proto.metrics.v1.Metric;if(r.name!=null&&(l.name=String(r.name)),r.description!=null&&(l.description=String(r.description)),r.unit!=null&&(l.unit=String(r.unit)),r.gauge!=null){if(typeof r.gauge!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.gauge: object expected");l.gauge=f.opentelemetry.proto.metrics.v1.Gauge.fromObject(r.gauge)}if(r.sum!=null){if(typeof r.sum!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.sum: object expected");l.sum=f.opentelemetry.proto.metrics.v1.Sum.fromObject(r.sum)}if(r.histogram!=null){if(typeof r.histogram!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.histogram: object expected");l.histogram=f.opentelemetry.proto.metrics.v1.Histogram.fromObject(r.histogram)}if(r.exponentialHistogram!=null){if(typeof r.exponentialHistogram!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.exponentialHistogram: object expected");l.exponentialHistogram=f.opentelemetry.proto.metrics.v1.ExponentialHistogram.fromObject(r.exponentialHistogram)}if(r.summary!=null){if(typeof r.summary!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.summary: object expected");l.summary=f.opentelemetry.proto.metrics.v1.Summary.fromObject(r.summary)}return l},s.toObject=function(r,l){l||(l={});var c={};return l.defaults&&(c.name="",c.description="",c.unit=""),r.name!=null&&r.hasOwnProperty("name")&&(c.name=r.name),r.description!=null&&r.hasOwnProperty("description")&&(c.description=r.description),r.unit!=null&&r.hasOwnProperty("unit")&&(c.unit=r.unit),r.gauge!=null&&r.hasOwnProperty("gauge")&&(c.gauge=f.opentelemetry.proto.metrics.v1.Gauge.toObject(r.gauge,l),l.oneofs&&(c.data="gauge")),r.sum!=null&&r.hasOwnProperty("sum")&&(c.sum=f.opentelemetry.proto.metrics.v1.Sum.toObject(r.sum,l),l.oneofs&&(c.data="sum")),r.histogram!=null&&r.hasOwnProperty("histogram")&&(c.histogram=f.opentelemetry.proto.metrics.v1.Histogram.toObject(r.histogram,l),l.oneofs&&(c.data="histogram")),r.exponentialHistogram!=null&&r.hasOwnProperty("exponentialHistogram")&&(c.exponentialHistogram=f.opentelemetry.proto.metrics.v1.ExponentialHistogram.toObject(r.exponentialHistogram,l),l.oneofs&&(c.data="exponentialHistogram")),r.summary!=null&&r.hasOwnProperty("summary")&&(c.summary=f.opentelemetry.proto.metrics.v1.Summary.toObject(r.summary,l),l.oneofs&&(c.data="summary")),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.metrics.v1.Metric"},s}(),o.Gauge=function(){function s(a){if(this.dataPoints=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.dataPoints=p.emptyArray,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.dataPoints!=null&&n.dataPoints.length)for(var l=0;l<n.dataPoints.length;++l)f.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(n.dataPoints[l],r.uint32(10).fork()).ldelim();return r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof g||(n=g.create(n));for(var l=r===void 0?n.len:n.pos+r,c=new f.opentelemetry.proto.metrics.v1.Gauge;n.pos<l;){var u=n.uint32();switch(u>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(f.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(n,n.uint32()));break}default:n.skipType(u&7);break}}return c},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.dataPoints!=null&&n.hasOwnProperty("dataPoints")){if(!Array.isArray(n.dataPoints))return"dataPoints: array expected";for(var r=0;r<n.dataPoints.length;++r){var l=f.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(n.dataPoints[r]);if(l)return"dataPoints."+l}}return null},s.fromObject=function(n){if(n instanceof f.opentelemetry.proto.metrics.v1.Gauge)return n;var r=new f.opentelemetry.proto.metrics.v1.Gauge;if(n.dataPoints){if(!Array.isArray(n.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: array expected");r.dataPoints=[];for(var l=0;l<n.dataPoints.length;++l){if(typeof n.dataPoints[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: object expected");r.dataPoints[l]=f.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(n.dataPoints[l])}}return r},s.toObject=function(n,r){r||(r={});var l={};if((r.arrays||r.defaults)&&(l.dataPoints=[]),n.dataPoints&&n.dataPoints.length){l.dataPoints=[];for(var c=0;c<n.dataPoints.length;++c)l.dataPoints[c]=f.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(n.dataPoints[c],r)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.Gauge"},s}(),o.Sum=function(){function s(a){if(this.dataPoints=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.dataPoints=p.emptyArray,s.prototype.aggregationTemporality=null,s.prototype.isMonotonic=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.dataPoints!=null&&n.dataPoints.length)for(var l=0;l<n.dataPoints.length;++l)f.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(n.dataPoints[l],r.uint32(10).fork()).ldelim();return n.aggregationTemporality!=null&&Object.hasOwnProperty.call(n,"aggregationTemporality")&&r.uint32(16).int32(n.aggregationTemporality),n.isMonotonic!=null&&Object.hasOwnProperty.call(n,"isMonotonic")&&r.uint32(24).bool(n.isMonotonic),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof g||(n=g.create(n));for(var l=r===void 0?n.len:n.pos+r,c=new f.opentelemetry.proto.metrics.v1.Sum;n.pos<l;){var u=n.uint32();switch(u>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(f.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(n,n.uint32()));break}case 2:{c.aggregationTemporality=n.int32();break}case 3:{c.isMonotonic=n.bool();break}default:n.skipType(u&7);break}}return c},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.dataPoints!=null&&n.hasOwnProperty("dataPoints")){if(!Array.isArray(n.dataPoints))return"dataPoints: array expected";for(var r=0;r<n.dataPoints.length;++r){var l=f.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(n.dataPoints[r]);if(l)return"dataPoints."+l}}if(n.aggregationTemporality!=null&&n.hasOwnProperty("aggregationTemporality"))switch(n.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return n.isMonotonic!=null&&n.hasOwnProperty("isMonotonic")&&typeof n.isMonotonic!="boolean"?"isMonotonic: boolean expected":null},s.fromObject=function(n){if(n instanceof f.opentelemetry.proto.metrics.v1.Sum)return n;var r=new f.opentelemetry.proto.metrics.v1.Sum;if(n.dataPoints){if(!Array.isArray(n.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: array expected");r.dataPoints=[];for(var l=0;l<n.dataPoints.length;++l){if(typeof n.dataPoints[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: object expected");r.dataPoints[l]=f.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(n.dataPoints[l])}}switch(n.aggregationTemporality){default:if(typeof n.aggregationTemporality=="number"){r.aggregationTemporality=n.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:r.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:r.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:r.aggregationTemporality=2;break}return n.isMonotonic!=null&&(r.isMonotonic=!!n.isMonotonic),r},s.toObject=function(n,r){r||(r={});var l={};if((r.arrays||r.defaults)&&(l.dataPoints=[]),r.defaults&&(l.aggregationTemporality=r.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0,l.isMonotonic=!1),n.dataPoints&&n.dataPoints.length){l.dataPoints=[];for(var c=0;c<n.dataPoints.length;++c)l.dataPoints[c]=f.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(n.dataPoints[c],r)}return n.aggregationTemporality!=null&&n.hasOwnProperty("aggregationTemporality")&&(l.aggregationTemporality=r.enums===String?f.opentelemetry.proto.metrics.v1.AggregationTemporality[n.aggregationTemporality]===void 0?n.aggregationTemporality:f.opentelemetry.proto.metrics.v1.AggregationTemporality[n.aggregationTemporality]:n.aggregationTemporality),n.isMonotonic!=null&&n.hasOwnProperty("isMonotonic")&&(l.isMonotonic=n.isMonotonic),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.Sum"},s}(),o.Histogram=function(){function s(a){if(this.dataPoints=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.dataPoints=p.emptyArray,s.prototype.aggregationTemporality=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.dataPoints!=null&&n.dataPoints.length)for(var l=0;l<n.dataPoints.length;++l)f.opentelemetry.proto.metrics.v1.HistogramDataPoint.encode(n.dataPoints[l],r.uint32(10).fork()).ldelim();return n.aggregationTemporality!=null&&Object.hasOwnProperty.call(n,"aggregationTemporality")&&r.uint32(16).int32(n.aggregationTemporality),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof g||(n=g.create(n));for(var l=r===void 0?n.len:n.pos+r,c=new f.opentelemetry.proto.metrics.v1.Histogram;n.pos<l;){var u=n.uint32();switch(u>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(f.opentelemetry.proto.metrics.v1.HistogramDataPoint.decode(n,n.uint32()));break}case 2:{c.aggregationTemporality=n.int32();break}default:n.skipType(u&7);break}}return c},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.dataPoints!=null&&n.hasOwnProperty("dataPoints")){if(!Array.isArray(n.dataPoints))return"dataPoints: array expected";for(var r=0;r<n.dataPoints.length;++r){var l=f.opentelemetry.proto.metrics.v1.HistogramDataPoint.verify(n.dataPoints[r]);if(l)return"dataPoints."+l}}if(n.aggregationTemporality!=null&&n.hasOwnProperty("aggregationTemporality"))switch(n.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(n){if(n instanceof f.opentelemetry.proto.metrics.v1.Histogram)return n;var r=new f.opentelemetry.proto.metrics.v1.Histogram;if(n.dataPoints){if(!Array.isArray(n.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: array expected");r.dataPoints=[];for(var l=0;l<n.dataPoints.length;++l){if(typeof n.dataPoints[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: object expected");r.dataPoints[l]=f.opentelemetry.proto.metrics.v1.HistogramDataPoint.fromObject(n.dataPoints[l])}}switch(n.aggregationTemporality){default:if(typeof n.aggregationTemporality=="number"){r.aggregationTemporality=n.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:r.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:r.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:r.aggregationTemporality=2;break}return r},s.toObject=function(n,r){r||(r={});var l={};if((r.arrays||r.defaults)&&(l.dataPoints=[]),r.defaults&&(l.aggregationTemporality=r.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),n.dataPoints&&n.dataPoints.length){l.dataPoints=[];for(var c=0;c<n.dataPoints.length;++c)l.dataPoints[c]=f.opentelemetry.proto.metrics.v1.HistogramDataPoint.toObject(n.dataPoints[c],r)}return n.aggregationTemporality!=null&&n.hasOwnProperty("aggregationTemporality")&&(l.aggregationTemporality=r.enums===String?f.opentelemetry.proto.metrics.v1.AggregationTemporality[n.aggregationTemporality]===void 0?n.aggregationTemporality:f.opentelemetry.proto.metrics.v1.AggregationTemporality[n.aggregationTemporality]:n.aggregationTemporality),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.Histogram"},s}(),o.ExponentialHistogram=function(){function s(a){if(this.dataPoints=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.dataPoints=p.emptyArray,s.prototype.aggregationTemporality=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.dataPoints!=null&&n.dataPoints.length)for(var l=0;l<n.dataPoints.length;++l)f.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.encode(n.dataPoints[l],r.uint32(10).fork()).ldelim();return n.aggregationTemporality!=null&&Object.hasOwnProperty.call(n,"aggregationTemporality")&&r.uint32(16).int32(n.aggregationTemporality),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof g||(n=g.create(n));for(var l=r===void 0?n.len:n.pos+r,c=new f.opentelemetry.proto.metrics.v1.ExponentialHistogram;n.pos<l;){var u=n.uint32();switch(u>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(f.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.decode(n,n.uint32()));break}case 2:{c.aggregationTemporality=n.int32();break}default:n.skipType(u&7);break}}return c},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.dataPoints!=null&&n.hasOwnProperty("dataPoints")){if(!Array.isArray(n.dataPoints))return"dataPoints: array expected";for(var r=0;r<n.dataPoints.length;++r){var l=f.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.verify(n.dataPoints[r]);if(l)return"dataPoints."+l}}if(n.aggregationTemporality!=null&&n.hasOwnProperty("aggregationTemporality"))switch(n.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(n){if(n instanceof f.opentelemetry.proto.metrics.v1.ExponentialHistogram)return n;var r=new f.opentelemetry.proto.metrics.v1.ExponentialHistogram;if(n.dataPoints){if(!Array.isArray(n.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: array expected");r.dataPoints=[];for(var l=0;l<n.dataPoints.length;++l){if(typeof n.dataPoints[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: object expected");r.dataPoints[l]=f.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.fromObject(n.dataPoints[l])}}switch(n.aggregationTemporality){default:if(typeof n.aggregationTemporality=="number"){r.aggregationTemporality=n.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:r.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:r.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:r.aggregationTemporality=2;break}return r},s.toObject=function(n,r){r||(r={});var l={};if((r.arrays||r.defaults)&&(l.dataPoints=[]),r.defaults&&(l.aggregationTemporality=r.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),n.dataPoints&&n.dataPoints.length){l.dataPoints=[];for(var c=0;c<n.dataPoints.length;++c)l.dataPoints[c]=f.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.toObject(n.dataPoints[c],r)}return n.aggregationTemporality!=null&&n.hasOwnProperty("aggregationTemporality")&&(l.aggregationTemporality=r.enums===String?f.opentelemetry.proto.metrics.v1.AggregationTemporality[n.aggregationTemporality]===void 0?n.aggregationTemporality:f.opentelemetry.proto.metrics.v1.AggregationTemporality[n.aggregationTemporality]:n.aggregationTemporality),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.ExponentialHistogram"},s}(),o.Summary=function(){function s(a){if(this.dataPoints=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.dataPoints=p.emptyArray,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.dataPoints!=null&&n.dataPoints.length)for(var l=0;l<n.dataPoints.length;++l)f.opentelemetry.proto.metrics.v1.SummaryDataPoint.encode(n.dataPoints[l],r.uint32(10).fork()).ldelim();return r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof g||(n=g.create(n));for(var l=r===void 0?n.len:n.pos+r,c=new f.opentelemetry.proto.metrics.v1.Summary;n.pos<l;){var u=n.uint32();switch(u>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(f.opentelemetry.proto.metrics.v1.SummaryDataPoint.decode(n,n.uint32()));break}default:n.skipType(u&7);break}}return c},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.dataPoints!=null&&n.hasOwnProperty("dataPoints")){if(!Array.isArray(n.dataPoints))return"dataPoints: array expected";for(var r=0;r<n.dataPoints.length;++r){var l=f.opentelemetry.proto.metrics.v1.SummaryDataPoint.verify(n.dataPoints[r]);if(l)return"dataPoints."+l}}return null},s.fromObject=function(n){if(n instanceof f.opentelemetry.proto.metrics.v1.Summary)return n;var r=new f.opentelemetry.proto.metrics.v1.Summary;if(n.dataPoints){if(!Array.isArray(n.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: array expected");r.dataPoints=[];for(var l=0;l<n.dataPoints.length;++l){if(typeof n.dataPoints[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: object expected");r.dataPoints[l]=f.opentelemetry.proto.metrics.v1.SummaryDataPoint.fromObject(n.dataPoints[l])}}return r},s.toObject=function(n,r){r||(r={});var l={};if((r.arrays||r.defaults)&&(l.dataPoints=[]),n.dataPoints&&n.dataPoints.length){l.dataPoints=[];for(var c=0;c<n.dataPoints.length;++c)l.dataPoints[c]=f.opentelemetry.proto.metrics.v1.SummaryDataPoint.toObject(n.dataPoints[c],r)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.Summary"},s}(),o.AggregationTemporality=function(){var s={},a=Object.create(s);return a[s[0]="AGGREGATION_TEMPORALITY_UNSPECIFIED"]=0,a[s[1]="AGGREGATION_TEMPORALITY_DELTA"]=1,a[s[2]="AGGREGATION_TEMPORALITY_CUMULATIVE"]=2,a}(),o.DataPointFlags=function(){var s={},a=Object.create(s);return a[s[0]="DATA_POINT_FLAGS_DO_NOT_USE"]=0,a[s[1]="DATA_POINT_FLAGS_NO_RECORDED_VALUE_MASK"]=1,a}(),o.NumberDataPoint=function(){function s(n){if(this.attributes=[],this.exemplars=[],n)for(var r=Object.keys(n),l=0;l<r.length;++l)n[r[l]]!=null&&(this[r[l]]=n[r[l]])}s.prototype.attributes=p.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.asDouble=null,s.prototype.asInt=null,s.prototype.exemplars=p.emptyArray,s.prototype.flags=null;var a;return Object.defineProperty(s.prototype,"value",{get:p.oneOfGetter(a=["asDouble","asInt"]),set:p.oneOfSetter(a)}),s.create=function(r){return new s(r)},s.encode=function(r,l){if(l||(l=ne.create()),r.startTimeUnixNano!=null&&Object.hasOwnProperty.call(r,"startTimeUnixNano")&&l.uint32(17).fixed64(r.startTimeUnixNano),r.timeUnixNano!=null&&Object.hasOwnProperty.call(r,"timeUnixNano")&&l.uint32(25).fixed64(r.timeUnixNano),r.asDouble!=null&&Object.hasOwnProperty.call(r,"asDouble")&&l.uint32(33).double(r.asDouble),r.exemplars!=null&&r.exemplars.length)for(var c=0;c<r.exemplars.length;++c)f.opentelemetry.proto.metrics.v1.Exemplar.encode(r.exemplars[c],l.uint32(42).fork()).ldelim();if(r.asInt!=null&&Object.hasOwnProperty.call(r,"asInt")&&l.uint32(49).sfixed64(r.asInt),r.attributes!=null&&r.attributes.length)for(var c=0;c<r.attributes.length;++c)f.opentelemetry.proto.common.v1.KeyValue.encode(r.attributes[c],l.uint32(58).fork()).ldelim();return r.flags!=null&&Object.hasOwnProperty.call(r,"flags")&&l.uint32(64).uint32(r.flags),l},s.encodeDelimited=function(r,l){return this.encode(r,l).ldelim()},s.decode=function(r,l){r instanceof g||(r=g.create(r));for(var c=l===void 0?r.len:r.pos+l,u=new f.opentelemetry.proto.metrics.v1.NumberDataPoint;r.pos<c;){var d=r.uint32();switch(d>>>3){case 7:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(f.opentelemetry.proto.common.v1.KeyValue.decode(r,r.uint32()));break}case 2:{u.startTimeUnixNano=r.fixed64();break}case 3:{u.timeUnixNano=r.fixed64();break}case 4:{u.asDouble=r.double();break}case 6:{u.asInt=r.sfixed64();break}case 5:{u.exemplars&&u.exemplars.length||(u.exemplars=[]),u.exemplars.push(f.opentelemetry.proto.metrics.v1.Exemplar.decode(r,r.uint32()));break}case 8:{u.flags=r.uint32();break}default:r.skipType(d&7);break}}return u},s.decodeDelimited=function(r){return r instanceof g||(r=new g(r)),this.decode(r,r.uint32())},s.verify=function(r){if(typeof r!="object"||r===null)return"object expected";var l={};if(r.attributes!=null&&r.hasOwnProperty("attributes")){if(!Array.isArray(r.attributes))return"attributes: array expected";for(var c=0;c<r.attributes.length;++c){var u=f.opentelemetry.proto.common.v1.KeyValue.verify(r.attributes[c]);if(u)return"attributes."+u}}if(r.startTimeUnixNano!=null&&r.hasOwnProperty("startTimeUnixNano")&&!p.isInteger(r.startTimeUnixNano)&&!(r.startTimeUnixNano&&p.isInteger(r.startTimeUnixNano.low)&&p.isInteger(r.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(r.timeUnixNano!=null&&r.hasOwnProperty("timeUnixNano")&&!p.isInteger(r.timeUnixNano)&&!(r.timeUnixNano&&p.isInteger(r.timeUnixNano.low)&&p.isInteger(r.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(r.asDouble!=null&&r.hasOwnProperty("asDouble")&&(l.value=1,typeof r.asDouble!="number"))return"asDouble: number expected";if(r.asInt!=null&&r.hasOwnProperty("asInt")){if(l.value===1)return"value: multiple values";if(l.value=1,!p.isInteger(r.asInt)&&!(r.asInt&&p.isInteger(r.asInt.low)&&p.isInteger(r.asInt.high)))return"asInt: integer|Long expected"}if(r.exemplars!=null&&r.hasOwnProperty("exemplars")){if(!Array.isArray(r.exemplars))return"exemplars: array expected";for(var c=0;c<r.exemplars.length;++c){var u=f.opentelemetry.proto.metrics.v1.Exemplar.verify(r.exemplars[c]);if(u)return"exemplars."+u}}return r.flags!=null&&r.hasOwnProperty("flags")&&!p.isInteger(r.flags)?"flags: integer expected":null},s.fromObject=function(r){if(r instanceof f.opentelemetry.proto.metrics.v1.NumberDataPoint)return r;var l=new f.opentelemetry.proto.metrics.v1.NumberDataPoint;if(r.attributes){if(!Array.isArray(r.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: array expected");l.attributes=[];for(var c=0;c<r.attributes.length;++c){if(typeof r.attributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: object expected");l.attributes[c]=f.opentelemetry.proto.common.v1.KeyValue.fromObject(r.attributes[c])}}if(r.startTimeUnixNano!=null&&(p.Long?(l.startTimeUnixNano=p.Long.fromValue(r.startTimeUnixNano)).unsigned=!1:typeof r.startTimeUnixNano=="string"?l.startTimeUnixNano=parseInt(r.startTimeUnixNano,10):typeof r.startTimeUnixNano=="number"?l.startTimeUnixNano=r.startTimeUnixNano:typeof r.startTimeUnixNano=="object"&&(l.startTimeUnixNano=new p.LongBits(r.startTimeUnixNano.low>>>0,r.startTimeUnixNano.high>>>0).toNumber())),r.timeUnixNano!=null&&(p.Long?(l.timeUnixNano=p.Long.fromValue(r.timeUnixNano)).unsigned=!1:typeof r.timeUnixNano=="string"?l.timeUnixNano=parseInt(r.timeUnixNano,10):typeof r.timeUnixNano=="number"?l.timeUnixNano=r.timeUnixNano:typeof r.timeUnixNano=="object"&&(l.timeUnixNano=new p.LongBits(r.timeUnixNano.low>>>0,r.timeUnixNano.high>>>0).toNumber())),r.asDouble!=null&&(l.asDouble=Number(r.asDouble)),r.asInt!=null&&(p.Long?(l.asInt=p.Long.fromValue(r.asInt)).unsigned=!1:typeof r.asInt=="string"?l.asInt=parseInt(r.asInt,10):typeof r.asInt=="number"?l.asInt=r.asInt:typeof r.asInt=="object"&&(l.asInt=new p.LongBits(r.asInt.low>>>0,r.asInt.high>>>0).toNumber())),r.exemplars){if(!Array.isArray(r.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: array expected");l.exemplars=[];for(var c=0;c<r.exemplars.length;++c){if(typeof r.exemplars[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: object expected");l.exemplars[c]=f.opentelemetry.proto.metrics.v1.Exemplar.fromObject(r.exemplars[c])}}return r.flags!=null&&(l.flags=r.flags>>>0),l},s.toObject=function(r,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.exemplars=[],c.attributes=[]),l.defaults){if(p.Long){var u=new p.Long(0,0,!1);c.startTimeUnixNano=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.startTimeUnixNano=l.longs===String?"0":0;if(p.Long){var u=new p.Long(0,0,!1);c.timeUnixNano=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.timeUnixNano=l.longs===String?"0":0;c.flags=0}if(r.startTimeUnixNano!=null&&r.hasOwnProperty("startTimeUnixNano")&&(typeof r.startTimeUnixNano=="number"?c.startTimeUnixNano=l.longs===String?String(r.startTimeUnixNano):r.startTimeUnixNano:c.startTimeUnixNano=l.longs===String?p.Long.prototype.toString.call(r.startTimeUnixNano):l.longs===Number?new p.LongBits(r.startTimeUnixNano.low>>>0,r.startTimeUnixNano.high>>>0).toNumber():r.startTimeUnixNano),r.timeUnixNano!=null&&r.hasOwnProperty("timeUnixNano")&&(typeof r.timeUnixNano=="number"?c.timeUnixNano=l.longs===String?String(r.timeUnixNano):r.timeUnixNano:c.timeUnixNano=l.longs===String?p.Long.prototype.toString.call(r.timeUnixNano):l.longs===Number?new p.LongBits(r.timeUnixNano.low>>>0,r.timeUnixNano.high>>>0).toNumber():r.timeUnixNano),r.asDouble!=null&&r.hasOwnProperty("asDouble")&&(c.asDouble=l.json&&!isFinite(r.asDouble)?String(r.asDouble):r.asDouble,l.oneofs&&(c.value="asDouble")),r.exemplars&&r.exemplars.length){c.exemplars=[];for(var d=0;d<r.exemplars.length;++d)c.exemplars[d]=f.opentelemetry.proto.metrics.v1.Exemplar.toObject(r.exemplars[d],l)}if(r.asInt!=null&&r.hasOwnProperty("asInt")&&(typeof r.asInt=="number"?c.asInt=l.longs===String?String(r.asInt):r.asInt:c.asInt=l.longs===String?p.Long.prototype.toString.call(r.asInt):l.longs===Number?new p.LongBits(r.asInt.low>>>0,r.asInt.high>>>0).toNumber():r.asInt,l.oneofs&&(c.value="asInt")),r.attributes&&r.attributes.length){c.attributes=[];for(var d=0;d<r.attributes.length;++d)c.attributes[d]=f.opentelemetry.proto.common.v1.KeyValue.toObject(r.attributes[d],l)}return r.flags!=null&&r.hasOwnProperty("flags")&&(c.flags=r.flags),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.metrics.v1.NumberDataPoint"},s}(),o.HistogramDataPoint=function(){function s(n){if(this.attributes=[],this.bucketCounts=[],this.explicitBounds=[],this.exemplars=[],n)for(var r=Object.keys(n),l=0;l<r.length;++l)n[r[l]]!=null&&(this[r[l]]=n[r[l]])}s.prototype.attributes=p.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.count=null,s.prototype.sum=null,s.prototype.bucketCounts=p.emptyArray,s.prototype.explicitBounds=p.emptyArray,s.prototype.exemplars=p.emptyArray,s.prototype.flags=null,s.prototype.min=null,s.prototype.max=null;var a;return Object.defineProperty(s.prototype,"_sum",{get:p.oneOfGetter(a=["sum"]),set:p.oneOfSetter(a)}),Object.defineProperty(s.prototype,"_min",{get:p.oneOfGetter(a=["min"]),set:p.oneOfSetter(a)}),Object.defineProperty(s.prototype,"_max",{get:p.oneOfGetter(a=["max"]),set:p.oneOfSetter(a)}),s.create=function(r){return new s(r)},s.encode=function(r,l){if(l||(l=ne.create()),r.startTimeUnixNano!=null&&Object.hasOwnProperty.call(r,"startTimeUnixNano")&&l.uint32(17).fixed64(r.startTimeUnixNano),r.timeUnixNano!=null&&Object.hasOwnProperty.call(r,"timeUnixNano")&&l.uint32(25).fixed64(r.timeUnixNano),r.count!=null&&Object.hasOwnProperty.call(r,"count")&&l.uint32(33).fixed64(r.count),r.sum!=null&&Object.hasOwnProperty.call(r,"sum")&&l.uint32(41).double(r.sum),r.bucketCounts!=null&&r.bucketCounts.length){l.uint32(50).fork();for(var c=0;c<r.bucketCounts.length;++c)l.fixed64(r.bucketCounts[c]);l.ldelim()}if(r.explicitBounds!=null&&r.explicitBounds.length){l.uint32(58).fork();for(var c=0;c<r.explicitBounds.length;++c)l.double(r.explicitBounds[c]);l.ldelim()}if(r.exemplars!=null&&r.exemplars.length)for(var c=0;c<r.exemplars.length;++c)f.opentelemetry.proto.metrics.v1.Exemplar.encode(r.exemplars[c],l.uint32(66).fork()).ldelim();if(r.attributes!=null&&r.attributes.length)for(var c=0;c<r.attributes.length;++c)f.opentelemetry.proto.common.v1.KeyValue.encode(r.attributes[c],l.uint32(74).fork()).ldelim();return r.flags!=null&&Object.hasOwnProperty.call(r,"flags")&&l.uint32(80).uint32(r.flags),r.min!=null&&Object.hasOwnProperty.call(r,"min")&&l.uint32(89).double(r.min),r.max!=null&&Object.hasOwnProperty.call(r,"max")&&l.uint32(97).double(r.max),l},s.encodeDelimited=function(r,l){return this.encode(r,l).ldelim()},s.decode=function(r,l){r instanceof g||(r=g.create(r));for(var c=l===void 0?r.len:r.pos+l,u=new f.opentelemetry.proto.metrics.v1.HistogramDataPoint;r.pos<c;){var d=r.uint32();switch(d>>>3){case 9:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(f.opentelemetry.proto.common.v1.KeyValue.decode(r,r.uint32()));break}case 2:{u.startTimeUnixNano=r.fixed64();break}case 3:{u.timeUnixNano=r.fixed64();break}case 4:{u.count=r.fixed64();break}case 5:{u.sum=r.double();break}case 6:{if(u.bucketCounts&&u.bucketCounts.length||(u.bucketCounts=[]),(d&7)===2)for(var _=r.uint32()+r.pos;r.pos<_;)u.bucketCounts.push(r.fixed64());else u.bucketCounts.push(r.fixed64());break}case 7:{if(u.explicitBounds&&u.explicitBounds.length||(u.explicitBounds=[]),(d&7)===2)for(var _=r.uint32()+r.pos;r.pos<_;)u.explicitBounds.push(r.double());else u.explicitBounds.push(r.double());break}case 8:{u.exemplars&&u.exemplars.length||(u.exemplars=[]),u.exemplars.push(f.opentelemetry.proto.metrics.v1.Exemplar.decode(r,r.uint32()));break}case 10:{u.flags=r.uint32();break}case 11:{u.min=r.double();break}case 12:{u.max=r.double();break}default:r.skipType(d&7);break}}return u},s.decodeDelimited=function(r){return r instanceof g||(r=new g(r)),this.decode(r,r.uint32())},s.verify=function(r){if(typeof r!="object"||r===null)return"object expected";var l={};if(r.attributes!=null&&r.hasOwnProperty("attributes")){if(!Array.isArray(r.attributes))return"attributes: array expected";for(var c=0;c<r.attributes.length;++c){var u=f.opentelemetry.proto.common.v1.KeyValue.verify(r.attributes[c]);if(u)return"attributes."+u}}if(r.startTimeUnixNano!=null&&r.hasOwnProperty("startTimeUnixNano")&&!p.isInteger(r.startTimeUnixNano)&&!(r.startTimeUnixNano&&p.isInteger(r.startTimeUnixNano.low)&&p.isInteger(r.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(r.timeUnixNano!=null&&r.hasOwnProperty("timeUnixNano")&&!p.isInteger(r.timeUnixNano)&&!(r.timeUnixNano&&p.isInteger(r.timeUnixNano.low)&&p.isInteger(r.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(r.count!=null&&r.hasOwnProperty("count")&&!p.isInteger(r.count)&&!(r.count&&p.isInteger(r.count.low)&&p.isInteger(r.count.high)))return"count: integer|Long expected";if(r.sum!=null&&r.hasOwnProperty("sum")&&(l._sum=1,typeof r.sum!="number"))return"sum: number expected";if(r.bucketCounts!=null&&r.hasOwnProperty("bucketCounts")){if(!Array.isArray(r.bucketCounts))return"bucketCounts: array expected";for(var c=0;c<r.bucketCounts.length;++c)if(!p.isInteger(r.bucketCounts[c])&&!(r.bucketCounts[c]&&p.isInteger(r.bucketCounts[c].low)&&p.isInteger(r.bucketCounts[c].high)))return"bucketCounts: integer|Long[] expected"}if(r.explicitBounds!=null&&r.hasOwnProperty("explicitBounds")){if(!Array.isArray(r.explicitBounds))return"explicitBounds: array expected";for(var c=0;c<r.explicitBounds.length;++c)if(typeof r.explicitBounds[c]!="number")return"explicitBounds: number[] expected"}if(r.exemplars!=null&&r.hasOwnProperty("exemplars")){if(!Array.isArray(r.exemplars))return"exemplars: array expected";for(var c=0;c<r.exemplars.length;++c){var u=f.opentelemetry.proto.metrics.v1.Exemplar.verify(r.exemplars[c]);if(u)return"exemplars."+u}}return r.flags!=null&&r.hasOwnProperty("flags")&&!p.isInteger(r.flags)?"flags: integer expected":r.min!=null&&r.hasOwnProperty("min")&&(l._min=1,typeof r.min!="number")?"min: number expected":r.max!=null&&r.hasOwnProperty("max")&&(l._max=1,typeof r.max!="number")?"max: number expected":null},s.fromObject=function(r){if(r instanceof f.opentelemetry.proto.metrics.v1.HistogramDataPoint)return r;var l=new f.opentelemetry.proto.metrics.v1.HistogramDataPoint;if(r.attributes){if(!Array.isArray(r.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: array expected");l.attributes=[];for(var c=0;c<r.attributes.length;++c){if(typeof r.attributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: object expected");l.attributes[c]=f.opentelemetry.proto.common.v1.KeyValue.fromObject(r.attributes[c])}}if(r.startTimeUnixNano!=null&&(p.Long?(l.startTimeUnixNano=p.Long.fromValue(r.startTimeUnixNano)).unsigned=!1:typeof r.startTimeUnixNano=="string"?l.startTimeUnixNano=parseInt(r.startTimeUnixNano,10):typeof r.startTimeUnixNano=="number"?l.startTimeUnixNano=r.startTimeUnixNano:typeof r.startTimeUnixNano=="object"&&(l.startTimeUnixNano=new p.LongBits(r.startTimeUnixNano.low>>>0,r.startTimeUnixNano.high>>>0).toNumber())),r.timeUnixNano!=null&&(p.Long?(l.timeUnixNano=p.Long.fromValue(r.timeUnixNano)).unsigned=!1:typeof r.timeUnixNano=="string"?l.timeUnixNano=parseInt(r.timeUnixNano,10):typeof r.timeUnixNano=="number"?l.timeUnixNano=r.timeUnixNano:typeof r.timeUnixNano=="object"&&(l.timeUnixNano=new p.LongBits(r.timeUnixNano.low>>>0,r.timeUnixNano.high>>>0).toNumber())),r.count!=null&&(p.Long?(l.count=p.Long.fromValue(r.count)).unsigned=!1:typeof r.count=="string"?l.count=parseInt(r.count,10):typeof r.count=="number"?l.count=r.count:typeof r.count=="object"&&(l.count=new p.LongBits(r.count.low>>>0,r.count.high>>>0).toNumber())),r.sum!=null&&(l.sum=Number(r.sum)),r.bucketCounts){if(!Array.isArray(r.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.bucketCounts: array expected");l.bucketCounts=[];for(var c=0;c<r.bucketCounts.length;++c)p.Long?(l.bucketCounts[c]=p.Long.fromValue(r.bucketCounts[c])).unsigned=!1:typeof r.bucketCounts[c]=="string"?l.bucketCounts[c]=parseInt(r.bucketCounts[c],10):typeof r.bucketCounts[c]=="number"?l.bucketCounts[c]=r.bucketCounts[c]:typeof r.bucketCounts[c]=="object"&&(l.bucketCounts[c]=new p.LongBits(r.bucketCounts[c].low>>>0,r.bucketCounts[c].high>>>0).toNumber())}if(r.explicitBounds){if(!Array.isArray(r.explicitBounds))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.explicitBounds: array expected");l.explicitBounds=[];for(var c=0;c<r.explicitBounds.length;++c)l.explicitBounds[c]=Number(r.explicitBounds[c])}if(r.exemplars){if(!Array.isArray(r.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: array expected");l.exemplars=[];for(var c=0;c<r.exemplars.length;++c){if(typeof r.exemplars[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: object expected");l.exemplars[c]=f.opentelemetry.proto.metrics.v1.Exemplar.fromObject(r.exemplars[c])}}return r.flags!=null&&(l.flags=r.flags>>>0),r.min!=null&&(l.min=Number(r.min)),r.max!=null&&(l.max=Number(r.max)),l},s.toObject=function(r,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.bucketCounts=[],c.explicitBounds=[],c.exemplars=[],c.attributes=[]),l.defaults){if(p.Long){var u=new p.Long(0,0,!1);c.startTimeUnixNano=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.startTimeUnixNano=l.longs===String?"0":0;if(p.Long){var u=new p.Long(0,0,!1);c.timeUnixNano=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.timeUnixNano=l.longs===String?"0":0;if(p.Long){var u=new p.Long(0,0,!1);c.count=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.count=l.longs===String?"0":0;c.flags=0}if(r.startTimeUnixNano!=null&&r.hasOwnProperty("startTimeUnixNano")&&(typeof r.startTimeUnixNano=="number"?c.startTimeUnixNano=l.longs===String?String(r.startTimeUnixNano):r.startTimeUnixNano:c.startTimeUnixNano=l.longs===String?p.Long.prototype.toString.call(r.startTimeUnixNano):l.longs===Number?new p.LongBits(r.startTimeUnixNano.low>>>0,r.startTimeUnixNano.high>>>0).toNumber():r.startTimeUnixNano),r.timeUnixNano!=null&&r.hasOwnProperty("timeUnixNano")&&(typeof r.timeUnixNano=="number"?c.timeUnixNano=l.longs===String?String(r.timeUnixNano):r.timeUnixNano:c.timeUnixNano=l.longs===String?p.Long.prototype.toString.call(r.timeUnixNano):l.longs===Number?new p.LongBits(r.timeUnixNano.low>>>0,r.timeUnixNano.high>>>0).toNumber():r.timeUnixNano),r.count!=null&&r.hasOwnProperty("count")&&(typeof r.count=="number"?c.count=l.longs===String?String(r.count):r.count:c.count=l.longs===String?p.Long.prototype.toString.call(r.count):l.longs===Number?new p.LongBits(r.count.low>>>0,r.count.high>>>0).toNumber():r.count),r.sum!=null&&r.hasOwnProperty("sum")&&(c.sum=l.json&&!isFinite(r.sum)?String(r.sum):r.sum,l.oneofs&&(c._sum="sum")),r.bucketCounts&&r.bucketCounts.length){c.bucketCounts=[];for(var d=0;d<r.bucketCounts.length;++d)typeof r.bucketCounts[d]=="number"?c.bucketCounts[d]=l.longs===String?String(r.bucketCounts[d]):r.bucketCounts[d]:c.bucketCounts[d]=l.longs===String?p.Long.prototype.toString.call(r.bucketCounts[d]):l.longs===Number?new p.LongBits(r.bucketCounts[d].low>>>0,r.bucketCounts[d].high>>>0).toNumber():r.bucketCounts[d]}if(r.explicitBounds&&r.explicitBounds.length){c.explicitBounds=[];for(var d=0;d<r.explicitBounds.length;++d)c.explicitBounds[d]=l.json&&!isFinite(r.explicitBounds[d])?String(r.explicitBounds[d]):r.explicitBounds[d]}if(r.exemplars&&r.exemplars.length){c.exemplars=[];for(var d=0;d<r.exemplars.length;++d)c.exemplars[d]=f.opentelemetry.proto.metrics.v1.Exemplar.toObject(r.exemplars[d],l)}if(r.attributes&&r.attributes.length){c.attributes=[];for(var d=0;d<r.attributes.length;++d)c.attributes[d]=f.opentelemetry.proto.common.v1.KeyValue.toObject(r.attributes[d],l)}return r.flags!=null&&r.hasOwnProperty("flags")&&(c.flags=r.flags),r.min!=null&&r.hasOwnProperty("min")&&(c.min=l.json&&!isFinite(r.min)?String(r.min):r.min,l.oneofs&&(c._min="min")),r.max!=null&&r.hasOwnProperty("max")&&(c.max=l.json&&!isFinite(r.max)?String(r.max):r.max,l.oneofs&&(c._max="max")),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.metrics.v1.HistogramDataPoint"},s}(),o.ExponentialHistogramDataPoint=function(){function s(n){if(this.attributes=[],this.exemplars=[],n)for(var r=Object.keys(n),l=0;l<r.length;++l)n[r[l]]!=null&&(this[r[l]]=n[r[l]])}s.prototype.attributes=p.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.count=null,s.prototype.sum=null,s.prototype.scale=null,s.prototype.zeroCount=null,s.prototype.positive=null,s.prototype.negative=null,s.prototype.flags=null,s.prototype.exemplars=p.emptyArray,s.prototype.min=null,s.prototype.max=null,s.prototype.zeroThreshold=null;var a;return Object.defineProperty(s.prototype,"_sum",{get:p.oneOfGetter(a=["sum"]),set:p.oneOfSetter(a)}),Object.defineProperty(s.prototype,"_min",{get:p.oneOfGetter(a=["min"]),set:p.oneOfSetter(a)}),Object.defineProperty(s.prototype,"_max",{get:p.oneOfGetter(a=["max"]),set:p.oneOfSetter(a)}),s.create=function(r){return new s(r)},s.encode=function(r,l){if(l||(l=ne.create()),r.attributes!=null&&r.attributes.length)for(var c=0;c<r.attributes.length;++c)f.opentelemetry.proto.common.v1.KeyValue.encode(r.attributes[c],l.uint32(10).fork()).ldelim();if(r.startTimeUnixNano!=null&&Object.hasOwnProperty.call(r,"startTimeUnixNano")&&l.uint32(17).fixed64(r.startTimeUnixNano),r.timeUnixNano!=null&&Object.hasOwnProperty.call(r,"timeUnixNano")&&l.uint32(25).fixed64(r.timeUnixNano),r.count!=null&&Object.hasOwnProperty.call(r,"count")&&l.uint32(33).fixed64(r.count),r.sum!=null&&Object.hasOwnProperty.call(r,"sum")&&l.uint32(41).double(r.sum),r.scale!=null&&Object.hasOwnProperty.call(r,"scale")&&l.uint32(48).sint32(r.scale),r.zeroCount!=null&&Object.hasOwnProperty.call(r,"zeroCount")&&l.uint32(57).fixed64(r.zeroCount),r.positive!=null&&Object.hasOwnProperty.call(r,"positive")&&f.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(r.positive,l.uint32(66).fork()).ldelim(),r.negative!=null&&Object.hasOwnProperty.call(r,"negative")&&f.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(r.negative,l.uint32(74).fork()).ldelim(),r.flags!=null&&Object.hasOwnProperty.call(r,"flags")&&l.uint32(80).uint32(r.flags),r.exemplars!=null&&r.exemplars.length)for(var c=0;c<r.exemplars.length;++c)f.opentelemetry.proto.metrics.v1.Exemplar.encode(r.exemplars[c],l.uint32(90).fork()).ldelim();return r.min!=null&&Object.hasOwnProperty.call(r,"min")&&l.uint32(97).double(r.min),r.max!=null&&Object.hasOwnProperty.call(r,"max")&&l.uint32(105).double(r.max),r.zeroThreshold!=null&&Object.hasOwnProperty.call(r,"zeroThreshold")&&l.uint32(113).double(r.zeroThreshold),l},s.encodeDelimited=function(r,l){return this.encode(r,l).ldelim()},s.decode=function(r,l){r instanceof g||(r=g.create(r));for(var c=l===void 0?r.len:r.pos+l,u=new f.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;r.pos<c;){var d=r.uint32();switch(d>>>3){case 1:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(f.opentelemetry.proto.common.v1.KeyValue.decode(r,r.uint32()));break}case 2:{u.startTimeUnixNano=r.fixed64();break}case 3:{u.timeUnixNano=r.fixed64();break}case 4:{u.count=r.fixed64();break}case 5:{u.sum=r.double();break}case 6:{u.scale=r.sint32();break}case 7:{u.zeroCount=r.fixed64();break}case 8:{u.positive=f.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(r,r.uint32());break}case 9:{u.negative=f.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(r,r.uint32());break}case 10:{u.flags=r.uint32();break}case 11:{u.exemplars&&u.exemplars.length||(u.exemplars=[]),u.exemplars.push(f.opentelemetry.proto.metrics.v1.Exemplar.decode(r,r.uint32()));break}case 12:{u.min=r.double();break}case 13:{u.max=r.double();break}case 14:{u.zeroThreshold=r.double();break}default:r.skipType(d&7);break}}return u},s.decodeDelimited=function(r){return r instanceof g||(r=new g(r)),this.decode(r,r.uint32())},s.verify=function(r){if(typeof r!="object"||r===null)return"object expected";var l={};if(r.attributes!=null&&r.hasOwnProperty("attributes")){if(!Array.isArray(r.attributes))return"attributes: array expected";for(var c=0;c<r.attributes.length;++c){var u=f.opentelemetry.proto.common.v1.KeyValue.verify(r.attributes[c]);if(u)return"attributes."+u}}if(r.startTimeUnixNano!=null&&r.hasOwnProperty("startTimeUnixNano")&&!p.isInteger(r.startTimeUnixNano)&&!(r.startTimeUnixNano&&p.isInteger(r.startTimeUnixNano.low)&&p.isInteger(r.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(r.timeUnixNano!=null&&r.hasOwnProperty("timeUnixNano")&&!p.isInteger(r.timeUnixNano)&&!(r.timeUnixNano&&p.isInteger(r.timeUnixNano.low)&&p.isInteger(r.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(r.count!=null&&r.hasOwnProperty("count")&&!p.isInteger(r.count)&&!(r.count&&p.isInteger(r.count.low)&&p.isInteger(r.count.high)))return"count: integer|Long expected";if(r.sum!=null&&r.hasOwnProperty("sum")&&(l._sum=1,typeof r.sum!="number"))return"sum: number expected";if(r.scale!=null&&r.hasOwnProperty("scale")&&!p.isInteger(r.scale))return"scale: integer expected";if(r.zeroCount!=null&&r.hasOwnProperty("zeroCount")&&!p.isInteger(r.zeroCount)&&!(r.zeroCount&&p.isInteger(r.zeroCount.low)&&p.isInteger(r.zeroCount.high)))return"zeroCount: integer|Long expected";if(r.positive!=null&&r.hasOwnProperty("positive")){var u=f.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(r.positive);if(u)return"positive."+u}if(r.negative!=null&&r.hasOwnProperty("negative")){var u=f.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(r.negative);if(u)return"negative."+u}if(r.flags!=null&&r.hasOwnProperty("flags")&&!p.isInteger(r.flags))return"flags: integer expected";if(r.exemplars!=null&&r.hasOwnProperty("exemplars")){if(!Array.isArray(r.exemplars))return"exemplars: array expected";for(var c=0;c<r.exemplars.length;++c){var u=f.opentelemetry.proto.metrics.v1.Exemplar.verify(r.exemplars[c]);if(u)return"exemplars."+u}}return r.min!=null&&r.hasOwnProperty("min")&&(l._min=1,typeof r.min!="number")?"min: number expected":r.max!=null&&r.hasOwnProperty("max")&&(l._max=1,typeof r.max!="number")?"max: number expected":r.zeroThreshold!=null&&r.hasOwnProperty("zeroThreshold")&&typeof r.zeroThreshold!="number"?"zeroThreshold: number expected":null},s.fromObject=function(r){if(r instanceof f.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint)return r;var l=new f.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;if(r.attributes){if(!Array.isArray(r.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: array expected");l.attributes=[];for(var c=0;c<r.attributes.length;++c){if(typeof r.attributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: object expected");l.attributes[c]=f.opentelemetry.proto.common.v1.KeyValue.fromObject(r.attributes[c])}}if(r.startTimeUnixNano!=null&&(p.Long?(l.startTimeUnixNano=p.Long.fromValue(r.startTimeUnixNano)).unsigned=!1:typeof r.startTimeUnixNano=="string"?l.startTimeUnixNano=parseInt(r.startTimeUnixNano,10):typeof r.startTimeUnixNano=="number"?l.startTimeUnixNano=r.startTimeUnixNano:typeof r.startTimeUnixNano=="object"&&(l.startTimeUnixNano=new p.LongBits(r.startTimeUnixNano.low>>>0,r.startTimeUnixNano.high>>>0).toNumber())),r.timeUnixNano!=null&&(p.Long?(l.timeUnixNano=p.Long.fromValue(r.timeUnixNano)).unsigned=!1:typeof r.timeUnixNano=="string"?l.timeUnixNano=parseInt(r.timeUnixNano,10):typeof r.timeUnixNano=="number"?l.timeUnixNano=r.timeUnixNano:typeof r.timeUnixNano=="object"&&(l.timeUnixNano=new p.LongBits(r.timeUnixNano.low>>>0,r.timeUnixNano.high>>>0).toNumber())),r.count!=null&&(p.Long?(l.count=p.Long.fromValue(r.count)).unsigned=!1:typeof r.count=="string"?l.count=parseInt(r.count,10):typeof r.count=="number"?l.count=r.count:typeof r.count=="object"&&(l.count=new p.LongBits(r.count.low>>>0,r.count.high>>>0).toNumber())),r.sum!=null&&(l.sum=Number(r.sum)),r.scale!=null&&(l.scale=r.scale|0),r.zeroCount!=null&&(p.Long?(l.zeroCount=p.Long.fromValue(r.zeroCount)).unsigned=!1:typeof r.zeroCount=="string"?l.zeroCount=parseInt(r.zeroCount,10):typeof r.zeroCount=="number"?l.zeroCount=r.zeroCount:typeof r.zeroCount=="object"&&(l.zeroCount=new p.LongBits(r.zeroCount.low>>>0,r.zeroCount.high>>>0).toNumber())),r.positive!=null){if(typeof r.positive!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.positive: object expected");l.positive=f.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(r.positive)}if(r.negative!=null){if(typeof r.negative!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.negative: object expected");l.negative=f.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(r.negative)}if(r.flags!=null&&(l.flags=r.flags>>>0),r.exemplars){if(!Array.isArray(r.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: array expected");l.exemplars=[];for(var c=0;c<r.exemplars.length;++c){if(typeof r.exemplars[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: object expected");l.exemplars[c]=f.opentelemetry.proto.metrics.v1.Exemplar.fromObject(r.exemplars[c])}}return r.min!=null&&(l.min=Number(r.min)),r.max!=null&&(l.max=Number(r.max)),r.zeroThreshold!=null&&(l.zeroThreshold=Number(r.zeroThreshold)),l},s.toObject=function(r,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.attributes=[],c.exemplars=[]),l.defaults){if(p.Long){var u=new p.Long(0,0,!1);c.startTimeUnixNano=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.startTimeUnixNano=l.longs===String?"0":0;if(p.Long){var u=new p.Long(0,0,!1);c.timeUnixNano=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.timeUnixNano=l.longs===String?"0":0;if(p.Long){var u=new p.Long(0,0,!1);c.count=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.count=l.longs===String?"0":0;if(c.scale=0,p.Long){var u=new p.Long(0,0,!1);c.zeroCount=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.zeroCount=l.longs===String?"0":0;c.positive=null,c.negative=null,c.flags=0,c.zeroThreshold=0}if(r.attributes&&r.attributes.length){c.attributes=[];for(var d=0;d<r.attributes.length;++d)c.attributes[d]=f.opentelemetry.proto.common.v1.KeyValue.toObject(r.attributes[d],l)}if(r.startTimeUnixNano!=null&&r.hasOwnProperty("startTimeUnixNano")&&(typeof r.startTimeUnixNano=="number"?c.startTimeUnixNano=l.longs===String?String(r.startTimeUnixNano):r.startTimeUnixNano:c.startTimeUnixNano=l.longs===String?p.Long.prototype.toString.call(r.startTimeUnixNano):l.longs===Number?new p.LongBits(r.startTimeUnixNano.low>>>0,r.startTimeUnixNano.high>>>0).toNumber():r.startTimeUnixNano),r.timeUnixNano!=null&&r.hasOwnProperty("timeUnixNano")&&(typeof r.timeUnixNano=="number"?c.timeUnixNano=l.longs===String?String(r.timeUnixNano):r.timeUnixNano:c.timeUnixNano=l.longs===String?p.Long.prototype.toString.call(r.timeUnixNano):l.longs===Number?new p.LongBits(r.timeUnixNano.low>>>0,r.timeUnixNano.high>>>0).toNumber():r.timeUnixNano),r.count!=null&&r.hasOwnProperty("count")&&(typeof r.count=="number"?c.count=l.longs===String?String(r.count):r.count:c.count=l.longs===String?p.Long.prototype.toString.call(r.count):l.longs===Number?new p.LongBits(r.count.low>>>0,r.count.high>>>0).toNumber():r.count),r.sum!=null&&r.hasOwnProperty("sum")&&(c.sum=l.json&&!isFinite(r.sum)?String(r.sum):r.sum,l.oneofs&&(c._sum="sum")),r.scale!=null&&r.hasOwnProperty("scale")&&(c.scale=r.scale),r.zeroCount!=null&&r.hasOwnProperty("zeroCount")&&(typeof r.zeroCount=="number"?c.zeroCount=l.longs===String?String(r.zeroCount):r.zeroCount:c.zeroCount=l.longs===String?p.Long.prototype.toString.call(r.zeroCount):l.longs===Number?new p.LongBits(r.zeroCount.low>>>0,r.zeroCount.high>>>0).toNumber():r.zeroCount),r.positive!=null&&r.hasOwnProperty("positive")&&(c.positive=f.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(r.positive,l)),r.negative!=null&&r.hasOwnProperty("negative")&&(c.negative=f.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(r.negative,l)),r.flags!=null&&r.hasOwnProperty("flags")&&(c.flags=r.flags),r.exemplars&&r.exemplars.length){c.exemplars=[];for(var d=0;d<r.exemplars.length;++d)c.exemplars[d]=f.opentelemetry.proto.metrics.v1.Exemplar.toObject(r.exemplars[d],l)}return r.min!=null&&r.hasOwnProperty("min")&&(c.min=l.json&&!isFinite(r.min)?String(r.min):r.min,l.oneofs&&(c._min="min")),r.max!=null&&r.hasOwnProperty("max")&&(c.max=l.json&&!isFinite(r.max)?String(r.max):r.max,l.oneofs&&(c._max="max")),r.zeroThreshold!=null&&r.hasOwnProperty("zeroThreshold")&&(c.zeroThreshold=l.json&&!isFinite(r.zeroThreshold)?String(r.zeroThreshold):r.zeroThreshold),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint"},s.Buckets=function(){function n(r){if(this.bucketCounts=[],r)for(var l=Object.keys(r),c=0;c<l.length;++c)r[l[c]]!=null&&(this[l[c]]=r[l[c]])}return n.prototype.offset=null,n.prototype.bucketCounts=p.emptyArray,n.create=function(l){return new n(l)},n.encode=function(l,c){if(c||(c=ne.create()),l.offset!=null&&Object.hasOwnProperty.call(l,"offset")&&c.uint32(8).sint32(l.offset),l.bucketCounts!=null&&l.bucketCounts.length){c.uint32(18).fork();for(var u=0;u<l.bucketCounts.length;++u)c.uint64(l.bucketCounts[u]);c.ldelim()}return c},n.encodeDelimited=function(l,c){return this.encode(l,c).ldelim()},n.decode=function(l,c){l instanceof g||(l=g.create(l));for(var u=c===void 0?l.len:l.pos+c,d=new f.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;l.pos<u;){var _=l.uint32();switch(_>>>3){case 1:{d.offset=l.sint32();break}case 2:{if(d.bucketCounts&&d.bucketCounts.length||(d.bucketCounts=[]),(_&7)===2)for(var E=l.uint32()+l.pos;l.pos<E;)d.bucketCounts.push(l.uint64());else d.bucketCounts.push(l.uint64());break}default:l.skipType(_&7);break}}return d},n.decodeDelimited=function(l){return l instanceof g||(l=new g(l)),this.decode(l,l.uint32())},n.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.offset!=null&&l.hasOwnProperty("offset")&&!p.isInteger(l.offset))return"offset: integer expected";if(l.bucketCounts!=null&&l.hasOwnProperty("bucketCounts")){if(!Array.isArray(l.bucketCounts))return"bucketCounts: array expected";for(var c=0;c<l.bucketCounts.length;++c)if(!p.isInteger(l.bucketCounts[c])&&!(l.bucketCounts[c]&&p.isInteger(l.bucketCounts[c].low)&&p.isInteger(l.bucketCounts[c].high)))return"bucketCounts: integer|Long[] expected"}return null},n.fromObject=function(l){if(l instanceof f.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets)return l;var c=new f.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;if(l.offset!=null&&(c.offset=l.offset|0),l.bucketCounts){if(!Array.isArray(l.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.bucketCounts: array expected");c.bucketCounts=[];for(var u=0;u<l.bucketCounts.length;++u)p.Long?(c.bucketCounts[u]=p.Long.fromValue(l.bucketCounts[u])).unsigned=!0:typeof l.bucketCounts[u]=="string"?c.bucketCounts[u]=parseInt(l.bucketCounts[u],10):typeof l.bucketCounts[u]=="number"?c.bucketCounts[u]=l.bucketCounts[u]:typeof l.bucketCounts[u]=="object"&&(c.bucketCounts[u]=new p.LongBits(l.bucketCounts[u].low>>>0,l.bucketCounts[u].high>>>0).toNumber(!0))}return c},n.toObject=function(l,c){c||(c={});var u={};if((c.arrays||c.defaults)&&(u.bucketCounts=[]),c.defaults&&(u.offset=0),l.offset!=null&&l.hasOwnProperty("offset")&&(u.offset=l.offset),l.bucketCounts&&l.bucketCounts.length){u.bucketCounts=[];for(var d=0;d<l.bucketCounts.length;++d)typeof l.bucketCounts[d]=="number"?u.bucketCounts[d]=c.longs===String?String(l.bucketCounts[d]):l.bucketCounts[d]:u.bucketCounts[d]=c.longs===String?p.Long.prototype.toString.call(l.bucketCounts[d]):c.longs===Number?new p.LongBits(l.bucketCounts[d].low>>>0,l.bucketCounts[d].high>>>0).toNumber(!0):l.bucketCounts[d]}return u},n.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},n.getTypeUrl=function(l){return l===void 0&&(l="type.googleapis.com"),l+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets"},n}(),s}(),o.SummaryDataPoint=function(){function s(a){if(this.attributes=[],this.quantileValues=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.attributes=p.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.count=null,s.prototype.sum=null,s.prototype.quantileValues=p.emptyArray,s.prototype.flags=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.startTimeUnixNano!=null&&Object.hasOwnProperty.call(n,"startTimeUnixNano")&&r.uint32(17).fixed64(n.startTimeUnixNano),n.timeUnixNano!=null&&Object.hasOwnProperty.call(n,"timeUnixNano")&&r.uint32(25).fixed64(n.timeUnixNano),n.count!=null&&Object.hasOwnProperty.call(n,"count")&&r.uint32(33).fixed64(n.count),n.sum!=null&&Object.hasOwnProperty.call(n,"sum")&&r.uint32(41).double(n.sum),n.quantileValues!=null&&n.quantileValues.length)for(var l=0;l<n.quantileValues.length;++l)f.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.encode(n.quantileValues[l],r.uint32(50).fork()).ldelim();if(n.attributes!=null&&n.attributes.length)for(var l=0;l<n.attributes.length;++l)f.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[l],r.uint32(58).fork()).ldelim();return n.flags!=null&&Object.hasOwnProperty.call(n,"flags")&&r.uint32(64).uint32(n.flags),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof g||(n=g.create(n));for(var l=r===void 0?n.len:n.pos+r,c=new f.opentelemetry.proto.metrics.v1.SummaryDataPoint;n.pos<l;){var u=n.uint32();switch(u>>>3){case 7:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(f.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 2:{c.startTimeUnixNano=n.fixed64();break}case 3:{c.timeUnixNano=n.fixed64();break}case 4:{c.count=n.fixed64();break}case 5:{c.sum=n.double();break}case 6:{c.quantileValues&&c.quantileValues.length||(c.quantileValues=[]),c.quantileValues.push(f.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.decode(n,n.uint32()));break}case 8:{c.flags=n.uint32();break}default:n.skipType(u&7);break}}return c},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var r=0;r<n.attributes.length;++r){var l=f.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[r]);if(l)return"attributes."+l}}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&!p.isInteger(n.startTimeUnixNano)&&!(n.startTimeUnixNano&&p.isInteger(n.startTimeUnixNano.low)&&p.isInteger(n.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&!p.isInteger(n.timeUnixNano)&&!(n.timeUnixNano&&p.isInteger(n.timeUnixNano.low)&&p.isInteger(n.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(n.count!=null&&n.hasOwnProperty("count")&&!p.isInteger(n.count)&&!(n.count&&p.isInteger(n.count.low)&&p.isInteger(n.count.high)))return"count: integer|Long expected";if(n.sum!=null&&n.hasOwnProperty("sum")&&typeof n.sum!="number")return"sum: number expected";if(n.quantileValues!=null&&n.hasOwnProperty("quantileValues")){if(!Array.isArray(n.quantileValues))return"quantileValues: array expected";for(var r=0;r<n.quantileValues.length;++r){var l=f.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.verify(n.quantileValues[r]);if(l)return"quantileValues."+l}}return n.flags!=null&&n.hasOwnProperty("flags")&&!p.isInteger(n.flags)?"flags: integer expected":null},s.fromObject=function(n){if(n instanceof f.opentelemetry.proto.metrics.v1.SummaryDataPoint)return n;var r=new f.opentelemetry.proto.metrics.v1.SummaryDataPoint;if(n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: array expected");r.attributes=[];for(var l=0;l<n.attributes.length;++l){if(typeof n.attributes[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: object expected");r.attributes[l]=f.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[l])}}if(n.startTimeUnixNano!=null&&(p.Long?(r.startTimeUnixNano=p.Long.fromValue(n.startTimeUnixNano)).unsigned=!1:typeof n.startTimeUnixNano=="string"?r.startTimeUnixNano=parseInt(n.startTimeUnixNano,10):typeof n.startTimeUnixNano=="number"?r.startTimeUnixNano=n.startTimeUnixNano:typeof n.startTimeUnixNano=="object"&&(r.startTimeUnixNano=new p.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber())),n.timeUnixNano!=null&&(p.Long?(r.timeUnixNano=p.Long.fromValue(n.timeUnixNano)).unsigned=!1:typeof n.timeUnixNano=="string"?r.timeUnixNano=parseInt(n.timeUnixNano,10):typeof n.timeUnixNano=="number"?r.timeUnixNano=n.timeUnixNano:typeof n.timeUnixNano=="object"&&(r.timeUnixNano=new p.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber())),n.count!=null&&(p.Long?(r.count=p.Long.fromValue(n.count)).unsigned=!1:typeof n.count=="string"?r.count=parseInt(n.count,10):typeof n.count=="number"?r.count=n.count:typeof n.count=="object"&&(r.count=new p.LongBits(n.count.low>>>0,n.count.high>>>0).toNumber())),n.sum!=null&&(r.sum=Number(n.sum)),n.quantileValues){if(!Array.isArray(n.quantileValues))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: array expected");r.quantileValues=[];for(var l=0;l<n.quantileValues.length;++l){if(typeof n.quantileValues[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: object expected");r.quantileValues[l]=f.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.fromObject(n.quantileValues[l])}}return n.flags!=null&&(r.flags=n.flags>>>0),r},s.toObject=function(n,r){r||(r={});var l={};if((r.arrays||r.defaults)&&(l.quantileValues=[],l.attributes=[]),r.defaults){if(p.Long){var c=new p.Long(0,0,!1);l.startTimeUnixNano=r.longs===String?c.toString():r.longs===Number?c.toNumber():c}else l.startTimeUnixNano=r.longs===String?"0":0;if(p.Long){var c=new p.Long(0,0,!1);l.timeUnixNano=r.longs===String?c.toString():r.longs===Number?c.toNumber():c}else l.timeUnixNano=r.longs===String?"0":0;if(p.Long){var c=new p.Long(0,0,!1);l.count=r.longs===String?c.toString():r.longs===Number?c.toNumber():c}else l.count=r.longs===String?"0":0;l.sum=0,l.flags=0}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&(typeof n.startTimeUnixNano=="number"?l.startTimeUnixNano=r.longs===String?String(n.startTimeUnixNano):n.startTimeUnixNano:l.startTimeUnixNano=r.longs===String?p.Long.prototype.toString.call(n.startTimeUnixNano):r.longs===Number?new p.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber():n.startTimeUnixNano),n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&(typeof n.timeUnixNano=="number"?l.timeUnixNano=r.longs===String?String(n.timeUnixNano):n.timeUnixNano:l.timeUnixNano=r.longs===String?p.Long.prototype.toString.call(n.timeUnixNano):r.longs===Number?new p.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber():n.timeUnixNano),n.count!=null&&n.hasOwnProperty("count")&&(typeof n.count=="number"?l.count=r.longs===String?String(n.count):n.count:l.count=r.longs===String?p.Long.prototype.toString.call(n.count):r.longs===Number?new p.LongBits(n.count.low>>>0,n.count.high>>>0).toNumber():n.count),n.sum!=null&&n.hasOwnProperty("sum")&&(l.sum=r.json&&!isFinite(n.sum)?String(n.sum):n.sum),n.quantileValues&&n.quantileValues.length){l.quantileValues=[];for(var u=0;u<n.quantileValues.length;++u)l.quantileValues[u]=f.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.toObject(n.quantileValues[u],r)}if(n.attributes&&n.attributes.length){l.attributes=[];for(var u=0;u<n.attributes.length;++u)l.attributes[u]=f.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[u],r)}return n.flags!=null&&n.hasOwnProperty("flags")&&(l.flags=n.flags),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.SummaryDataPoint"},s.ValueAtQuantile=function(){function a(n){if(n)for(var r=Object.keys(n),l=0;l<r.length;++l)n[r[l]]!=null&&(this[r[l]]=n[r[l]])}return a.prototype.quantile=null,a.prototype.value=null,a.create=function(r){return new a(r)},a.encode=function(r,l){return l||(l=ne.create()),r.quantile!=null&&Object.hasOwnProperty.call(r,"quantile")&&l.uint32(9).double(r.quantile),r.value!=null&&Object.hasOwnProperty.call(r,"value")&&l.uint32(17).double(r.value),l},a.encodeDelimited=function(r,l){return this.encode(r,l).ldelim()},a.decode=function(r,l){r instanceof g||(r=g.create(r));for(var c=l===void 0?r.len:r.pos+l,u=new f.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;r.pos<c;){var d=r.uint32();switch(d>>>3){case 1:{u.quantile=r.double();break}case 2:{u.value=r.double();break}default:r.skipType(d&7);break}}return u},a.decodeDelimited=function(r){return r instanceof g||(r=new g(r)),this.decode(r,r.uint32())},a.verify=function(r){return typeof r!="object"||r===null?"object expected":r.quantile!=null&&r.hasOwnProperty("quantile")&&typeof r.quantile!="number"?"quantile: number expected":r.value!=null&&r.hasOwnProperty("value")&&typeof r.value!="number"?"value: number expected":null},a.fromObject=function(r){if(r instanceof f.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile)return r;var l=new f.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;return r.quantile!=null&&(l.quantile=Number(r.quantile)),r.value!=null&&(l.value=Number(r.value)),l},a.toObject=function(r,l){l||(l={});var c={};return l.defaults&&(c.quantile=0,c.value=0),r.quantile!=null&&r.hasOwnProperty("quantile")&&(c.quantile=l.json&&!isFinite(r.quantile)?String(r.quantile):r.quantile),r.value!=null&&r.hasOwnProperty("value")&&(c.value=l.json&&!isFinite(r.value)?String(r.value):r.value),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},a.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile"},a}(),s}(),o.Exemplar=function(){function s(n){if(this.filteredAttributes=[],n)for(var r=Object.keys(n),l=0;l<r.length;++l)n[r[l]]!=null&&(this[r[l]]=n[r[l]])}s.prototype.filteredAttributes=p.emptyArray,s.prototype.timeUnixNano=null,s.prototype.asDouble=null,s.prototype.asInt=null,s.prototype.spanId=null,s.prototype.traceId=null;var a;return Object.defineProperty(s.prototype,"value",{get:p.oneOfGetter(a=["asDouble","asInt"]),set:p.oneOfSetter(a)}),s.create=function(r){return new s(r)},s.encode=function(r,l){if(l||(l=ne.create()),r.timeUnixNano!=null&&Object.hasOwnProperty.call(r,"timeUnixNano")&&l.uint32(17).fixed64(r.timeUnixNano),r.asDouble!=null&&Object.hasOwnProperty.call(r,"asDouble")&&l.uint32(25).double(r.asDouble),r.spanId!=null&&Object.hasOwnProperty.call(r,"spanId")&&l.uint32(34).bytes(r.spanId),r.traceId!=null&&Object.hasOwnProperty.call(r,"traceId")&&l.uint32(42).bytes(r.traceId),r.asInt!=null&&Object.hasOwnProperty.call(r,"asInt")&&l.uint32(49).sfixed64(r.asInt),r.filteredAttributes!=null&&r.filteredAttributes.length)for(var c=0;c<r.filteredAttributes.length;++c)f.opentelemetry.proto.common.v1.KeyValue.encode(r.filteredAttributes[c],l.uint32(58).fork()).ldelim();return l},s.encodeDelimited=function(r,l){return this.encode(r,l).ldelim()},s.decode=function(r,l){r instanceof g||(r=g.create(r));for(var c=l===void 0?r.len:r.pos+l,u=new f.opentelemetry.proto.metrics.v1.Exemplar;r.pos<c;){var d=r.uint32();switch(d>>>3){case 7:{u.filteredAttributes&&u.filteredAttributes.length||(u.filteredAttributes=[]),u.filteredAttributes.push(f.opentelemetry.proto.common.v1.KeyValue.decode(r,r.uint32()));break}case 2:{u.timeUnixNano=r.fixed64();break}case 3:{u.asDouble=r.double();break}case 6:{u.asInt=r.sfixed64();break}case 4:{u.spanId=r.bytes();break}case 5:{u.traceId=r.bytes();break}default:r.skipType(d&7);break}}return u},s.decodeDelimited=function(r){return r instanceof g||(r=new g(r)),this.decode(r,r.uint32())},s.verify=function(r){if(typeof r!="object"||r===null)return"object expected";var l={};if(r.filteredAttributes!=null&&r.hasOwnProperty("filteredAttributes")){if(!Array.isArray(r.filteredAttributes))return"filteredAttributes: array expected";for(var c=0;c<r.filteredAttributes.length;++c){var u=f.opentelemetry.proto.common.v1.KeyValue.verify(r.filteredAttributes[c]);if(u)return"filteredAttributes."+u}}if(r.timeUnixNano!=null&&r.hasOwnProperty("timeUnixNano")&&!p.isInteger(r.timeUnixNano)&&!(r.timeUnixNano&&p.isInteger(r.timeUnixNano.low)&&p.isInteger(r.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(r.asDouble!=null&&r.hasOwnProperty("asDouble")&&(l.value=1,typeof r.asDouble!="number"))return"asDouble: number expected";if(r.asInt!=null&&r.hasOwnProperty("asInt")){if(l.value===1)return"value: multiple values";if(l.value=1,!p.isInteger(r.asInt)&&!(r.asInt&&p.isInteger(r.asInt.low)&&p.isInteger(r.asInt.high)))return"asInt: integer|Long expected"}return r.spanId!=null&&r.hasOwnProperty("spanId")&&!(r.spanId&&typeof r.spanId.length=="number"||p.isString(r.spanId))?"spanId: buffer expected":r.traceId!=null&&r.hasOwnProperty("traceId")&&!(r.traceId&&typeof r.traceId.length=="number"||p.isString(r.traceId))?"traceId: buffer expected":null},s.fromObject=function(r){if(r instanceof f.opentelemetry.proto.metrics.v1.Exemplar)return r;var l=new f.opentelemetry.proto.metrics.v1.Exemplar;if(r.filteredAttributes){if(!Array.isArray(r.filteredAttributes))throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: array expected");l.filteredAttributes=[];for(var c=0;c<r.filteredAttributes.length;++c){if(typeof r.filteredAttributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: object expected");l.filteredAttributes[c]=f.opentelemetry.proto.common.v1.KeyValue.fromObject(r.filteredAttributes[c])}}return r.timeUnixNano!=null&&(p.Long?(l.timeUnixNano=p.Long.fromValue(r.timeUnixNano)).unsigned=!1:typeof r.timeUnixNano=="string"?l.timeUnixNano=parseInt(r.timeUnixNano,10):typeof r.timeUnixNano=="number"?l.timeUnixNano=r.timeUnixNano:typeof r.timeUnixNano=="object"&&(l.timeUnixNano=new p.LongBits(r.timeUnixNano.low>>>0,r.timeUnixNano.high>>>0).toNumber())),r.asDouble!=null&&(l.asDouble=Number(r.asDouble)),r.asInt!=null&&(p.Long?(l.asInt=p.Long.fromValue(r.asInt)).unsigned=!1:typeof r.asInt=="string"?l.asInt=parseInt(r.asInt,10):typeof r.asInt=="number"?l.asInt=r.asInt:typeof r.asInt=="object"&&(l.asInt=new p.LongBits(r.asInt.low>>>0,r.asInt.high>>>0).toNumber())),r.spanId!=null&&(typeof r.spanId=="string"?p.base64.decode(r.spanId,l.spanId=p.newBuffer(p.base64.length(r.spanId)),0):r.spanId.length>=0&&(l.spanId=r.spanId)),r.traceId!=null&&(typeof r.traceId=="string"?p.base64.decode(r.traceId,l.traceId=p.newBuffer(p.base64.length(r.traceId)),0):r.traceId.length>=0&&(l.traceId=r.traceId)),l},s.toObject=function(r,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.filteredAttributes=[]),l.defaults){if(p.Long){var u=new p.Long(0,0,!1);c.timeUnixNano=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.timeUnixNano=l.longs===String?"0":0;l.bytes===String?c.spanId="":(c.spanId=[],l.bytes!==Array&&(c.spanId=p.newBuffer(c.spanId))),l.bytes===String?c.traceId="":(c.traceId=[],l.bytes!==Array&&(c.traceId=p.newBuffer(c.traceId)))}if(r.timeUnixNano!=null&&r.hasOwnProperty("timeUnixNano")&&(typeof r.timeUnixNano=="number"?c.timeUnixNano=l.longs===String?String(r.timeUnixNano):r.timeUnixNano:c.timeUnixNano=l.longs===String?p.Long.prototype.toString.call(r.timeUnixNano):l.longs===Number?new p.LongBits(r.timeUnixNano.low>>>0,r.timeUnixNano.high>>>0).toNumber():r.timeUnixNano),r.asDouble!=null&&r.hasOwnProperty("asDouble")&&(c.asDouble=l.json&&!isFinite(r.asDouble)?String(r.asDouble):r.asDouble,l.oneofs&&(c.value="asDouble")),r.spanId!=null&&r.hasOwnProperty("spanId")&&(c.spanId=l.bytes===String?p.base64.encode(r.spanId,0,r.spanId.length):l.bytes===Array?Array.prototype.slice.call(r.spanId):r.spanId),r.traceId!=null&&r.hasOwnProperty("traceId")&&(c.traceId=l.bytes===String?p.base64.encode(r.traceId,0,r.traceId.length):l.bytes===Array?Array.prototype.slice.call(r.traceId):r.traceId),r.asInt!=null&&r.hasOwnProperty("asInt")&&(typeof r.asInt=="number"?c.asInt=l.longs===String?String(r.asInt):r.asInt:c.asInt=l.longs===String?p.Long.prototype.toString.call(r.asInt):l.longs===Number?new p.LongBits(r.asInt.low>>>0,r.asInt.high>>>0).toNumber():r.asInt,l.oneofs&&(c.value="asInt")),r.filteredAttributes&&r.filteredAttributes.length){c.filteredAttributes=[];for(var d=0;d<r.filteredAttributes.length;++d)c.filteredAttributes[d]=f.opentelemetry.proto.common.v1.KeyValue.toObject(r.filteredAttributes[d],l)}return c},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/opentelemetry.proto.metrics.v1.Exemplar"},s}(),o}(),t}(),e.logs=function(){var t={};return t.v1=function(){var o={};return o.LogsData=function(){function s(a){if(this.resourceLogs=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.resourceLogs=p.emptyArray,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.resourceLogs!=null&&n.resourceLogs.length)for(var l=0;l<n.resourceLogs.length;++l)f.opentelemetry.proto.logs.v1.ResourceLogs.encode(n.resourceLogs[l],r.uint32(10).fork()).ldelim();return r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof g||(n=g.create(n));for(var l=r===void 0?n.len:n.pos+r,c=new f.opentelemetry.proto.logs.v1.LogsData;n.pos<l;){var u=n.uint32();switch(u>>>3){case 1:{c.resourceLogs&&c.resourceLogs.length||(c.resourceLogs=[]),c.resourceLogs.push(f.opentelemetry.proto.logs.v1.ResourceLogs.decode(n,n.uint32()));break}default:n.skipType(u&7);break}}return c},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resourceLogs!=null&&n.hasOwnProperty("resourceLogs")){if(!Array.isArray(n.resourceLogs))return"resourceLogs: array expected";for(var r=0;r<n.resourceLogs.length;++r){var l=f.opentelemetry.proto.logs.v1.ResourceLogs.verify(n.resourceLogs[r]);if(l)return"resourceLogs."+l}}return null},s.fromObject=function(n){if(n instanceof f.opentelemetry.proto.logs.v1.LogsData)return n;var r=new f.opentelemetry.proto.logs.v1.LogsData;if(n.resourceLogs){if(!Array.isArray(n.resourceLogs))throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: array expected");r.resourceLogs=[];for(var l=0;l<n.resourceLogs.length;++l){if(typeof n.resourceLogs[l]!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: object expected");r.resourceLogs[l]=f.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(n.resourceLogs[l])}}return r},s.toObject=function(n,r){r||(r={});var l={};if((r.arrays||r.defaults)&&(l.resourceLogs=[]),n.resourceLogs&&n.resourceLogs.length){l.resourceLogs=[];for(var c=0;c<n.resourceLogs.length;++c)l.resourceLogs[c]=f.opentelemetry.proto.logs.v1.ResourceLogs.toObject(n.resourceLogs[c],r)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.logs.v1.LogsData"},s}(),o.ResourceLogs=function(){function s(a){if(this.scopeLogs=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.resource=null,s.prototype.scopeLogs=p.emptyArray,s.prototype.schemaUrl=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.resource!=null&&Object.hasOwnProperty.call(n,"resource")&&f.opentelemetry.proto.resource.v1.Resource.encode(n.resource,r.uint32(10).fork()).ldelim(),n.scopeLogs!=null&&n.scopeLogs.length)for(var l=0;l<n.scopeLogs.length;++l)f.opentelemetry.proto.logs.v1.ScopeLogs.encode(n.scopeLogs[l],r.uint32(18).fork()).ldelim();return n.schemaUrl!=null&&Object.hasOwnProperty.call(n,"schemaUrl")&&r.uint32(26).string(n.schemaUrl),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof g||(n=g.create(n));for(var l=r===void 0?n.len:n.pos+r,c=new f.opentelemetry.proto.logs.v1.ResourceLogs;n.pos<l;){var u=n.uint32();switch(u>>>3){case 1:{c.resource=f.opentelemetry.proto.resource.v1.Resource.decode(n,n.uint32());break}case 2:{c.scopeLogs&&c.scopeLogs.length||(c.scopeLogs=[]),c.scopeLogs.push(f.opentelemetry.proto.logs.v1.ScopeLogs.decode(n,n.uint32()));break}case 3:{c.schemaUrl=n.string();break}default:n.skipType(u&7);break}}return c},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resource!=null&&n.hasOwnProperty("resource")){var r=f.opentelemetry.proto.resource.v1.Resource.verify(n.resource);if(r)return"resource."+r}if(n.scopeLogs!=null&&n.hasOwnProperty("scopeLogs")){if(!Array.isArray(n.scopeLogs))return"scopeLogs: array expected";for(var l=0;l<n.scopeLogs.length;++l){var r=f.opentelemetry.proto.logs.v1.ScopeLogs.verify(n.scopeLogs[l]);if(r)return"scopeLogs."+r}}return n.schemaUrl!=null&&n.hasOwnProperty("schemaUrl")&&!p.isString(n.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(n){if(n instanceof f.opentelemetry.proto.logs.v1.ResourceLogs)return n;var r=new f.opentelemetry.proto.logs.v1.ResourceLogs;if(n.resource!=null){if(typeof n.resource!="object")throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.resource: object expected");r.resource=f.opentelemetry.proto.resource.v1.Resource.fromObject(n.resource)}if(n.scopeLogs){if(!Array.isArray(n.scopeLogs))throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: array expected");r.scopeLogs=[];for(var l=0;l<n.scopeLogs.length;++l){if(typeof n.scopeLogs[l]!="object")throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: object expected");r.scopeLogs[l]=f.opentelemetry.proto.logs.v1.ScopeLogs.fromObject(n.scopeLogs[l])}}return n.schemaUrl!=null&&(r.schemaUrl=String(n.schemaUrl)),r},s.toObject=function(n,r){r||(r={});var l={};if((r.arrays||r.defaults)&&(l.scopeLogs=[]),r.defaults&&(l.resource=null,l.schemaUrl=""),n.resource!=null&&n.hasOwnProperty("resource")&&(l.resource=f.opentelemetry.proto.resource.v1.Resource.toObject(n.resource,r)),n.scopeLogs&&n.scopeLogs.length){l.scopeLogs=[];for(var c=0;c<n.scopeLogs.length;++c)l.scopeLogs[c]=f.opentelemetry.proto.logs.v1.ScopeLogs.toObject(n.scopeLogs[c],r)}return n.schemaUrl!=null&&n.hasOwnProperty("schemaUrl")&&(l.schemaUrl=n.schemaUrl),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.logs.v1.ResourceLogs"},s}(),o.ScopeLogs=function(){function s(a){if(this.logRecords=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.scope=null,s.prototype.logRecords=p.emptyArray,s.prototype.schemaUrl=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.scope!=null&&Object.hasOwnProperty.call(n,"scope")&&f.opentelemetry.proto.common.v1.InstrumentationScope.encode(n.scope,r.uint32(10).fork()).ldelim(),n.logRecords!=null&&n.logRecords.length)for(var l=0;l<n.logRecords.length;++l)f.opentelemetry.proto.logs.v1.LogRecord.encode(n.logRecords[l],r.uint32(18).fork()).ldelim();return n.schemaUrl!=null&&Object.hasOwnProperty.call(n,"schemaUrl")&&r.uint32(26).string(n.schemaUrl),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof g||(n=g.create(n));for(var l=r===void 0?n.len:n.pos+r,c=new f.opentelemetry.proto.logs.v1.ScopeLogs;n.pos<l;){var u=n.uint32();switch(u>>>3){case 1:{c.scope=f.opentelemetry.proto.common.v1.InstrumentationScope.decode(n,n.uint32());break}case 2:{c.logRecords&&c.logRecords.length||(c.logRecords=[]),c.logRecords.push(f.opentelemetry.proto.logs.v1.LogRecord.decode(n,n.uint32()));break}case 3:{c.schemaUrl=n.string();break}default:n.skipType(u&7);break}}return c},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.scope!=null&&n.hasOwnProperty("scope")){var r=f.opentelemetry.proto.common.v1.InstrumentationScope.verify(n.scope);if(r)return"scope."+r}if(n.logRecords!=null&&n.hasOwnProperty("logRecords")){if(!Array.isArray(n.logRecords))return"logRecords: array expected";for(var l=0;l<n.logRecords.length;++l){var r=f.opentelemetry.proto.logs.v1.LogRecord.verify(n.logRecords[l]);if(r)return"logRecords."+r}}return n.schemaUrl!=null&&n.hasOwnProperty("schemaUrl")&&!p.isString(n.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(n){if(n instanceof f.opentelemetry.proto.logs.v1.ScopeLogs)return n;var r=new f.opentelemetry.proto.logs.v1.ScopeLogs;if(n.scope!=null){if(typeof n.scope!="object")throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.scope: object expected");r.scope=f.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(n.scope)}if(n.logRecords){if(!Array.isArray(n.logRecords))throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: array expected");r.logRecords=[];for(var l=0;l<n.logRecords.length;++l){if(typeof n.logRecords[l]!="object")throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: object expected");r.logRecords[l]=f.opentelemetry.proto.logs.v1.LogRecord.fromObject(n.logRecords[l])}}return n.schemaUrl!=null&&(r.schemaUrl=String(n.schemaUrl)),r},s.toObject=function(n,r){r||(r={});var l={};if((r.arrays||r.defaults)&&(l.logRecords=[]),r.defaults&&(l.scope=null,l.schemaUrl=""),n.scope!=null&&n.hasOwnProperty("scope")&&(l.scope=f.opentelemetry.proto.common.v1.InstrumentationScope.toObject(n.scope,r)),n.logRecords&&n.logRecords.length){l.logRecords=[];for(var c=0;c<n.logRecords.length;++c)l.logRecords[c]=f.opentelemetry.proto.logs.v1.LogRecord.toObject(n.logRecords[c],r)}return n.schemaUrl!=null&&n.hasOwnProperty("schemaUrl")&&(l.schemaUrl=n.schemaUrl),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.logs.v1.ScopeLogs"},s}(),o.SeverityNumber=function(){var s={},a=Object.create(s);return a[s[0]="SEVERITY_NUMBER_UNSPECIFIED"]=0,a[s[1]="SEVERITY_NUMBER_TRACE"]=1,a[s[2]="SEVERITY_NUMBER_TRACE2"]=2,a[s[3]="SEVERITY_NUMBER_TRACE3"]=3,a[s[4]="SEVERITY_NUMBER_TRACE4"]=4,a[s[5]="SEVERITY_NUMBER_DEBUG"]=5,a[s[6]="SEVERITY_NUMBER_DEBUG2"]=6,a[s[7]="SEVERITY_NUMBER_DEBUG3"]=7,a[s[8]="SEVERITY_NUMBER_DEBUG4"]=8,a[s[9]="SEVERITY_NUMBER_INFO"]=9,a[s[10]="SEVERITY_NUMBER_INFO2"]=10,a[s[11]="SEVERITY_NUMBER_INFO3"]=11,a[s[12]="SEVERITY_NUMBER_INFO4"]=12,a[s[13]="SEVERITY_NUMBER_WARN"]=13,a[s[14]="SEVERITY_NUMBER_WARN2"]=14,a[s[15]="SEVERITY_NUMBER_WARN3"]=15,a[s[16]="SEVERITY_NUMBER_WARN4"]=16,a[s[17]="SEVERITY_NUMBER_ERROR"]=17,a[s[18]="SEVERITY_NUMBER_ERROR2"]=18,a[s[19]="SEVERITY_NUMBER_ERROR3"]=19,a[s[20]="SEVERITY_NUMBER_ERROR4"]=20,a[s[21]="SEVERITY_NUMBER_FATAL"]=21,a[s[22]="SEVERITY_NUMBER_FATAL2"]=22,a[s[23]="SEVERITY_NUMBER_FATAL3"]=23,a[s[24]="SEVERITY_NUMBER_FATAL4"]=24,a}(),o.LogRecordFlags=function(){var s={},a=Object.create(s);return a[s[0]="LOG_RECORD_FLAGS_DO_NOT_USE"]=0,a[s[255]="LOG_RECORD_FLAGS_TRACE_FLAGS_MASK"]=255,a}(),o.LogRecord=function(){function s(a){if(this.attributes=[],a)for(var n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]!=null&&(this[n[r]]=a[n[r]])}return s.prototype.timeUnixNano=null,s.prototype.observedTimeUnixNano=null,s.prototype.severityNumber=null,s.prototype.severityText=null,s.prototype.body=null,s.prototype.attributes=p.emptyArray,s.prototype.droppedAttributesCount=null,s.prototype.flags=null,s.prototype.traceId=null,s.prototype.spanId=null,s.create=function(n){return new s(n)},s.encode=function(n,r){if(r||(r=ne.create()),n.timeUnixNano!=null&&Object.hasOwnProperty.call(n,"timeUnixNano")&&r.uint32(9).fixed64(n.timeUnixNano),n.severityNumber!=null&&Object.hasOwnProperty.call(n,"severityNumber")&&r.uint32(16).int32(n.severityNumber),n.severityText!=null&&Object.hasOwnProperty.call(n,"severityText")&&r.uint32(26).string(n.severityText),n.body!=null&&Object.hasOwnProperty.call(n,"body")&&f.opentelemetry.proto.common.v1.AnyValue.encode(n.body,r.uint32(42).fork()).ldelim(),n.attributes!=null&&n.attributes.length)for(var l=0;l<n.attributes.length;++l)f.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[l],r.uint32(50).fork()).ldelim();return n.droppedAttributesCount!=null&&Object.hasOwnProperty.call(n,"droppedAttributesCount")&&r.uint32(56).uint32(n.droppedAttributesCount),n.flags!=null&&Object.hasOwnProperty.call(n,"flags")&&r.uint32(69).fixed32(n.flags),n.traceId!=null&&Object.hasOwnProperty.call(n,"traceId")&&r.uint32(74).bytes(n.traceId),n.spanId!=null&&Object.hasOwnProperty.call(n,"spanId")&&r.uint32(82).bytes(n.spanId),n.observedTimeUnixNano!=null&&Object.hasOwnProperty.call(n,"observedTimeUnixNano")&&r.uint32(89).fixed64(n.observedTimeUnixNano),r},s.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},s.decode=function(n,r){n instanceof g||(n=g.create(n));for(var l=r===void 0?n.len:n.pos+r,c=new f.opentelemetry.proto.logs.v1.LogRecord;n.pos<l;){var u=n.uint32();switch(u>>>3){case 1:{c.timeUnixNano=n.fixed64();break}case 11:{c.observedTimeUnixNano=n.fixed64();break}case 2:{c.severityNumber=n.int32();break}case 3:{c.severityText=n.string();break}case 5:{c.body=f.opentelemetry.proto.common.v1.AnyValue.decode(n,n.uint32());break}case 6:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(f.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 7:{c.droppedAttributesCount=n.uint32();break}case 8:{c.flags=n.fixed32();break}case 9:{c.traceId=n.bytes();break}case 10:{c.spanId=n.bytes();break}default:n.skipType(u&7);break}}return c},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&!p.isInteger(n.timeUnixNano)&&!(n.timeUnixNano&&p.isInteger(n.timeUnixNano.low)&&p.isInteger(n.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(n.observedTimeUnixNano!=null&&n.hasOwnProperty("observedTimeUnixNano")&&!p.isInteger(n.observedTimeUnixNano)&&!(n.observedTimeUnixNano&&p.isInteger(n.observedTimeUnixNano.low)&&p.isInteger(n.observedTimeUnixNano.high)))return"observedTimeUnixNano: integer|Long expected";if(n.severityNumber!=null&&n.hasOwnProperty("severityNumber"))switch(n.severityNumber){default:return"severityNumber: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:break}if(n.severityText!=null&&n.hasOwnProperty("severityText")&&!p.isString(n.severityText))return"severityText: string expected";if(n.body!=null&&n.hasOwnProperty("body")){var r=f.opentelemetry.proto.common.v1.AnyValue.verify(n.body);if(r)return"body."+r}if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var l=0;l<n.attributes.length;++l){var r=f.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[l]);if(r)return"attributes."+r}}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&!p.isInteger(n.droppedAttributesCount)?"droppedAttributesCount: integer expected":n.flags!=null&&n.hasOwnProperty("flags")&&!p.isInteger(n.flags)?"flags: integer expected":n.traceId!=null&&n.hasOwnProperty("traceId")&&!(n.traceId&&typeof n.traceId.length=="number"||p.isString(n.traceId))?"traceId: buffer expected":n.spanId!=null&&n.hasOwnProperty("spanId")&&!(n.spanId&&typeof n.spanId.length=="number"||p.isString(n.spanId))?"spanId: buffer expected":null},s.fromObject=function(n){if(n instanceof f.opentelemetry.proto.logs.v1.LogRecord)return n;var r=new f.opentelemetry.proto.logs.v1.LogRecord;switch(n.timeUnixNano!=null&&(p.Long?(r.timeUnixNano=p.Long.fromValue(n.timeUnixNano)).unsigned=!1:typeof n.timeUnixNano=="string"?r.timeUnixNano=parseInt(n.timeUnixNano,10):typeof n.timeUnixNano=="number"?r.timeUnixNano=n.timeUnixNano:typeof n.timeUnixNano=="object"&&(r.timeUnixNano=new p.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber())),n.observedTimeUnixNano!=null&&(p.Long?(r.observedTimeUnixNano=p.Long.fromValue(n.observedTimeUnixNano)).unsigned=!1:typeof n.observedTimeUnixNano=="string"?r.observedTimeUnixNano=parseInt(n.observedTimeUnixNano,10):typeof n.observedTimeUnixNano=="number"?r.observedTimeUnixNano=n.observedTimeUnixNano:typeof n.observedTimeUnixNano=="object"&&(r.observedTimeUnixNano=new p.LongBits(n.observedTimeUnixNano.low>>>0,n.observedTimeUnixNano.high>>>0).toNumber())),n.severityNumber){default:if(typeof n.severityNumber=="number"){r.severityNumber=n.severityNumber;break}break;case"SEVERITY_NUMBER_UNSPECIFIED":case 0:r.severityNumber=0;break;case"SEVERITY_NUMBER_TRACE":case 1:r.severityNumber=1;break;case"SEVERITY_NUMBER_TRACE2":case 2:r.severityNumber=2;break;case"SEVERITY_NUMBER_TRACE3":case 3:r.severityNumber=3;break;case"SEVERITY_NUMBER_TRACE4":case 4:r.severityNumber=4;break;case"SEVERITY_NUMBER_DEBUG":case 5:r.severityNumber=5;break;case"SEVERITY_NUMBER_DEBUG2":case 6:r.severityNumber=6;break;case"SEVERITY_NUMBER_DEBUG3":case 7:r.severityNumber=7;break;case"SEVERITY_NUMBER_DEBUG4":case 8:r.severityNumber=8;break;case"SEVERITY_NUMBER_INFO":case 9:r.severityNumber=9;break;case"SEVERITY_NUMBER_INFO2":case 10:r.severityNumber=10;break;case"SEVERITY_NUMBER_INFO3":case 11:r.severityNumber=11;break;case"SEVERITY_NUMBER_INFO4":case 12:r.severityNumber=12;break;case"SEVERITY_NUMBER_WARN":case 13:r.severityNumber=13;break;case"SEVERITY_NUMBER_WARN2":case 14:r.severityNumber=14;break;case"SEVERITY_NUMBER_WARN3":case 15:r.severityNumber=15;break;case"SEVERITY_NUMBER_WARN4":case 16:r.severityNumber=16;break;case"SEVERITY_NUMBER_ERROR":case 17:r.severityNumber=17;break;case"SEVERITY_NUMBER_ERROR2":case 18:r.severityNumber=18;break;case"SEVERITY_NUMBER_ERROR3":case 19:r.severityNumber=19;break;case"SEVERITY_NUMBER_ERROR4":case 20:r.severityNumber=20;break;case"SEVERITY_NUMBER_FATAL":case 21:r.severityNumber=21;break;case"SEVERITY_NUMBER_FATAL2":case 22:r.severityNumber=22;break;case"SEVERITY_NUMBER_FATAL3":case 23:r.severityNumber=23;break;case"SEVERITY_NUMBER_FATAL4":case 24:r.severityNumber=24;break}if(n.severityText!=null&&(r.severityText=String(n.severityText)),n.body!=null){if(typeof n.body!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.body: object expected");r.body=f.opentelemetry.proto.common.v1.AnyValue.fromObject(n.body)}if(n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: array expected");r.attributes=[];for(var l=0;l<n.attributes.length;++l){if(typeof n.attributes[l]!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: object expected");r.attributes[l]=f.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[l])}}return n.droppedAttributesCount!=null&&(r.droppedAttributesCount=n.droppedAttributesCount>>>0),n.flags!=null&&(r.flags=n.flags>>>0),n.traceId!=null&&(typeof n.traceId=="string"?p.base64.decode(n.traceId,r.traceId=p.newBuffer(p.base64.length(n.traceId)),0):n.traceId.length>=0&&(r.traceId=n.traceId)),n.spanId!=null&&(typeof n.spanId=="string"?p.base64.decode(n.spanId,r.spanId=p.newBuffer(p.base64.length(n.spanId)),0):n.spanId.length>=0&&(r.spanId=n.spanId)),r},s.toObject=function(n,r){r||(r={});var l={};if((r.arrays||r.defaults)&&(l.attributes=[]),r.defaults){if(p.Long){var c=new p.Long(0,0,!1);l.timeUnixNano=r.longs===String?c.toString():r.longs===Number?c.toNumber():c}else l.timeUnixNano=r.longs===String?"0":0;if(l.severityNumber=r.enums===String?"SEVERITY_NUMBER_UNSPECIFIED":0,l.severityText="",l.body=null,l.droppedAttributesCount=0,l.flags=0,r.bytes===String?l.traceId="":(l.traceId=[],r.bytes!==Array&&(l.traceId=p.newBuffer(l.traceId))),r.bytes===String?l.spanId="":(l.spanId=[],r.bytes!==Array&&(l.spanId=p.newBuffer(l.spanId))),p.Long){var c=new p.Long(0,0,!1);l.observedTimeUnixNano=r.longs===String?c.toString():r.longs===Number?c.toNumber():c}else l.observedTimeUnixNano=r.longs===String?"0":0}if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&(typeof n.timeUnixNano=="number"?l.timeUnixNano=r.longs===String?String(n.timeUnixNano):n.timeUnixNano:l.timeUnixNano=r.longs===String?p.Long.prototype.toString.call(n.timeUnixNano):r.longs===Number?new p.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber():n.timeUnixNano),n.severityNumber!=null&&n.hasOwnProperty("severityNumber")&&(l.severityNumber=r.enums===String?f.opentelemetry.proto.logs.v1.SeverityNumber[n.severityNumber]===void 0?n.severityNumber:f.opentelemetry.proto.logs.v1.SeverityNumber[n.severityNumber]:n.severityNumber),n.severityText!=null&&n.hasOwnProperty("severityText")&&(l.severityText=n.severityText),n.body!=null&&n.hasOwnProperty("body")&&(l.body=f.opentelemetry.proto.common.v1.AnyValue.toObject(n.body,r)),n.attributes&&n.attributes.length){l.attributes=[];for(var u=0;u<n.attributes.length;++u)l.attributes[u]=f.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[u],r)}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&(l.droppedAttributesCount=n.droppedAttributesCount),n.flags!=null&&n.hasOwnProperty("flags")&&(l.flags=n.flags),n.traceId!=null&&n.hasOwnProperty("traceId")&&(l.traceId=r.bytes===String?p.base64.encode(n.traceId,0,n.traceId.length):r.bytes===Array?Array.prototype.slice.call(n.traceId):n.traceId),n.spanId!=null&&n.hasOwnProperty("spanId")&&(l.spanId=r.bytes===String?p.base64.encode(n.spanId,0,n.spanId.length):r.bytes===Array?Array.prototype.slice.call(n.spanId):n.spanId),n.observedTimeUnixNano!=null&&n.hasOwnProperty("observedTimeUnixNano")&&(typeof n.observedTimeUnixNano=="number"?l.observedTimeUnixNano=r.longs===String?String(n.observedTimeUnixNano):n.observedTimeUnixNano:l.observedTimeUnixNano=r.longs===String?p.Long.prototype.toString.call(n.observedTimeUnixNano):r.longs===Number?new p.LongBits(n.observedTimeUnixNano.low>>>0,n.observedTimeUnixNano.high>>>0).toNumber():n.observedTimeUnixNano),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,$.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.logs.v1.LogRecord"},s}(),o}(),t}(),e}(),i}();zD.exports=f});var Pi,lX,cX,uX,dX,fX,pX,YD,KD,$d,WD=m(()=>{Pi=pn($D());kd();Bd();Vd();lX=Pi.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,cX=Pi.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,uX=Pi.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,dX=Pi.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,fX=Pi.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,pX=Pi.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,YD={serializeRequest:i=>{let e=qo(i);return cX.encode(e).finish()},deserializeResponse:i=>lX.decode(i)},KD={serializeRequest:i=>{let e=Fo(i);return dX.encode(e).finish()},deserializeResponse:i=>uX.decode(i)},$d={serializeRequest:i=>{let e=Nn(i);return pX.encode(e).finish()},deserializeResponse:i=>fX.decode(i)}});var Yd,XD,JD,QD=m(()=>{kd();Bd();Vd();Yd={serializeRequest:i=>{let e=Nn(i,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(e))},deserializeResponse:i=>{let e=new TextDecoder;return JSON.parse(e.decode(i))}},XD={serializeRequest:i=>{let e=Fo(i,{useLongBits:!1});return new TextEncoder().encode(JSON.stringify(e))},deserializeResponse:i=>{let e=new TextDecoder;return JSON.parse(e.decode(i))}},JD={serializeRequest:i=>{let e=qo(i,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(e))},deserializeResponse:i=>{let e=new TextDecoder;return JSON.parse(e.decode(i))}}});var ZD={};Ie(ZD,{ESpanKind:()=>Ld,JsonLogsSerializer:()=>JD,JsonMetricsSerializer:()=>XD,JsonTraceSerializer:()=>Yd,ProtobufLogsSerializer:()=>YD,ProtobufMetricsSerializer:()=>KD,ProtobufTraceSerializer:()=>$d,createExportLogsServiceRequest:()=>qo,createExportMetricsServiceRequest:()=>Fo,createExportTraceServiceRequest:()=>Nn,encodeAsLongBits:()=>Md,encodeAsString:()=>pE,getOtlpEncoder:()=>Cn,hrTimeToNanos:()=>Id,toLongBits:()=>fE});var fl=m(()=>{ll();Y1();kd();Bd();Vd();WD();QD()});var eU,tU=m(()=>{eU="0.52.1"});var rU,hX,mX,Ho,nU=m(()=>{W();Uo();fl();tU();rU="v1/traces",hX=`http://localhost:4318/${rU}`,mX={"User-Agent":`OTel-OTLP-Exporter-JavaScript/${eU}`},Ho=class extends tn{constructor(e={}){super(e,$d,"application/x-protobuf"),this.headers=Object.assign(Object.assign(Object.assign(Object.assign({},this.headers),mX),sr.parseKeyPairsIntoRecord(X().OTEL_EXPORTER_OTLP_TRACES_HEADERS)),Rr(e==null?void 0:e.headers))}getDefaultUrl(e){return typeof e.url=="string"?e.url:X().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?Do(X().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):X().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?wo(X().OTEL_EXPORTER_OTLP_ENDPOINT,rU):hX}}});var iU=m(()=>{nU()});var oU=m(()=>{iU()});var sU={};Ie(sU,{OTLPTraceExporter:()=>Ho});var aU=m(()=>{oU()});var lU,cU=m(()=>{lU="0.52.1"});var uU,_X,EX,PE,dU=m(()=>{W();Uo();Uo();cU();fl();uU="v1/traces",_X=`http://localhost:4318/${uU}`,EX={"User-Agent":`OTel-OTLP-Exporter-JavaScript/${lU}`},PE=class extends tn{constructor(e={}){super(e,Yd,"application/json"),this.headers=Object.assign(Object.assign(Object.assign(Object.assign({},this.headers),EX),sr.parseKeyPairsIntoRecord(X().OTEL_EXPORTER_OTLP_TRACES_HEADERS)),Rr(e==null?void 0:e.headers))}getDefaultUrl(e){return typeof e.url=="string"?e.url:X().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?Do(X().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):X().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?wo(X().OTEL_EXPORTER_OTLP_ENDPOINT,uU):_X}}});var fU=m(()=>{dU()});var pU=m(()=>{fU()});var hU={};Ie(hU,{OTLPTraceExporter:()=>PE});var mU=m(()=>{pU()});var Ee=S(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=Yt.DEFAULT_MAX_SEND_MESSAGE_LENGTH=Yt.Propagate=Yt.LogVerbosity=Yt.Status=void 0;var _U;(function(i){i[i.OK=0]="OK",i[i.CANCELLED=1]="CANCELLED",i[i.UNKNOWN=2]="UNKNOWN",i[i.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",i[i.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",i[i.NOT_FOUND=5]="NOT_FOUND",i[i.ALREADY_EXISTS=6]="ALREADY_EXISTS",i[i.PERMISSION_DENIED=7]="PERMISSION_DENIED",i[i.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",i[i.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",i[i.ABORTED=10]="ABORTED",i[i.OUT_OF_RANGE=11]="OUT_OF_RANGE",i[i.UNIMPLEMENTED=12]="UNIMPLEMENTED",i[i.INTERNAL=13]="INTERNAL",i[i.UNAVAILABLE=14]="UNAVAILABLE",i[i.DATA_LOSS=15]="DATA_LOSS",i[i.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(_U||(Yt.Status=_U={}));var EU;(function(i){i[i.DEBUG=0]="DEBUG",i[i.INFO=1]="INFO",i[i.ERROR=2]="ERROR",i[i.NONE=3]="NONE"})(EU||(Yt.LogVerbosity=EU={}));var SU;(function(i){i[i.DEADLINE=1]="DEADLINE",i[i.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",i[i.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",i[i.CANCELLATION=8]="CANCELLATION",i[i.DEFAULTS=65535]="DEFAULTS"})(SU||(Yt.Propagate=SU={}));Yt.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1;Yt.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4*1024*1024});var IE=S((fTe,SX)=>{SX.exports={name:"@grpc/grpc-js",version:"1.10.9",description:"gRPC Library for Node - pure JS implementation",homepage:"https://grpc.io/",repository:"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js",main:"build/src/index.js",engines:{node:">=12.10.0"},keywords:[],author:{name:"Google Inc."},types:"build/src/index.d.ts",license:"Apache-2.0",devDependencies:{"@types/gulp":"^4.0.17","@types/gulp-mocha":"0.0.37","@types/lodash":"^4.14.202","@types/mocha":"^10.0.6","@types/ncp":"^2.0.8","@types/node":">=20.11.20","@types/pify":"^5.0.4","@types/semver":"^7.5.8","@typescript-eslint/eslint-plugin":"^7.1.0","@typescript-eslint/parser":"^7.1.0","@typescript-eslint/typescript-estree":"^7.1.0","clang-format":"^1.8.0",eslint:"^8.42.0","eslint-config-prettier":"^8.8.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.2.1",execa:"^2.0.3",gulp:"^4.0.2","gulp-mocha":"^6.0.0",lodash:"^4.17.21",madge:"^5.0.1","mocha-jenkins-reporter":"^0.4.1",ncp:"^2.0.0",pify:"^4.0.1",prettier:"^2.8.8",rimraf:"^3.0.2",semver:"^7.6.0","ts-node":"^10.9.2",typescript:"^5.3.3"},contributors:[{name:"Google Inc."}],scripts:{build:"npm run compile",clean:"rimraf ./build",compile:"tsc -p .",format:'clang-format -i -style="{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}" src/*.ts test/*.ts',lint:"eslint src/*.ts test/*.ts",prepare:"npm run generate-types && npm run compile",test:"gulp test",check:"npm run lint",fix:"eslint --fix src/*.ts test/*.ts",pretest:"npm run generate-types && npm run generate-test-types && npm run compile",posttest:"npm run check && madge -c ./build/src","generate-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --includeDirs proto/ --include-dirs test/fixtures/ -O src/generated/ --grpcLib ../index channelz.proto","generate-test-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --include-dirs test/fixtures/ -O test/generated/ --grpcLib ../../src/index test_service.proto"},dependencies:{"@grpc/proto-loader":"^0.7.13","@js-sdsl/ordered-map":"^4.4.2"},files:["src/**/*.ts","build/src/**/*.{js,d.ts,js.map}","proto/*.proto","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"]}});var Me=S(Et=>{"use strict";var ME,LE,wE,DE;Object.defineProperty(Et,"__esModule",{value:!0});Et.isTracerEnabled=Et.trace=Et.log=Et.setLoggerVerbosity=Et.setLogger=Et.getLogger=void 0;var In=Ee(),gX=F("process"),TX=IE().version,yX={error:(i,...e)=>{console.error("E "+i,...e)},info:(i,...e)=>{console.error("I "+i,...e)},debug:(i,...e)=>{console.error("D "+i,...e)}},Ii=yX,jo=In.LogVerbosity.ERROR,vX=(LE=(ME=process.env.GRPC_NODE_VERBOSITY)!==null&&ME!==void 0?ME:process.env.GRPC_VERBOSITY)!==null&&LE!==void 0?LE:"";switch(vX.toUpperCase()){case"DEBUG":jo=In.LogVerbosity.DEBUG;break;case"INFO":jo=In.LogVerbosity.INFO;break;case"ERROR":jo=In.LogVerbosity.ERROR;break;case"NONE":jo=In.LogVerbosity.NONE;break;default:}var AX=()=>Ii;Et.getLogger=AX;var OX=i=>{Ii=i};Et.setLogger=OX;var RX=i=>{jo=i};Et.setLoggerVerbosity=RX;var bX=(i,...e)=>{let t;if(i>=jo){switch(i){case In.LogVerbosity.DEBUG:t=Ii.debug;break;case In.LogVerbosity.INFO:t=Ii.info;break;case In.LogVerbosity.ERROR:t=Ii.error;break}t||(t=Ii.error),t&&t.bind(Ii)(...e)}};Et.log=bX;var CX=(DE=(wE=process.env.GRPC_NODE_TRACE)!==null&&wE!==void 0?wE:process.env.GRPC_TRACE)!==null&&DE!==void 0?DE:"",UE=new Set,gU=new Set;for(let i of CX.split(","))i.startsWith("-")?gU.add(i.substring(1)):UE.add(i);var NX=UE.has("all");function xX(i,e,t){TU(e)&&(0,Et.log)(i,new Date().toISOString()+" | v"+TX+" "+gX.pid+" | "+e+" | "+t)}Et.trace=xX;function TU(i){return!gU.has(i)&&(NX||UE.has(i))}Et.isTracerEnabled=TU});var Kd=S(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.getErrorCode=zo.getErrorMessage=void 0;function PX(i){return i instanceof Error?i.message:String(i)}zo.getErrorMessage=PX;function IX(i){return typeof i=="object"&&i!==null&&"code"in i&&typeof i.code=="number"?i.code:null}zo.getErrorCode=IX});var St=S(Xd=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0});Xd.Metadata=void 0;var MX=Me(),LX=Ee(),wX=Kd(),DX=/^[0-9a-z_.-]+$/,UX=/^[ -~]*$/;function kX(i){return DX.test(i)}function BX(i){return UX.test(i)}function vU(i){return i.endsWith("-bin")}function VX(i){return!i.startsWith("grpc-")}function Wd(i){return i.toLowerCase()}function yU(i,e){if(!kX(i))throw new Error('Metadata key "'+i+'" contains illegal characters');if(e!=null)if(vU(i)){if(!Buffer.isBuffer(e))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(e))throw new Error("keys that don't end with '-bin' must have String values");if(!BX(e))throw new Error('Metadata string value "'+e+'" contains illegal characters')}}var kE=class i{constructor(e={}){this.internalRepr=new Map,this.options=e}set(e,t){e=Wd(e),yU(e,t),this.internalRepr.set(e,[t])}add(e,t){e=Wd(e),yU(e,t);let o=this.internalRepr.get(e);o===void 0?this.internalRepr.set(e,[t]):o.push(t)}remove(e){e=Wd(e),this.internalRepr.delete(e)}get(e){return e=Wd(e),this.internalRepr.get(e)||[]}getMap(){let e={};for(let[t,o]of this.internalRepr)if(o.length>0){let s=o[0];e[t]=Buffer.isBuffer(s)?Buffer.from(s):s}return e}clone(){let e=new i(this.options),t=e.internalRepr;for(let[o,s]of this.internalRepr){let a=s.map(n=>Buffer.isBuffer(n)?Buffer.from(n):n);t.set(o,a)}return e}merge(e){for(let[t,o]of e.internalRepr){let s=(this.internalRepr.get(t)||[]).concat(o);this.internalRepr.set(t,s)}}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){let e={};for(let[t,o]of this.internalRepr)e[t]=o.map(FX);return e}toJSON(){let e={};for(let[t,o]of this.internalRepr)e[t]=o;return e}static fromHttp2Headers(e){let t=new i;for(let o of Object.keys(e)){if(o.charAt(0)===":")continue;let s=e[o];try{vU(o)?Array.isArray(s)?s.forEach(a=>{t.add(o,Buffer.from(a,"base64"))}):s!==void 0&&(VX(o)?s.split(",").forEach(a=>{t.add(o,Buffer.from(a.trim(),"base64"))}):t.add(o,Buffer.from(s,"base64"))):Array.isArray(s)?s.forEach(a=>{t.add(o,a)}):s!==void 0&&t.add(o,s)}catch(a){let n=`Failed to add metadata entry ${o}: ${s}. ${(0,wX.getErrorMessage)(a)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,MX.log)(LX.LogVerbosity.ERROR,n)}}return t}};Xd.Metadata=kE;var FX=i=>Buffer.isBuffer(i)?i.toString("base64"):i});var GE=S(Jd=>{"use strict";Object.defineProperty(Jd,"__esModule",{value:!0});Jd.CallCredentials=void 0;var qE=St();function qX(i){return"getRequestHeaders"in i&&typeof i.getRequestHeaders=="function"}var $o=class i{static createFromMetadataGenerator(e){return new VE(e)}static createFromGoogleCredential(e){return i.createFromMetadataGenerator((t,o)=>{let s;qX(e)?s=e.getRequestHeaders(t.service_url):s=new Promise((a,n)=>{e.getRequestMetadata(t.service_url,(r,l)=>{if(r){n(r);return}if(!l){n(new Error("Headers not set by metadata plugin"));return}a(l)})}),s.then(a=>{let n=new qE.Metadata;for(let r of Object.keys(a))n.add(r,a[r]);o(null,n)},a=>{o(a)})})}static createEmpty(){return new FE}};Jd.CallCredentials=$o;var BE=class i extends $o{constructor(e){super(),this.creds=e}async generateMetadata(e){let t=new qE.Metadata,o=await Promise.all(this.creds.map(s=>s.generateMetadata(e)));for(let s of o)t.merge(s);return t}compose(e){return new i(this.creds.concat([e]))}_equals(e){return this===e?!0:e instanceof i?this.creds.every((t,o)=>t._equals(e.creds[o])):!1}},VE=class i extends $o{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise((t,o)=>{this.metadataGenerator(e,(s,a)=>{a!==void 0?t(a):o(s)})})}compose(e){return new BE([this,e])}_equals(e){return this===e?!0:e instanceof i?this.metadataGenerator===e.metadataGenerator:!1}},FE=class i extends $o{generateMetadata(e){return Promise.resolve(new qE.Metadata)}compose(e){return e}_equals(e){return e instanceof i}}});var jE=S(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.getDefaultRootsData=Yo.CIPHER_SUITES=void 0;var GX=F("fs");Yo.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;var AU=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,HE=null;function HX(){return AU?(HE===null&&(HE=GX.readFileSync(AU)),HE):null}Yo.getDefaultRootsData=HX});var ef=S(Zd=>{"use strict";Object.defineProperty(Zd,"__esModule",{value:!0});Zd.ChannelCredentials=void 0;var jX=F("tls"),zX=GE(),OU=jE();function zE(i,e){if(i&&!(i instanceof Buffer))throw new TypeError(`${e}, if provided, must be a Buffer.`)}var Ko=class{constructor(e){this.callCredentials=e||zX.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(e,t,o,s){var a;if(zE(e,"Root certificate"),zE(t,"Private key"),zE(o,"Certificate chain"),t&&!o)throw new Error("Private key must be given with accompanying certificate chain");if(!t&&o)throw new Error("Certificate chain must be given with accompanying private key");let n=(0,jX.createSecureContext)({ca:(a=e??(0,OU.getDefaultRootsData)())!==null&&a!==void 0?a:void 0,key:t??void 0,cert:o??void 0,ciphers:OU.CIPHER_SUITES});return new Qd(n,s??{})}static createFromSecureContext(e,t){return new Qd(e,t??{})}static createInsecure(){return new $E}};Zd.ChannelCredentials=Ko;var $E=class i extends Ko{constructor(){super()}compose(e){throw new Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(e){return e instanceof i}},Qd=class i extends Ko{constructor(e,t){super(),this.secureContext=e,this.verifyOptions=t,this.connectionOptions={secureContext:e},t!=null&&t.checkServerIdentity&&(this.connectionOptions.checkServerIdentity=t.checkServerIdentity)}compose(e){let t=this.callCredentials.compose(e);return new YE(this,t)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof i?this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity:!1}},YE=class i extends Ko{constructor(e,t){super(t),this.channelCredentials=e}compose(e){let t=this.callCredentials.compose(e);return new i(this.channelCredentials,t)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof i?this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials):!1}}});var Mi=S(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.selectLbConfigFromList=Ye.getDefaultConfig=Ye.parseLoadBalancingConfig=Ye.isLoadBalancerNameRegistered=Ye.createLoadBalancer=Ye.registerDefaultLoadBalancerType=Ye.registerLoadBalancerType=Ye.createChildChannelControlHelper=void 0;var $X=Me(),YX=Ee();function KX(i,e){var t,o,s,a,n,r,l,c,u,d;return{createSubchannel:(o=(t=e.createSubchannel)===null||t===void 0?void 0:t.bind(e))!==null&&o!==void 0?o:i.createSubchannel.bind(i),updateState:(a=(s=e.updateState)===null||s===void 0?void 0:s.bind(e))!==null&&a!==void 0?a:i.updateState.bind(i),requestReresolution:(r=(n=e.requestReresolution)===null||n===void 0?void 0:n.bind(e))!==null&&r!==void 0?r:i.requestReresolution.bind(i),addChannelzChild:(c=(l=e.addChannelzChild)===null||l===void 0?void 0:l.bind(e))!==null&&c!==void 0?c:i.addChannelzChild.bind(i),removeChannelzChild:(d=(u=e.removeChannelzChild)===null||u===void 0?void 0:u.bind(e))!==null&&d!==void 0?d:i.removeChannelzChild.bind(i)}}Ye.createChildChannelControlHelper=KX;var Mn={},pl=null;function WX(i,e,t){Mn[i]={LoadBalancer:e,LoadBalancingConfig:t}}Ye.registerLoadBalancerType=WX;function XX(i){pl=i}Ye.registerDefaultLoadBalancerType=XX;function JX(i,e,t){let o=i.getLoadBalancerName();return o in Mn?new Mn[o].LoadBalancer(e,t):null}Ye.createLoadBalancer=JX;function QX(i){return i in Mn}Ye.isLoadBalancerNameRegistered=QX;function RU(i){let e=Object.keys(i);if(e.length!==1)throw new Error("Provided load balancing config has multiple conflicting entries");let t=e[0];if(t in Mn)try{return Mn[t].LoadBalancingConfig.createFromJson(i[t])}catch(o){throw new Error(`${t}: ${o.message}`)}else throw new Error(`Unrecognized load balancing config name ${t}`)}Ye.parseLoadBalancingConfig=RU;function ZX(){if(!pl)throw new Error("No default load balancer type registered");return new Mn[pl].LoadBalancingConfig}Ye.getDefaultConfig=ZX;function e7(i,e=!1){for(let t of i)try{return RU(t)}catch(o){(0,$X.log)(YX.LogVerbosity.DEBUG,"Config parsing failed with error",o.message);continue}return e&&pl?new Mn[pl].LoadBalancingConfig:null}Ye.selectLbConfigFromList=e7});var KE=S(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.extractAndSelectServiceConfig=Ln.validateServiceConfig=Ln.validateRetryThrottling=void 0;var t7=F("os"),tf=Ee(),rf=/^\d+(\.\d{1,9})?s$/,r7="node";function n7(i){if("service"in i&&i.service!==""){if(typeof i.service!="string")throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof i.service}`);if("method"in i&&i.method!==""){if(typeof i.method!="string")throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof i.service}`);return{service:i.service,method:i.method}}else return{service:i.service}}else{if("method"in i&&i.method!==void 0)throw new Error("Invalid method config name: method set with empty or unset service");return{}}}function i7(i){if(!("maxAttempts"in i)||!Number.isInteger(i.maxAttempts)||i.maxAttempts<2)throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in i)||typeof i.initialBackoff!="string"||!rf.test(i.initialBackoff))throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s");if(!("maxBackoff"in i)||typeof i.maxBackoff!="string"||!rf.test(i.maxBackoff))throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s");if(!("backoffMultiplier"in i)||typeof i.backoffMultiplier!="number"||i.backoffMultiplier<=0)throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in i&&Array.isArray(i.retryableStatusCodes)))throw new Error("Invalid method config retry policy: retryableStatusCodes is required");if(i.retryableStatusCodes.length===0)throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let e of i.retryableStatusCodes)if(typeof e=="number"){if(!Object.values(tf.Status).includes(e))throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if(typeof e=="string"){if(!Object.values(tf.Status).includes(e.toUpperCase()))throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:i.maxAttempts,initialBackoff:i.initialBackoff,maxBackoff:i.maxBackoff,backoffMultiplier:i.backoffMultiplier,retryableStatusCodes:i.retryableStatusCodes}}function o7(i){if(!("maxAttempts"in i)||!Number.isInteger(i.maxAttempts)||i.maxAttempts<2)throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in i&&(typeof i.hedgingDelay!="string"||!rf.test(i.hedgingDelay)))throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in i&&Array.isArray(i.nonFatalStatusCodes))for(let t of i.nonFatalStatusCodes)if(typeof t=="number"){if(!Object.values(tf.Status).includes(t))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if(typeof t=="string"){if(!Object.values(tf.Status).includes(t.toUpperCase()))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number");let e={maxAttempts:i.maxAttempts};return i.hedgingDelay&&(e.hedgingDelay=i.hedgingDelay),i.nonFatalStatusCodes&&(e.nonFatalStatusCodes=i.nonFatalStatusCodes),e}function s7(i){var e;let t={name:[]};if(!("name"in i)||!Array.isArray(i.name))throw new Error("Invalid method config: invalid name array");for(let o of i.name)t.name.push(n7(o));if("waitForReady"in i){if(typeof i.waitForReady!="boolean")throw new Error("Invalid method config: invalid waitForReady");t.waitForReady=i.waitForReady}if("timeout"in i)if(typeof i.timeout=="object"){if(!("seconds"in i.timeout)||typeof i.timeout.seconds!="number")throw new Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in i.timeout)||typeof i.timeout.nanos!="number")throw new Error("Invalid method config: invalid timeout.nanos");t.timeout=i.timeout}else if(typeof i.timeout=="string"&&rf.test(i.timeout)){let o=i.timeout.substring(0,i.timeout.length-1).split(".");t.timeout={seconds:o[0]|0,nanos:((e=o[1])!==null&&e!==void 0?e:0)|0}}else throw new Error("Invalid method config: invalid timeout");if("maxRequestBytes"in i){if(typeof i.maxRequestBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");t.maxRequestBytes=i.maxRequestBytes}if("maxResponseBytes"in i){if(typeof i.maxResponseBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");t.maxResponseBytes=i.maxResponseBytes}if("retryPolicy"in i){if("hedgingPolicy"in i)throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");t.retryPolicy=i7(i.retryPolicy)}else"hedgingPolicy"in i&&(t.hedgingPolicy=o7(i.hedgingPolicy));return t}function bU(i){if(!("maxTokens"in i)||typeof i.maxTokens!="number"||i.maxTokens<=0||i.maxTokens>1e3)throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in i)||typeof i.tokenRatio!="number"||i.tokenRatio<=0)throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+i.maxTokens.toFixed(3),tokenRatio:+i.tokenRatio.toFixed(3)}}Ln.validateRetryThrottling=bU;function a7(i){if(!(typeof i=="object"&&i!==null))throw new Error(`Invalid loadBalancingConfig: unexpected type ${typeof i}`);let e=Object.keys(i);if(e.length>1)throw new Error(`Invalid loadBalancingConfig: unexpected multiple keys ${e}`);if(e.length===0)throw new Error("Invalid loadBalancingConfig: load balancing policy name required");return{[e[0]]:i[e[0]]}}function CU(i){let e={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in i)if(typeof i.loadBalancingPolicy=="string")e.loadBalancingPolicy=i.loadBalancingPolicy;else throw new Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in i)if(Array.isArray(i.loadBalancingConfig))for(let o of i.loadBalancingConfig)e.loadBalancingConfig.push(a7(o));else throw new Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in i&&Array.isArray(i.methodConfig))for(let o of i.methodConfig)e.methodConfig.push(s7(o));"retryThrottling"in i&&(e.retryThrottling=bU(i.retryThrottling));let t=[];for(let o of e.methodConfig)for(let s of o.name){for(let a of t)if(s.service===a.service&&s.method===a.method)throw new Error(`Invalid service config: duplicate name ${s.service}/${s.method}`);t.push(s)}return e}Ln.validateServiceConfig=CU;function l7(i){if(!("serviceConfig"in i))throw new Error("Invalid service config choice: missing service config");let e={serviceConfig:CU(i.serviceConfig)};if("clientLanguage"in i)if(Array.isArray(i.clientLanguage)){e.clientLanguage=[];for(let o of i.clientLanguage)if(typeof o=="string")e.clientLanguage.push(o);else throw new Error("Invalid service config choice: invalid clientLanguage")}else throw new Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in i)if(Array.isArray(i.clientHostname)){e.clientHostname=[];for(let o of i.clientHostname)if(typeof o=="string")e.clientHostname.push(o);else throw new Error("Invalid service config choice: invalid clientHostname")}else throw new Error("Invalid service config choice: invalid clientHostname");if("percentage"in i)if(typeof i.percentage=="number"&&0<=i.percentage&&i.percentage<=100)e.percentage=i.percentage;else throw new Error("Invalid service config choice: invalid percentage");let t=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let o in i)if(!t.includes(o))throw new Error(`Invalid service config choice: unexpected field ${o}`);return e}function c7(i,e){if(!Array.isArray(i))throw new Error("Invalid service config list");for(let t of i){let o=l7(t);if(!(typeof o.percentage=="number"&&e>o.percentage)){if(Array.isArray(o.clientHostname)){let s=!1;for(let a of o.clientHostname)a===t7.hostname()&&(s=!0);if(!s)continue}if(Array.isArray(o.clientLanguage)){let s=!1;for(let a of o.clientLanguage)a===r7&&(s=!0);if(!s)continue}return o.serviceConfig}}throw new Error("No matching service config found")}function u7(i,e){for(let t of i)if(t.length>0&&t[0].startsWith("grpc_config=")){let o=t.join("").substring(12),s=JSON.parse(o);return c7(s,e)}return null}Ln.extractAndSelectServiceConfig=u7});var Kt=S(nf=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});nf.ConnectivityState=void 0;var NU;(function(i){i[i.IDLE=0]="IDLE",i[i.CONNECTING=1]="CONNECTING",i[i.READY=2]="READY",i[i.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",i[i.SHUTDOWN=4]="SHUTDOWN"})(NU||(nf.ConnectivityState=NU={}))});var Lt=S(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.uriToString=Pr.combineHostPort=Pr.splitHostPort=Pr.parseUri=void 0;var d7=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function f7(i){let e=d7.exec(i);return e===null?null:{scheme:e[1],authority:e[2],path:e[3]}}Pr.parseUri=f7;var xU=/^\d+$/;function p7(i){if(i.startsWith("[")){let e=i.indexOf("]");if(e===-1)return null;let t=i.substring(1,e);if(t.indexOf(":")===-1)return null;if(i.length>e+1)if(i[e+1]===":"){let o=i.substring(e+2);return xU.test(o)?{host:t,port:+o}:null}else return null;else return{host:t}}else{let e=i.split(":");return e.length===2?xU.test(e[1])?{host:e[0],port:+e[1]}:null:{host:i}}}Pr.splitHostPort=p7;function h7(i){return i.port===void 0?i.host:i.host.includes(":")?`[${i.host}]:${i.port}`:`${i.host}:${i.port}`}Pr.combineHostPort=h7;function m7(i){let e="";return i.scheme!==void 0&&(e+=i.scheme+":"),i.authority!==void 0&&(e+="//"+i.authority+"/"),e+=i.path,e}Pr.uriToString=m7});var Ir=S(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.mapUriDefaultScheme=Wt.getDefaultAuthority=Wt.createResolver=Wt.registerDefaultScheme=Wt.registerResolver=void 0;var XE=Lt(),Wo={},WE=null;function _7(i,e){Wo[i]=e}Wt.registerResolver=_7;function E7(i){WE=i}Wt.registerDefaultScheme=E7;function S7(i,e,t){if(i.scheme!==void 0&&i.scheme in Wo)return new Wo[i.scheme](i,e,t);throw new Error(`No resolver could be created for target ${(0,XE.uriToString)(i)}`)}Wt.createResolver=S7;function g7(i){if(i.scheme!==void 0&&i.scheme in Wo)return Wo[i.scheme].getDefaultAuthority(i);throw new Error(`Invalid target ${(0,XE.uriToString)(i)}`)}Wt.getDefaultAuthority=g7;function T7(i){return i.scheme===void 0||!(i.scheme in Wo)?WE!==null?{scheme:WE,authority:void 0,path:(0,XE.uriToString)(i)}:null:i}Wt.mapUriDefaultScheme=T7});var Dn=S(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.QueuePicker=wn.UnavailablePicker=wn.PickResultType=void 0;var y7=St(),v7=Ee(),of;(function(i){i[i.COMPLETE=0]="COMPLETE",i[i.QUEUE=1]="QUEUE",i[i.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",i[i.DROP=3]="DROP"})(of||(wn.PickResultType=of={}));var JE=class{constructor(e){this.status=Object.assign({code:v7.Status.UNAVAILABLE,details:"No connection established",metadata:new y7.Metadata},e)}pick(e){return{pickResultType:of.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}};wn.UnavailablePicker=JE;var QE=class{constructor(e,t){this.loadBalancer=e,this.childPicker=t,this.calledExitIdle=!1}pick(e){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),this.childPicker?this.childPicker.pick(e):{pickResultType:of.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}};wn.QueuePicker=QE});var hl=S(sf=>{"use strict";Object.defineProperty(sf,"__esModule",{value:!0});sf.BackoffTimeout=void 0;var A7=1e3,O7=1.6,R7=12e4,b7=.2;function C7(i,e){return Math.random()*(e-i)+i}var ZE=class{constructor(e,t){this.callback=e,this.initialDelay=A7,this.multiplier=O7,this.maxDelay=R7,this.jitter=b7,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,t&&(t.initialDelay&&(this.initialDelay=t.initialDelay),t.multiplier&&(this.multiplier=t.multiplier),t.jitter&&(this.jitter=t.jitter),t.maxDelay&&(this.maxDelay=t.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer(e){var t,o;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},e),this.hasRef||(o=(t=this.timerId).unref)===null||o===void 0||o.call(t)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let e=Math.min(this.nextDelay*this.multiplier,this.maxDelay),t=e*this.jitter;this.nextDelay=e+C7(-t,t)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){let e=new Date,t=this.startTime;t.setMilliseconds(t.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),e<t?this.runTimer(t.getTime()-e.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var e,t;this.hasRef=!0,(t=(e=this.timerId).ref)===null||t===void 0||t.call(e)}unref(){var e,t;this.hasRef=!1,(t=(e=this.timerId).unref)===null||t===void 0||t.call(e)}getEndTime(){return this.endTime}};sf.BackoffTimeout=ZE});var lf=S(af=>{"use strict";Object.defineProperty(af,"__esModule",{value:!0});af.ChildLoadBalancerHandler=void 0;var N7=Mi(),x7=Kt(),P7="child_load_balancer_helper",eS=class{constructor(e,t){this.channelControlHelper=e,this.options=t,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(o){this.parent=o,this.child=null}createSubchannel(o,s){return this.parent.channelControlHelper.createSubchannel(o,s)}updateState(o,s){var a;if(this.calledByPendingChild()){if(o===x7.ConnectivityState.CONNECTING)return;(a=this.parent.currentChild)===null||a===void 0||a.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(o,s)}requestReresolution(){var o;let s=(o=this.parent.pendingChild)!==null&&o!==void 0?o:this.parent.currentChild;this.child===s&&this.parent.channelControlHelper.requestReresolution()}setChild(o){this.child=o}addChannelzChild(o){this.parent.channelControlHelper.addChannelzChild(o)}removeChannelzChild(o){this.parent.channelControlHelper.removeChannelzChild(o)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(e,t){return e.getLoadBalancerName()!==t.getLoadBalancerName()}updateAddressList(e,t,o){let s;if(this.currentChild===null||this.latestConfig===null||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,t)){let a=new this.ChildPolicyHelper(this),n=(0,N7.createLoadBalancer)(t,a,this.options);a.setChild(n),this.currentChild===null?(this.currentChild=n,s=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=n,s=this.pendingChild)}else this.pendingChild===null?s=this.currentChild:s=this.pendingChild;this.latestConfig=t,s.updateAddressList(e,t,o)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return P7}};af.ChildLoadBalancerHandler=eS});var IU=S(cf=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});cf.ResolvingLoadBalancer=void 0;var I7=Mi(),M7=KE(),Rt=Kt(),L7=Ir(),ml=Dn(),w7=hl(),tS=Ee(),D7=St(),U7=Me(),k7=Ee(),B7=Lt(),V7=lf(),F7="resolving_load_balancer";function PU(i){U7.trace(k7.LogVerbosity.DEBUG,F7,i)}var q7=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function G7(i,e,t,o){for(let s of t.name)switch(o){case"EMPTY":if(!s.service&&!s.method)return!0;break;case"SERVICE":if(s.service===i&&!s.method)return!0;break;case"SERVICE_AND_METHOD":if(s.service===i&&s.method===e)return!0}return!1}function H7(i,e,t,o){for(let s of t)if(G7(i,e,s,o))return s;return null}function j7(i){return function(t,o){var s,a;let n=t.split("/").filter(c=>c.length>0),r=(s=n[0])!==null&&s!==void 0?s:"",l=(a=n[1])!==null&&a!==void 0?a:"";if(i&&i.methodConfig)for(let c of q7){let u=H7(r,l,i.methodConfig,c);if(u)return{methodConfig:u,pickInformation:{},status:tS.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:tS.Status.OK,dynamicFilterFactories:[]}}}var rS=class{constructor(e,t,o,s,a){this.target=e,this.channelControlHelper=t,this.onSuccessfulResolution=s,this.onFailedResolution=a,this.latestChildState=Rt.ConnectivityState.IDLE,this.latestChildPicker=new ml.QueuePicker(this),this.currentState=Rt.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,o["grpc.service_config"]?this.defaultServiceConfig=(0,M7.validateServiceConfig)(JSON.parse(o["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(Rt.ConnectivityState.IDLE,new ml.QueuePicker(this)),this.childLoadBalancer=new V7.ChildLoadBalancerHandler({createSubchannel:t.createSubchannel.bind(t),requestReresolution:()=>{this.backoffTimeout.isRunning()?(PU("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(r,l)=>{this.latestChildState=r,this.latestChildPicker=l,this.updateState(r,l)},addChannelzChild:t.addChannelzChild.bind(t),removeChannelzChild:t.removeChannelzChild.bind(t)},o),this.innerResolver=(0,L7.createResolver)(e,{onSuccessfulResolution:(r,l,c,u,d)=>{var _;this.backoffTimeout.stop(),this.backoffTimeout.reset();let E=null;l===null?c===null?(this.previousServiceConfig=null,E=this.defaultServiceConfig):this.previousServiceConfig===null?this.handleResolutionFailure(c):E=this.previousServiceConfig:(E=l,this.previousServiceConfig=l);let A=(_=E==null?void 0:E.loadBalancingConfig)!==null&&_!==void 0?_:[],T=(0,I7.selectLbConfigFromList)(A,!0);if(T===null){this.handleResolutionFailure({code:tS.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new D7.Metadata});return}this.childLoadBalancer.updateAddressList(r,T,d);let R=E??this.defaultServiceConfig;this.onSuccessfulResolution(R,u??j7(R))},onError:r=>{this.handleResolutionFailure(r)}},o);let n={initialDelay:o["grpc.initial_reconnect_backoff_ms"],maxDelay:o["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new w7.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},n),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===Rt.ConnectivityState.IDLE&&this.updateState(Rt.ConnectivityState.CONNECTING,this.latestChildPicker),this.backoffTimeout.runOnce()}updateState(e,t){PU((0,B7.uriToString)(this.target)+" "+Rt.ConnectivityState[this.currentState]+" -> "+Rt.ConnectivityState[e]),e===Rt.ConnectivityState.IDLE&&(t=new ml.QueuePicker(this,t)),this.currentState=e,this.channelControlHelper.updateState(e,t)}handleResolutionFailure(e){this.latestChildState===Rt.ConnectivityState.IDLE&&(this.updateState(Rt.ConnectivityState.TRANSIENT_FAILURE,new ml.UnavailablePicker(e)),this.onFailedResolution(e))}exitIdle(){(this.currentState===Rt.ConnectivityState.IDLE||this.currentState===Rt.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(e,t){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=Rt.ConnectivityState.IDLE,this.latestChildPicker=new ml.QueuePicker(this),this.currentState=Rt.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}};cf.ResolvingLoadBalancer=rS});var MU=S(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.channelOptionsEqual=Xo.recognizedOptions=void 0;Xo.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0,"grpc.lb.ring_hash.ring_size_cap":!0};function z7(i,e){let t=Object.keys(i).sort(),o=Object.keys(e).sort();if(t.length!==o.length)return!1;for(let s=0;s<t.length;s+=1)if(t[s]!==o[s]||i[t[s]]!==e[o[s]])return!1;return!0}Xo.channelOptionsEqual=z7});var fr=S(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.EndpointMap=Ke.endpointHasAddress=Ke.endpointToString=Ke.endpointEqual=Ke.stringToSubchannelAddress=Ke.subchannelAddressToString=Ke.subchannelAddressEqual=Ke.isTcpSubchannelAddress=void 0;var LU=F("net");function El(i){return"port"in i}Ke.isTcpSubchannelAddress=El;function uf(i,e){return!i&&!e?!0:!i||!e?!1:El(i)?El(e)&&i.host===e.host&&i.port===e.port:!El(e)&&i.path===e.path}Ke.subchannelAddressEqual=uf;function wU(i){return El(i)?(0,LU.isIPv6)(i.host)?"["+i.host+"]:"+i.port:i.host+":"+i.port:i.path}Ke.subchannelAddressToString=wU;var $7=443;function Y7(i,e){return(0,LU.isIP)(i)?{host:i,port:e??$7}:{path:i}}Ke.stringToSubchannelAddress=Y7;function K7(i,e){if(i.addresses.length!==e.addresses.length)return!1;for(let t=0;t<i.addresses.length;t++)if(!uf(i.addresses[t],e.addresses[t]))return!1;return!0}Ke.endpointEqual=K7;function W7(i){return"["+i.addresses.map(wU).join(", ")+"]"}Ke.endpointToString=W7;function DU(i,e){for(let t of i.addresses)if(uf(t,e))return!0;return!1}Ke.endpointHasAddress=DU;function _l(i,e){if(i.addresses.length!==e.addresses.length)return!1;for(let t of i.addresses){let o=!1;for(let s of e.addresses)if(uf(t,s)){o=!0;break}if(!o)return!1}return!0}var nS=class{constructor(){this.map=new Set}get size(){return this.map.size}getForSubchannelAddress(e){for(let t of this.map)if(DU(t.key,e))return t.value}deleteMissing(e){let t=[];for(let o of this.map){let s=!1;for(let a of e)_l(a,o.key)&&(s=!0);s||(t.push(o.value),this.map.delete(o))}return t}get(e){for(let t of this.map)if(_l(e,t.key))return t.value}set(e,t){for(let o of this.map)if(_l(e,o.key)){o.value=t;return}this.map.add({key:e,value:t})}delete(e){for(let t of this.map)if(_l(e,t.key)){this.map.delete(t);return}}has(e){for(let t of this.map)if(_l(e,t.key))return!0;return!1}clear(){this.map.clear()}*keys(){for(let e of this.map)yield e.key}*values(){for(let e of this.map)yield e.value}*entries(){for(let e of this.map)yield[e.key,e.value]}};Ke.EndpointMap=nS});var kU={};Ie(kU,{OrderedMap:()=>n9});function Jo(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");iS(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function X7(i,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},o,s,a,n;return n={next:r(0),throw:r(1),return:r(2)},typeof Symbol=="function"&&(n[Symbol.iterator]=function(){return this}),n;function r(c){return function(u){return l([c,u])}}function l(c){if(o)throw new TypeError("Generator is already executing.");for(;n&&(n=0,c[0]&&(t=0)),t;)try{if(o=1,s&&(a=c[0]&2?s.return:c[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,c[1])).done)return a;switch(s=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,s=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(i,t)}catch(u){c=[6,u],s=0}finally{o=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Li(){throw new RangeError("Iterator access denied!")}var iS,UU,J7,Q7,Z7,e9,t9,r9,rn,n9,BU=m(()=>{iS=function(i,e){return iS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])},iS(i,e)};UU=function(){function i(e,t,o){o===void 0&&(o=1),this.t=void 0,this.i=void 0,this.h=void 0,this.u=e,this.o=t,this.l=o}return i.prototype.v=function(){var e=this,t=e.h.h===e;if(t&&e.l===1)e=e.i;else if(e.t)for(e=e.t;e.i;)e=e.i;else{if(t)return e.h;for(var o=e.h;o.t===e;)e=o,o=e.h;e=o}return e},i.prototype.p=function(){var e=this;if(e.i){for(e=e.i;e.t;)e=e.t;return e}else{for(var t=e.h;t.i===e;)e=t,t=e.h;return e.i!==t?t:e}},i.prototype.T=function(){var e=this.h,t=this.i,o=t.t;return e.h===this?e.h=t:e.t===this?e.t=t:e.i=t,t.h=e,t.t=this,this.h=t,this.i=o,o&&(o.h=this),t},i.prototype.I=function(){var e=this.h,t=this.t,o=t.i;return e.h===this?e.h=t:e.t===this?e.t=t:e.i=t,t.h=e,t.i=this,this.h=t,this.t=o,o&&(o.h=this),t},i}(),J7=function(i){Jo(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.O=1,t}return e.prototype.T=function(){var t=i.prototype.T.call(this);return this.M(),t.M(),t},e.prototype.I=function(){var t=i.prototype.I.call(this);return this.M(),t.M(),t},e.prototype.M=function(){this.O=1,this.t&&(this.O+=this.t.O),this.i&&(this.O+=this.i.O)},e}(UU),Q7=function(){function i(e){e===void 0&&(e=0),this.iteratorType=e}return i.prototype.equals=function(e){return this.C===e.C},i}(),Z7=function(){function i(){this._=0}return Object.defineProperty(i.prototype,"length",{get:function(){return this._},enumerable:!1,configurable:!0}),i.prototype.size=function(){return this._},i.prototype.empty=function(){return this._===0},i}(),e9=function(i){Jo(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e}(Z7);t9=function(i){Jo(e,i);function e(t,o){t===void 0&&(t=function(a,n){return a<n?-1:a>n?1:0}),o===void 0&&(o=!1);var s=i.call(this)||this;return s.N=void 0,s.g=t,s.enableIndex=o,s.S=o?J7:UU,s.A=new s.S,s}return e.prototype.m=function(t,o){for(var s=this.A;t;){var a=this.g(t.u,o);if(a<0)t=t.i;else if(a>0)s=t,t=t.t;else return t}return s},e.prototype.B=function(t,o){for(var s=this.A;t;){var a=this.g(t.u,o);a<=0?t=t.i:(s=t,t=t.t)}return s},e.prototype.j=function(t,o){for(var s=this.A;t;){var a=this.g(t.u,o);if(a<0)s=t,t=t.i;else if(a>0)t=t.t;else return t}return s},e.prototype.k=function(t,o){for(var s=this.A;t;){var a=this.g(t.u,o);a<0?(s=t,t=t.i):t=t.t}return s},e.prototype.R=function(t){for(;;){var o=t.h;if(o===this.A)return;if(t.l===1){t.l=0;return}if(t===o.t){var s=o.i;if(s.l===1)s.l=0,o.l=1,o===this.N?this.N=o.T():o.T();else if(s.i&&s.i.l===1){s.l=o.l,o.l=0,s.i.l=0,o===this.N?this.N=o.T():o.T();return}else s.t&&s.t.l===1?(s.l=1,s.t.l=0,s.I()):(s.l=1,t=o)}else{var s=o.t;if(s.l===1)s.l=0,o.l=1,o===this.N?this.N=o.I():o.I();else if(s.t&&s.t.l===1){s.l=o.l,o.l=0,s.t.l=0,o===this.N?this.N=o.I():o.I();return}else s.i&&s.i.l===1?(s.l=1,s.i.l=0,s.T()):(s.l=1,t=o)}}},e.prototype.G=function(t){if(this._===1){this.clear();return}for(var o=t;o.t||o.i;){if(o.i)for(o=o.i;o.t;)o=o.t;else o=o.t;var s=t.u;t.u=o.u,o.u=s;var a=t.o;t.o=o.o,o.o=a,t=o}this.A.t===o?this.A.t=o.h:this.A.i===o&&(this.A.i=o.h),this.R(o);var n=o.h;if(o===n.t?n.t=void 0:n.i=void 0,this._-=1,this.N.l=0,this.enableIndex)for(;n!==this.A;)n.O-=1,n=n.h},e.prototype.P=function(t){for(var o=typeof t=="number"?t:void 0,s=typeof t=="function"?t:void 0,a=typeof t>"u"?[]:void 0,n=0,r=this.N,l=[];l.length||r;)if(r)l.push(r),r=r.t;else{if(r=l.pop(),n===o)return r;a&&a.push(r),s&&s(r,n,this),n+=1,r=r.i}return a},e.prototype.q=function(t){for(;;){var o=t.h;if(o.l===0)return;var s=o.h;if(o===s.t){var a=s.i;if(a&&a.l===1){if(a.l=o.l=0,s===this.N)return;s.l=1,t=s;continue}else if(t===o.i){if(t.l=0,t.t&&(t.t.h=o),t.i&&(t.i.h=s),o.i=t.t,s.t=t.i,t.t=o,t.i=s,s===this.N)this.N=t,this.A.h=t;else{var n=s.h;n.t===s?n.t=t:n.i=t}t.h=s.h,o.h=t,s.h=t,s.l=1}else{o.l=0,s===this.N?this.N=s.I():s.I(),s.l=1;return}}else{var a=s.t;if(a&&a.l===1){if(a.l=o.l=0,s===this.N)return;s.l=1,t=s;continue}else if(t===o.t){if(t.l=0,t.t&&(t.t.h=s),t.i&&(t.i.h=o),s.i=t.t,o.t=t.i,t.t=s,t.i=o,s===this.N)this.N=t,this.A.h=t;else{var n=s.h;n.t===s?n.t=t:n.i=t}t.h=s.h,o.h=t,s.h=t,s.l=1}else{o.l=0,s===this.N?this.N=s.T():s.T(),s.l=1;return}}this.enableIndex&&(o.M(),s.M(),t.M());return}},e.prototype.D=function(t,o,s){if(this.N===void 0)return this._+=1,this.N=new this.S(t,o,0),this.N.h=this.A,this.A.h=this.A.t=this.A.i=this.N,this._;var a,n=this.A.t,r=this.g(n.u,t);if(r===0)return n.o=o,this._;if(r>0)n.t=new this.S(t,o),n.t.h=n,a=n.t,this.A.t=a;else{var l=this.A.i,c=this.g(l.u,t);if(c===0)return l.o=o,this._;if(c<0)l.i=new this.S(t,o),l.i.h=l,a=l.i,this.A.i=a;else{if(s!==void 0){var u=s.C;if(u!==this.A){var d=this.g(u.u,t);if(d===0)return u.o=o,this._;if(d>0){var _=u.v(),E=this.g(_.u,t);if(E===0)return _.o=o,this._;E<0&&(a=new this.S(t,o),_.i===void 0?(_.i=a,a.h=_):(u.t=a,a.h=u))}}}if(a===void 0)for(a=this.N;;){var A=this.g(a.u,t);if(A>0){if(a.t===void 0){a.t=new this.S(t,o),a.t.h=a,a=a.t;break}a=a.t}else if(A<0){if(a.i===void 0){a.i=new this.S(t,o),a.i.h=a,a=a.i;break}a=a.i}else return a.o=o,this._}}}if(this.enableIndex)for(var T=a.h;T!==this.A;)T.O+=1,T=T.h;return this.q(a),this._+=1,this._},e.prototype.F=function(t,o){for(;t;){var s=this.g(t.u,o);if(s<0)t=t.i;else if(s>0)t=t.t;else return t}return t||this.A},e.prototype.clear=function(){this._=0,this.N=void 0,this.A.h=void 0,this.A.t=this.A.i=void 0},e.prototype.updateKeyByIterator=function(t,o){var s=t.C;if(s===this.A&&Li(),this._===1)return s.u=o,!0;var a=s.p().u;if(s===this.A.t)return this.g(a,o)>0?(s.u=o,!0):!1;var n=s.v().u;return s===this.A.i?this.g(n,o)<0?(s.u=o,!0):!1:this.g(n,o)>=0||this.g(a,o)<=0?!1:(s.u=o,!0)},e.prototype.eraseElementByPos=function(t){if(t<0||t>this._-1)throw new RangeError;var o=this.P(t);return this.G(o),this._},e.prototype.eraseElementByKey=function(t){if(this._===0)return!1;var o=this.F(this.N,t);return o===this.A?!1:(this.G(o),!0)},e.prototype.eraseElementByIterator=function(t){var o=t.C;o===this.A&&Li();var s=o.i===void 0,a=t.iteratorType===0;return a?s&&t.next():(!s||o.t===void 0)&&t.next(),this.G(o),t},e.prototype.getHeight=function(){if(this._===0)return 0;function t(o){return o?Math.max(t(o.t),t(o.i))+1:0}return t(this.N)},e}(e9),r9=function(i){Jo(e,i);function e(t,o,s){var a=i.call(this,s)||this;return a.C=t,a.A=o,a.iteratorType===0?(a.pre=function(){return this.C===this.A.t&&Li(),this.C=this.C.v(),this},a.next=function(){return this.C===this.A&&Li(),this.C=this.C.p(),this}):(a.pre=function(){return this.C===this.A.i&&Li(),this.C=this.C.p(),this},a.next=function(){return this.C===this.A&&Li(),this.C=this.C.v(),this}),a}return Object.defineProperty(e.prototype,"index",{get:function(){var t=this.C,o=this.A.h;if(t===this.A)return o?o.O-1:0;var s=0;for(t.t&&(s+=t.t.O);t!==o;){var a=t.h;t===a.i&&(s+=1,a.t&&(s+=a.t.O)),t=a}return s},enumerable:!1,configurable:!0}),e.prototype.isAccessible=function(){return this.C!==this.A},e}(Q7),rn=function(i){Jo(e,i);function e(t,o,s,a){var n=i.call(this,t,o,a)||this;return n.container=s,n}return Object.defineProperty(e.prototype,"pointer",{get:function(){this.C===this.A&&Li();var t=this;return new Proxy([],{get:function(o,s){return s==="0"?t.C.u:s==="1"?t.C.o:(o[0]=t.C.u,o[1]=t.C.o,o[s])},set:function(o,s,a){if(s!=="1")throw new TypeError("prop must be 1");return t.C.o=a,!0}})},enumerable:!1,configurable:!0}),e.prototype.copy=function(){return new e(this.C,this.A,this.container,this.iteratorType)},e}(r9),n9=function(i){Jo(e,i);function e(t,o,s){t===void 0&&(t=[]);var a=i.call(this,o,s)||this,n=a;return t.forEach(function(r){n.setElement(r[0],r[1])}),a}return e.prototype.begin=function(){return new rn(this.A.t||this.A,this.A,this)},e.prototype.end=function(){return new rn(this.A,this.A,this)},e.prototype.rBegin=function(){return new rn(this.A.i||this.A,this.A,this,1)},e.prototype.rEnd=function(){return new rn(this.A,this.A,this,1)},e.prototype.front=function(){if(this._!==0){var t=this.A.t;return[t.u,t.o]}},e.prototype.back=function(){if(this._!==0){var t=this.A.i;return[t.u,t.o]}},e.prototype.lowerBound=function(t){var o=this.m(this.N,t);return new rn(o,this.A,this)},e.prototype.upperBound=function(t){var o=this.B(this.N,t);return new rn(o,this.A,this)},e.prototype.reverseLowerBound=function(t){var o=this.j(this.N,t);return new rn(o,this.A,this)},e.prototype.reverseUpperBound=function(t){var o=this.k(this.N,t);return new rn(o,this.A,this)},e.prototype.forEach=function(t){this.P(function(o,s,a){t([o.u,o.o],s,a)})},e.prototype.setElement=function(t,o,s){return this.D(t,o,s)},e.prototype.getElementByPos=function(t){if(t<0||t>this._-1)throw new RangeError;var o=this.P(t);return[o.u,o.o]},e.prototype.find=function(t){var o=this.F(this.N,t);return new rn(o,this.A,this)},e.prototype.getElementByKey=function(t){var o=this.F(this.N,t);return o.o},e.prototype.union=function(t){var o=this;return t.forEach(function(s){o.setElement(s[0],s[1])}),this._},e.prototype[Symbol.iterator]=function(){var t,o,s,a;return X7(this,function(n){switch(n.label){case 0:t=this._,o=this.P(),s=0,n.label=1;case 1:return s<t?(a=o[s],[4,[a.u,a.o]]):[3,4];case 2:n.sent(),n.label=3;case 3:return++s,[3,1];case 4:return[2]}})},e}(t9)});var df=S(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.addAdminServicesToServer=Qo.registerAdminService=void 0;var VU=[];function i9(i,e){VU.push({getServiceDefinition:i,getHandlers:e})}Qo.registerAdminService=i9;function o9(i){for(let{getServiceDefinition:e,getHandlers:t}of VU)i.addService(e(),t())}Qo.addAdminServicesToServer=o9});var FU=S(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.ClientDuplexStreamImpl=Xt.ClientWritableStreamImpl=Xt.ClientReadableStreamImpl=Xt.ClientUnaryCallImpl=Xt.callErrorFromStatus=void 0;var s9=F("events"),cS=F("stream"),Sl=Ee();function a9(i,e){let t=`${i.code} ${Sl.Status[i.code]}: ${i.details}`,s=`${new Error(t).stack}
for call at
${e}`;return Object.assign(new Error(t),i,{stack:s})}Xt.callErrorFromStatus=a9;var oS=class extends s9.EventEmitter{constructor(){super()}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Sl.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}};Xt.ClientUnaryCallImpl=oS;var sS=class extends cS.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Sl.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_read(e){var t;(t=this.call)===null||t===void 0||t.startRead()}};Xt.ClientReadableStreamImpl=sS;var aS=class extends cS.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Sl.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_write(e,t,o){var s;let a={callback:o},n=Number(t);Number.isNaN(n)||(a.flags=n),(s=this.call)===null||s===void 0||s.sendMessageWithContext(a,e)}_final(e){var t;(t=this.call)===null||t===void 0||t.halfClose(),e()}};Xt.ClientWritableStreamImpl=aS;var lS=class extends cS.Duplex{constructor(e,t){super({objectMode:!0}),this.serialize=e,this.deserialize=t}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Sl.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_read(e){var t;(t=this.call)===null||t===void 0||t.startRead()}_write(e,t,o){var s;let a={callback:o},n=Number(t);Number.isNaN(n)||(a.flags=n),(s=this.call)===null||s===void 0||s.sendMessageWithContext(a,e)}_final(e){var t;(t=this.call)===null||t===void 0||t.halfClose(),e()}};Xt.ClientDuplexStreamImpl=lS});var qU=S(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.InterceptingListenerImpl=Zo.isInterceptingListener=void 0;function l9(i){return i.onReceiveMetadata!==void 0&&i.onReceiveMetadata.length===1}Zo.isInterceptingListener=l9;var uS=class{constructor(e,t){this.listener=e,this.nextListener=t,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(e){this.processingMetadata=!0,this.listener.onReceiveMetadata(e,t=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(t),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,t=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=t,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(t),this.processPendingStatus())})}onReceiveStatus(e){this.listener.onReceiveStatus(e,t=>{this.processingMetadata||this.processingMessage?this.pendingStatus=t:this.nextListener.onReceiveStatus(t)})}};Zo.InterceptingListenerImpl=uS});var ES=S(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.getInterceptingCall=Jt.InterceptingCall=Jt.RequesterBuilder=Jt.ListenerBuilder=Jt.InterceptorConfigurationError=void 0;var c9=St(),GU=qU(),HU=Ee(),jU=Kd(),Tl=class i extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,i)}};Jt.InterceptorConfigurationError=Tl;var fS=class{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}};Jt.ListenerBuilder=fS;var pS=class{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};Jt.RequesterBuilder=pS;var dS={onReceiveMetadata:(i,e)=>{e(i)},onReceiveMessage:(i,e)=>{e(i)},onReceiveStatus:(i,e)=>{e(i)}},gl={start:(i,e,t)=>{t(i,e)},sendMessage:(i,e)=>{e(i)},halfClose:i=>{i()},cancel:i=>{i()}},hS=class{constructor(e,t){var o,s,a,n;this.nextCall=e,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,t?this.requester={start:(o=t.start)!==null&&o!==void 0?o:gl.start,sendMessage:(s=t.sendMessage)!==null&&s!==void 0?s:gl.sendMessage,halfClose:(a=t.halfClose)!==null&&a!==void 0?a:gl.halfClose,cancel:(n=t.cancel)!==null&&n!==void 0?n:gl.cancel}:this.requester=gl}cancelWithStatus(e,t){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,t)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(e,t){var o,s,a,n,r,l;let c={onReceiveMetadata:(s=(o=t==null?void 0:t.onReceiveMetadata)===null||o===void 0?void 0:o.bind(t))!==null&&s!==void 0?s:u=>{},onReceiveMessage:(n=(a=t==null?void 0:t.onReceiveMessage)===null||a===void 0?void 0:a.bind(t))!==null&&n!==void 0?n:u=>{},onReceiveStatus:(l=(r=t==null?void 0:t.onReceiveStatus)===null||r===void 0?void 0:r.bind(t))!==null&&l!==void 0?l:u=>{}};this.processingMetadata=!0,this.requester.start(e,c,(u,d)=>{var _,E,A;this.processingMetadata=!1;let T;if((0,GU.isInterceptingListener)(d))T=d;else{let R={onReceiveMetadata:(_=d.onReceiveMetadata)!==null&&_!==void 0?_:dS.onReceiveMetadata,onReceiveMessage:(E=d.onReceiveMessage)!==null&&E!==void 0?E:dS.onReceiveMessage,onReceiveStatus:(A=d.onReceiveStatus)!==null&&A!==void 0?A:dS.onReceiveStatus};T=new GU.InterceptingListenerImpl(R,c)}this.nextCall.start(u,T),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(e,t){this.processingMessage=!0,this.requester.sendMessage(t,o=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=e,this.pendingMessage=t):(this.nextCall.sendMessageWithContext(e,o),this.processPendingHalfClose())})}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}};Jt.InterceptingCall=hS;function u9(i,e,t){var o,s;let a=(o=t.deadline)!==null&&o!==void 0?o:1/0,n=t.host,r=(s=t.parent)!==null&&s!==void 0?s:null,l=t.propagate_flags,c=t.credentials,u=i.createCall(e,a,n,r,l);return c&&u.setCredentials(c),u}var ff=class{constructor(e,t){this.call=e,this.methodDefinition=t}cancelWithStatus(e,t){this.call.cancelWithStatus(e,t)}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,t){let o;try{o=this.methodDefinition.requestSerialize(t)}catch(s){this.call.cancelWithStatus(HU.Status.INTERNAL,`Request message serialization failure: ${(0,jU.getErrorMessage)(s)}`);return}this.call.sendMessageWithContext(e,o)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,t){let o=null;this.call.start(e,{onReceiveMetadata:s=>{var a;(a=t==null?void 0:t.onReceiveMetadata)===null||a===void 0||a.call(t,s)},onReceiveMessage:s=>{var a;let n;try{n=this.methodDefinition.responseDeserialize(s)}catch(r){o={code:HU.Status.INTERNAL,details:`Response message parsing error: ${(0,jU.getErrorMessage)(r)}`,metadata:new c9.Metadata},this.call.cancelWithStatus(o.code,o.details);return}(a=t==null?void 0:t.onReceiveMessage)===null||a===void 0||a.call(t,n)},onReceiveStatus:s=>{var a,n;o?(a=t==null?void 0:t.onReceiveStatus)===null||a===void 0||a.call(t,o):(n=t==null?void 0:t.onReceiveStatus)===null||n===void 0||n.call(t,s)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}},mS=class extends ff{constructor(e,t){super(e,t)}start(e,t){var o,s;let a=!1,n={onReceiveMetadata:(s=(o=t==null?void 0:t.onReceiveMetadata)===null||o===void 0?void 0:o.bind(t))!==null&&s!==void 0?s:r=>{},onReceiveMessage:r=>{var l;a=!0,(l=t==null?void 0:t.onReceiveMessage)===null||l===void 0||l.call(t,r)},onReceiveStatus:r=>{var l,c;a||(l=t==null?void 0:t.onReceiveMessage)===null||l===void 0||l.call(t,null),(c=t==null?void 0:t.onReceiveStatus)===null||c===void 0||c.call(t,r)}};super.start(e,n),this.call.startRead()}},_S=class extends ff{};function d9(i,e,t){let o=u9(i,t.path,e);return t.responseStream?new _S(o,t):new mS(o,t)}function f9(i,e,t,o){if(i.clientInterceptors.length>0&&i.clientInterceptorProviders.length>0)throw new Tl("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(i.callInterceptors.length>0&&i.callInterceptorProviders.length>0)throw new Tl("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let s=[];i.callInterceptors.length>0||i.callInterceptorProviders.length>0?s=[].concat(i.callInterceptors,i.callInterceptorProviders.map(r=>r(e))).filter(r=>r):s=[].concat(i.clientInterceptors,i.clientInterceptorProviders.map(r=>r(e))).filter(r=>r);let a=Object.assign({},t,{method_definition:e});return s.reduceRight((r,l)=>c=>l(c,r),r=>d9(o,r,e))(a)}Jt.getInterceptingCall=f9});var TS=S(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});hf.Client=void 0;var Mr=FU(),p9=yS(),h9=Kt(),Un=Ee(),es=St(),pf=ES(),pr=Symbol(),ts=Symbol(),rs=Symbol(),nn=Symbol();function SS(i){return typeof i=="function"}function ns(i){var e;return((e=i.stack)===null||e===void 0?void 0:e.split(`
`).slice(1).join(`
`))||"no stack trace available"}var gS=class{constructor(e,t,o={}){var s,a;if(o=Object.assign({},o),this[ts]=(s=o.interceptors)!==null&&s!==void 0?s:[],delete o.interceptors,this[rs]=(a=o.interceptor_providers)!==null&&a!==void 0?a:[],delete o.interceptor_providers,this[ts].length>0&&this[rs].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[nn]=o.callInvocationTransformer,delete o.callInvocationTransformer,o.channelOverride)this[pr]=o.channelOverride;else if(o.channelFactoryOverride){let n=o.channelFactoryOverride;delete o.channelFactoryOverride,this[pr]=n(e,t,o)}else this[pr]=new p9.ChannelImplementation(e,t,o)}close(){this[pr].close()}getChannel(){return this[pr]}waitForReady(e,t){let o=s=>{if(s){t(new Error("Failed to connect before the deadline"));return}let a;try{a=this[pr].getConnectivityState(!0)}catch{t(new Error("The channel has been closed"));return}if(a===h9.ConnectivityState.READY)t();else try{this[pr].watchConnectivityState(a,e,o)}catch{t(new Error("The channel has been closed"))}};setImmediate(o)}checkOptionalUnaryResponseArguments(e,t,o){if(SS(e))return{metadata:new es.Metadata,options:{},callback:e};if(SS(t))return e instanceof es.Metadata?{metadata:e,options:{},callback:t}:{metadata:new es.Metadata,options:e,callback:t};if(!(e instanceof es.Metadata&&t instanceof Object&&SS(o)))throw new Error("Incorrect arguments passed");return{metadata:e,options:t,callback:o}}makeUnaryRequest(e,t,o,s,a,n,r){var l,c;let u=this.checkOptionalUnaryResponseArguments(a,n,r),d={path:e,requestStream:!1,responseStream:!1,requestSerialize:t,responseDeserialize:o},_={argument:s,metadata:u.metadata,call:new Mr.ClientUnaryCallImpl,channel:this[pr],methodDefinition:d,callOptions:u.options,callback:u.callback};this[nn]&&(_=this[nn](_));let E=_.call,A={clientInterceptors:this[ts],clientInterceptorProviders:this[rs],callInterceptors:(l=_.callOptions.interceptors)!==null&&l!==void 0?l:[],callInterceptorProviders:(c=_.callOptions.interceptor_providers)!==null&&c!==void 0?c:[]},T=(0,pf.getInterceptingCall)(A,_.methodDefinition,_.callOptions,_.channel);E.call=T;let R=null,O=!1,C=new Error;return T.start(_.metadata,{onReceiveMetadata:L=>{E.emit("metadata",L)},onReceiveMessage(L){R!==null&&T.cancelWithStatus(Un.Status.INTERNAL,"Too many responses received"),R=L},onReceiveStatus(L){if(!O){if(O=!0,L.code===Un.Status.OK)if(R===null){let I=ns(C);_.callback((0,Mr.callErrorFromStatus)({code:Un.Status.INTERNAL,details:"No message received",metadata:L.metadata},I))}else _.callback(null,R);else{let I=ns(C);_.callback((0,Mr.callErrorFromStatus)(L,I))}C=null,E.emit("status",L)}}}),T.sendMessage(s),T.halfClose(),E}makeClientStreamRequest(e,t,o,s,a,n){var r,l;let c=this.checkOptionalUnaryResponseArguments(s,a,n),u={path:e,requestStream:!0,responseStream:!1,requestSerialize:t,responseDeserialize:o},d={metadata:c.metadata,call:new Mr.ClientWritableStreamImpl(t),channel:this[pr],methodDefinition:u,callOptions:c.options,callback:c.callback};this[nn]&&(d=this[nn](d));let _=d.call,E={clientInterceptors:this[ts],clientInterceptorProviders:this[rs],callInterceptors:(r=d.callOptions.interceptors)!==null&&r!==void 0?r:[],callInterceptorProviders:(l=d.callOptions.interceptor_providers)!==null&&l!==void 0?l:[]},A=(0,pf.getInterceptingCall)(E,d.methodDefinition,d.callOptions,d.channel);_.call=A;let T=null,R=!1,O=new Error;return A.start(d.metadata,{onReceiveMetadata:C=>{_.emit("metadata",C)},onReceiveMessage(C){T!==null&&A.cancelWithStatus(Un.Status.INTERNAL,"Too many responses received"),T=C},onReceiveStatus(C){if(!R){if(R=!0,C.code===Un.Status.OK)if(T===null){let L=ns(O);d.callback((0,Mr.callErrorFromStatus)({code:Un.Status.INTERNAL,details:"No message received",metadata:C.metadata},L))}else d.callback(null,T);else{let L=ns(O);d.callback((0,Mr.callErrorFromStatus)(C,L))}O=null,_.emit("status",C)}}}),_}checkMetadataAndOptions(e,t){let o,s;return e instanceof es.Metadata?(o=e,t?s=t:s={}):(e?s=e:s={},o=new es.Metadata),{metadata:o,options:s}}makeServerStreamRequest(e,t,o,s,a,n){var r,l;let c=this.checkMetadataAndOptions(a,n),u={path:e,requestStream:!1,responseStream:!0,requestSerialize:t,responseDeserialize:o},d={argument:s,metadata:c.metadata,call:new Mr.ClientReadableStreamImpl(o),channel:this[pr],methodDefinition:u,callOptions:c.options};this[nn]&&(d=this[nn](d));let _=d.call,E={clientInterceptors:this[ts],clientInterceptorProviders:this[rs],callInterceptors:(r=d.callOptions.interceptors)!==null&&r!==void 0?r:[],callInterceptorProviders:(l=d.callOptions.interceptor_providers)!==null&&l!==void 0?l:[]},A=(0,pf.getInterceptingCall)(E,d.methodDefinition,d.callOptions,d.channel);_.call=A;let T=!1,R=new Error;return A.start(d.metadata,{onReceiveMetadata(O){_.emit("metadata",O)},onReceiveMessage(O){_.push(O)},onReceiveStatus(O){if(!T){if(T=!0,_.push(null),O.code!==Un.Status.OK){let C=ns(R);_.emit("error",(0,Mr.callErrorFromStatus)(O,C))}R=null,_.emit("status",O)}}}),A.sendMessage(s),A.halfClose(),_}makeBidiStreamRequest(e,t,o,s,a){var n,r;let l=this.checkMetadataAndOptions(s,a),c={path:e,requestStream:!0,responseStream:!0,requestSerialize:t,responseDeserialize:o},u={metadata:l.metadata,call:new Mr.ClientDuplexStreamImpl(t,o),channel:this[pr],methodDefinition:c,callOptions:l.options};this[nn]&&(u=this[nn](u));let d=u.call,_={clientInterceptors:this[ts],clientInterceptorProviders:this[rs],callInterceptors:(n=u.callOptions.interceptors)!==null&&n!==void 0?n:[],callInterceptorProviders:(r=u.callOptions.interceptor_providers)!==null&&r!==void 0?r:[]},E=(0,pf.getInterceptingCall)(_,u.methodDefinition,u.callOptions,u.channel);d.call=E;let A=!1,T=new Error;return E.start(u.metadata,{onReceiveMetadata(R){d.emit("metadata",R)},onReceiveMessage(R){d.push(R)},onReceiveStatus(R){if(!A){if(A=!0,d.push(null),R.code!==Un.Status.OK){let O=ns(T);d.emit("error",(0,Mr.callErrorFromStatus)(R,O))}T=null,d.emit("status",R)}}}),d}};hf.Client=gS});var AS=S(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.loadPackageDefinition=is.makeClientConstructor=void 0;var yl=TS(),m9={unary:yl.Client.prototype.makeUnaryRequest,server_stream:yl.Client.prototype.makeServerStreamRequest,client_stream:yl.Client.prototype.makeClientStreamRequest,bidi:yl.Client.prototype.makeBidiStreamRequest};function vS(i){return["__proto__","prototype","constructor"].includes(i)}function zU(i,e,t){t||(t={});class o extends yl.Client{}return Object.keys(i).forEach(s=>{if(vS(s))return;let a=i[s],n;if(typeof s=="string"&&s.charAt(0)==="$")throw new Error("Method names cannot start with $");a.requestStream?a.responseStream?n="bidi":n="client_stream":a.responseStream?n="server_stream":n="unary";let r=a.requestSerialize,l=a.responseDeserialize,c=_9(m9[n],a.path,r,l);o.prototype[s]=c,Object.assign(o.prototype[s],a),a.originalName&&!vS(a.originalName)&&(o.prototype[a.originalName]=o.prototype[s])}),o.service=i,o.serviceName=e,o}is.makeClientConstructor=zU;function _9(i,e,t,o){return function(...s){return i.call(this,e,t,o,...s)}}function E9(i){return"format"in i}function S9(i){let e={};for(let t in i)if(Object.prototype.hasOwnProperty.call(i,t)){let o=i[t],s=t.split(".");if(s.some(r=>vS(r)))continue;let a=s[s.length-1],n=e;for(let r of s.slice(0,-1))n[r]||(n[r]={}),n=n[r];E9(o)?n[a]=o:n[a]=zU(o,a,{})}return e}is.loadPackageDefinition=S9});var _k=S((kTe,mk)=>{var g9=1/0,T9="[object Symbol]",y9=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,v9=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_f="\\ud800-\\udfff",ZU="\\u0300-\\u036f\\ufe20-\\ufe23",ek="\\u20d0-\\u20f0",tk="\\u2700-\\u27bf",rk="a-z\\xdf-\\xf6\\xf8-\\xff",A9="\\xac\\xb1\\xd7\\xf7",O9="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",R9="\\u2000-\\u206f",b9=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",nk="A-Z\\xc0-\\xd6\\xd8-\\xde",ik="\\ufe0e\\ufe0f",ok=A9+O9+R9+b9,RS="['\u2019]",C9="["+_f+"]",$U="["+ok+"]",mf="["+ZU+ek+"]",sk="\\d+",N9="["+tk+"]",ak="["+rk+"]",lk="[^"+_f+ok+sk+tk+rk+nk+"]",OS="\\ud83c[\\udffb-\\udfff]",x9="(?:"+mf+"|"+OS+")",ck="[^"+_f+"]",bS="(?:\\ud83c[\\udde6-\\uddff]){2}",CS="[\\ud800-\\udbff][\\udc00-\\udfff]",os="["+nk+"]",uk="\\u200d",YU="(?:"+ak+"|"+lk+")",P9="(?:"+os+"|"+lk+")",KU="(?:"+RS+"(?:d|ll|m|re|s|t|ve))?",WU="(?:"+RS+"(?:D|LL|M|RE|S|T|VE))?",dk=x9+"?",fk="["+ik+"]?",I9="(?:"+uk+"(?:"+[ck,bS,CS].join("|")+")"+fk+dk+")*",pk=fk+dk+I9,M9="(?:"+[N9,bS,CS].join("|")+")"+pk,L9="(?:"+[ck+mf+"?",mf,bS,CS,C9].join("|")+")",w9=RegExp(RS,"g"),D9=RegExp(mf,"g"),U9=RegExp(OS+"(?="+OS+")|"+L9+pk,"g"),k9=RegExp([os+"?"+ak+"+"+KU+"(?="+[$U,os,"$"].join("|")+")",P9+"+"+WU+"(?="+[$U,os+YU,"$"].join("|")+")",os+"?"+YU+"+"+KU,os+"+"+WU,sk,M9].join("|"),"g"),B9=RegExp("["+uk+_f+ZU+ek+ik+"]"),V9=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,F9={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"ss"},q9=typeof global=="object"&&global&&global.Object===Object&&global,G9=typeof self=="object"&&self&&self.Object===Object&&self,H9=q9||G9||Function("return this")();function j9(i,e,t,o){var s=-1,a=i?i.length:0;for(o&&a&&(t=i[++s]);++s<a;)t=e(t,i[s],s,i);return t}function z9(i){return i.split("")}function $9(i){return i.match(y9)||[]}function Y9(i){return function(e){return i==null?void 0:i[e]}}var K9=Y9(F9);function hk(i){return B9.test(i)}function W9(i){return V9.test(i)}function X9(i){return hk(i)?J9(i):z9(i)}function J9(i){return i.match(U9)||[]}function Q9(i){return i.match(k9)||[]}var Z9=Object.prototype,eJ=Z9.toString,XU=H9.Symbol,JU=XU?XU.prototype:void 0,QU=JU?JU.toString:void 0;function tJ(i,e,t){var o=-1,s=i.length;e<0&&(e=-e>s?0:s+e),t=t>s?s:t,t<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var a=Array(s);++o<s;)a[o]=i[o+e];return a}function rJ(i){if(typeof i=="string")return i;if(aJ(i))return QU?QU.call(i):"";var e=i+"";return e=="0"&&1/i==-g9?"-0":e}function nJ(i,e,t){var o=i.length;return t=t===void 0?o:t,!e&&t>=o?i:tJ(i,e,t)}function iJ(i){return function(e){e=Ef(e);var t=hk(e)?X9(e):void 0,o=t?t[0]:e.charAt(0),s=t?nJ(t,1).join(""):e.slice(1);return o[i]()+s}}function oJ(i){return function(e){return j9(fJ(uJ(e).replace(w9,"")),i,"")}}function sJ(i){return!!i&&typeof i=="object"}function aJ(i){return typeof i=="symbol"||sJ(i)&&eJ.call(i)==T9}function Ef(i){return i==null?"":rJ(i)}var lJ=oJ(function(i,e,t){return e=e.toLowerCase(),i+(t?cJ(e):e)});function cJ(i){return dJ(Ef(i).toLowerCase())}function uJ(i){return i=Ef(i),i&&i.replace(v9,K9).replace(D9,"")}var dJ=iJ("toUpperCase");function fJ(i,e,t){return i=Ef(i),e=t?void 0:e,e===void 0?W9(i)?Q9(i):$9(i):i.match(e)||[]}mk.exports=lJ});var Sk=S((BTe,Ek)=>{"use strict";Ek.exports=NS;function NS(i,e){typeof i=="string"&&(e=i,i=void 0);var t=[];function o(a){if(typeof a!="string"){var n=s();if(NS.verbose&&console.log("codegen: "+n),n="return "+n,a){for(var r=Object.keys(a),l=new Array(r.length+1),c=new Array(r.length),u=0;u<r.length;)l[u]=r[u],c[u]=a[r[u++]];return l[u]=n,Function.apply(null,l).apply(null,c)}return Function(n)()}for(var d=new Array(arguments.length-1),_=0;_<d.length;)d[_]=arguments[++_];if(_=0,a=a.replace(/%([%dfijs])/g,function(A,T){var R=d[_++];switch(T){case"d":case"f":return String(Number(R));case"i":return String(Math.floor(R));case"j":return JSON.stringify(R);case"s":return String(R)}return"%"}),_!==d.length)throw Error("parameter count mismatch");return t.push(a),o}function s(a){return"function "+(a||e||"")+"("+(i&&i.join(",")||"")+`){
  `+t.join(`
  `)+`
}`}return o.toString=s,o}NS.verbose=!1});var Tk=S((VTe,gk)=>{"use strict";gk.exports=vl;var pJ=hE(),hJ=mE(),xS=hJ("fs");function vl(i,e,t){return typeof e=="function"?(t=e,e={}):e||(e={}),t?!e.xhr&&xS&&xS.readFile?xS.readFile(i,function(s,a){return s&&typeof XMLHttpRequest<"u"?vl.xhr(i,e,t):s?t(s):t(null,e.binary?a:a.toString("utf8"))}):vl.xhr(i,e,t):pJ(vl,this,i,e)}vl.xhr=function(e,t,o){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===4){if(s.status!==0&&s.status!==200)return o(Error("status "+s.status));if(t.binary){var n=s.response;if(!n){n=[];for(var r=0;r<s.responseText.length;++r)n.push(s.responseText.charCodeAt(r)&255)}return o(null,typeof Uint8Array<"u"?new Uint8Array(n):n)}return o(null,s.responseText)}},t.binary&&("overrideMimeType"in s&&s.overrideMimeType("text/plain; charset=x-user-defined"),s.responseType="arraybuffer"),s.open("GET",e),s.send()}});var Ak=S(vk=>{"use strict";var IS=vk,yk=IS.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},PS=IS.normalize=function(e){e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var t=e.split("/"),o=yk(e),s="";o&&(s=t.shift()+"/");for(var a=0;a<t.length;)t[a]===".."?a>0&&t[a-1]!==".."?t.splice(--a,2):o?t.splice(a,1):++a:t[a]==="."?t.splice(a,1):++a;return s+t.join("/")};IS.resolve=function(e,t,o){return o||(t=PS(t)),yk(t)?t:(o||(e=PS(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?PS(e+"/"+t):t)}});var wi=S(Ok=>{"use strict";var Al=Ok,mJ=We(),_J=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function Ol(i,e){var t=0,o={};for(e|=0;t<i.length;)o[_J[t+e]]=i[t++];return o}Al.basic=Ol([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);Al.defaults=Ol([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",mJ.emptyArray,null]);Al.long=Ol([0,0,0,1,1],7);Al.mapKey=Ol([0,0,0,5,5,0,0,0,1,1,0,2],2);Al.packed=Ol([1,5,0,0,0,5,5,0,0,0,1,1,0])});var kn=S((GTe,Ck)=>{"use strict";Ck.exports=Qt;var Sf=Di();((Qt.prototype=Object.create(Sf.prototype)).constructor=Qt).className="Field";var Rk=hr(),bk=wi(),Fe=We(),MS,EJ=/^required|optional|repeated$/;Qt.fromJSON=function(e,t){return new Qt(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)};function Qt(i,e,t,o,s,a,n){if(Fe.isObject(o)?(n=s,a=o,o=s=void 0):Fe.isObject(s)&&(n=a,a=s,s=void 0),Sf.call(this,i,a),!Fe.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!Fe.isString(t))throw TypeError("type must be a string");if(o!==void 0&&!EJ.test(o=o.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(s!==void 0&&!Fe.isString(s))throw TypeError("extend must be a string");o==="proto3_optional"&&(o="optional"),this.rule=o&&o!=="optional"?o:void 0,this.type=t,this.id=e,this.extend=s||void 0,this.required=o==="required",this.optional=!this.required,this.repeated=o==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=Fe.Long?bk.long[t]!==void 0:!1,this.bytes=t==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=n}Object.defineProperty(Qt.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}});Qt.prototype.setOption=function(e,t,o){return e==="packed"&&(this._packed=null),Sf.prototype.setOption.call(this,e,t,o)};Qt.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return Fe.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])};Qt.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=bk.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof MS?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof Rk&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof Rk))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=Fe.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var e;Fe.base64.test(this.typeDefault)?Fe.base64.decode(this.typeDefault,e=Fe.newBuffer(Fe.base64.length(this.typeDefault)),0):Fe.utf8.write(this.typeDefault,e=Fe.newBuffer(Fe.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=Fe.emptyObject:this.repeated?this.defaultValue=Fe.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof MS&&(this.parent.ctor.prototype[this.name]=this.defaultValue),Sf.prototype.resolve.call(this)};Qt.d=function(e,t,o,s){return typeof t=="function"?t=Fe.decorateType(t).name:t&&typeof t=="object"&&(t=Fe.decorateEnum(t).name),function(n,r){Fe.decorateType(n.constructor).add(new Qt(r,e,t,o,{default:s}))}};Qt._configure=function(e){MS=e}});var ss=S((HTe,Pk)=>{"use strict";Pk.exports=Zt;var Tf=Di();((Zt.prototype=Object.create(Tf.prototype)).constructor=Zt).className="OneOf";var Nk=kn(),gf=We();function Zt(i,e,t,o){if(Array.isArray(e)||(t=e,e=void 0),Tf.call(this,i,t),!(e===void 0||Array.isArray(e)))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=o}Zt.fromJSON=function(e,t){return new Zt(e,t.oneof,t.options,t.comment)};Zt.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return gf.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])};function xk(i){if(i.parent)for(var e=0;e<i.fieldsArray.length;++e)i.fieldsArray[e].parent||i.parent.add(i.fieldsArray[e])}Zt.prototype.add=function(e){if(!(e instanceof Nk))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,xk(this),this};Zt.prototype.remove=function(e){if(!(e instanceof Nk))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),t=this.oneof.indexOf(e.name),t>-1&&this.oneof.splice(t,1),e.partOf=null,this};Zt.prototype.onAdd=function(e){Tf.prototype.onAdd.call(this,e);for(var t=this,o=0;o<this.oneof.length;++o){var s=e.get(this.oneof[o]);s&&!s.partOf&&(s.partOf=t,t.fieldsArray.push(s))}xk(this)};Zt.prototype.onRemove=function(e){for(var t=0,o;t<this.fieldsArray.length;++t)(o=this.fieldsArray[t]).parent&&o.parent.remove(o);Tf.prototype.onRemove.call(this,e)};Zt.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(s,a){gf.decorateType(s.constructor).add(new Zt(a,e)),Object.defineProperty(s,a,{get:gf.oneOfGetter(e),set:gf.oneOfSetter(e)})}}});var cs=S((jTe,wk)=>{"use strict";wk.exports=Se;var LS=Di();((Se.prototype=Object.create(LS.prototype)).constructor=Se).className="Namespace";var Ik=kn(),yf=We(),SJ=ss(),as,Rl,ls;Se.fromJSON=function(e,t){return new Se(e,t.options).addJSON(t.nested)};function Mk(i,e){if(i&&i.length){for(var t={},o=0;o<i.length;++o)t[i[o].name]=i[o].toJSON(e);return t}}Se.arrayToJSON=Mk;Se.isReservedId=function(e,t){if(e){for(var o=0;o<e.length;++o)if(typeof e[o]!="string"&&e[o][0]<=t&&e[o][1]>t)return!0}return!1};Se.isReservedName=function(e,t){if(e){for(var o=0;o<e.length;++o)if(e[o]===t)return!0}return!1};function Se(i,e){LS.call(this,i,e),this.nested=void 0,this._nestedArray=null}function Lk(i){return i._nestedArray=null,i}Object.defineProperty(Se.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=yf.toArray(this.nested))}});Se.prototype.toJSON=function(e){return yf.toObject(["options",this.options,"nested",Mk(this.nestedArray,e)])};Se.prototype.addJSON=function(e){var t=this;if(e)for(var o=Object.keys(e),s=0,a;s<o.length;++s)a=e[o[s]],t.add((a.fields!==void 0?as.fromJSON:a.values!==void 0?ls.fromJSON:a.methods!==void 0?Rl.fromJSON:a.id!==void 0?Ik.fromJSON:Se.fromJSON)(o[s],a));return this};Se.prototype.get=function(e){return this.nested&&this.nested[e]||null};Se.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof ls)return this.nested[e].values;throw Error("no such enum: "+e)};Se.prototype.add=function(e){if(!(e instanceof Ik&&e.extend!==void 0||e instanceof as||e instanceof SJ||e instanceof ls||e instanceof Rl||e instanceof Se))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var t=this.get(e.name);if(t)if(t instanceof Se&&e instanceof Se&&!(t instanceof as||t instanceof Rl)){for(var o=t.nestedArray,s=0;s<o.length;++s)e.add(o[s]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}else throw Error("duplicate name '"+e.name+"' in "+this)}return this.nested[e.name]=e,e.onAdd(this),Lk(this)};Se.prototype.remove=function(e){if(!(e instanceof LS))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),Lk(this)};Se.prototype.define=function(e,t){if(yf.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&e[0]==="")throw Error("path must be relative");for(var o=this;e.length>0;){var s=e.shift();if(o.nested&&o.nested[s]){if(o=o.nested[s],!(o instanceof Se))throw Error("path conflicts with non-namespace objects")}else o.add(o=new Se(s))}return t&&o.addJSON(t),o};Se.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof Se?e[t++].resolveAll():e[t++].resolve();return this.resolve()};Se.prototype.lookup=function(e,t,o){if(typeof t=="boolean"?(o=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),yf.isString(e)&&e.length){if(e===".")return this.root;e=e.split(".")}else if(!e.length)return this;if(e[0]==="")return this.root.lookup(e.slice(1),t);var s=this.get(e[0]);if(s){if(e.length===1){if(!t||t.indexOf(s.constructor)>-1)return s}else if(s instanceof Se&&(s=s.lookup(e.slice(1),t,!0)))return s}else for(var a=0;a<this.nestedArray.length;++a)if(this._nestedArray[a]instanceof Se&&(s=this._nestedArray[a].lookup(e,t,!0)))return s;return this.parent===null||o?null:this.parent.lookup(e,t)};Se.prototype.lookupType=function(e){var t=this.lookup(e,[as]);if(!t)throw Error("no such type: "+e);return t};Se.prototype.lookupEnum=function(e){var t=this.lookup(e,[ls]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t};Se.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[as,ls]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t};Se.prototype.lookupService=function(e){var t=this.lookup(e,[Rl]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t};Se._configure=function(i,e,t){as=i,Rl=e,ls=t}});var vf=S((zTe,Dk)=>{"use strict";Dk.exports=on;var wS=kn();((on.prototype=Object.create(wS.prototype)).constructor=on).className="MapField";var gJ=wi(),bl=We();function on(i,e,t,o,s,a){if(wS.call(this,i,e,o,void 0,void 0,s,a),!bl.isString(t))throw TypeError("keyType must be a string");this.keyType=t,this.resolvedKeyType=null,this.map=!0}on.fromJSON=function(e,t){return new on(e,t.id,t.keyType,t.type,t.options,t.comment)};on.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return bl.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])};on.prototype.resolve=function(){if(this.resolved)return this;if(gJ.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return wS.prototype.resolve.call(this)};on.d=function(e,t,o){return typeof o=="function"?o=bl.decorateType(o).name:o&&typeof o=="object"&&(o=bl.decorateEnum(o).name),function(a,n){bl.decorateType(a.constructor).add(new on(n,e,t,o))}}});var Af=S(($Te,Uk)=>{"use strict";Uk.exports=Ui;var DS=Di();((Ui.prototype=Object.create(DS.prototype)).constructor=Ui).className="Method";var us=We();function Ui(i,e,t,o,s,a,n,r,l){if(us.isObject(s)?(n=s,s=a=void 0):us.isObject(a)&&(n=a,a=void 0),!(e===void 0||us.isString(e)))throw TypeError("type must be a string");if(!us.isString(t))throw TypeError("requestType must be a string");if(!us.isString(o))throw TypeError("responseType must be a string");DS.call(this,i,n),this.type=e||"rpc",this.requestType=t,this.requestStream=s?!0:void 0,this.responseType=o,this.responseStream=a?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=r,this.parsedOptions=l}Ui.fromJSON=function(e,t){return new Ui(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)};Ui.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return us.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])};Ui.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),DS.prototype.resolve.call(this))}});var Of=S((YTe,Bk)=>{"use strict";Bk.exports=er;var Bn=cs();((er.prototype=Object.create(Bn.prototype)).constructor=er).className="Service";var US=Af(),Cl=We(),TJ=CE();function er(i,e){Bn.call(this,i,e),this.methods={},this._methodsArray=null}er.fromJSON=function(e,t){var o=new er(e,t.options);if(t.methods)for(var s=Object.keys(t.methods),a=0;a<s.length;++a)o.add(US.fromJSON(s[a],t.methods[s[a]]));return t.nested&&o.addJSON(t.nested),o.comment=t.comment,o};er.prototype.toJSON=function(e){var t=Bn.prototype.toJSON.call(this,e),o=e?!!e.keepComments:!1;return Cl.toObject(["options",t&&t.options||void 0,"methods",Bn.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",o?this.comment:void 0])};Object.defineProperty(er.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=Cl.toArray(this.methods))}});function kk(i){return i._methodsArray=null,i}er.prototype.get=function(e){return this.methods[e]||Bn.prototype.get.call(this,e)};er.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return Bn.prototype.resolve.call(this)};er.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof US?(this.methods[e.name]=e,e.parent=this,kk(this)):Bn.prototype.add.call(this,e)};er.prototype.remove=function(e){if(e instanceof US){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,kk(this)}return Bn.prototype.remove.call(this,e)};er.prototype.create=function(e,t,o){for(var s=new TJ.Service(e,t,o),a=0,n;a<this.methodsArray.length;++a){var r=Cl.lcFirst((n=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");s[r]=Cl.codegen(["r","c"],Cl.isReserved(r)?r+"_":r)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return s}});var Rf=S((KTe,Vk)=>{"use strict";Vk.exports=Lr;var yJ=Nr();function Lr(i){if(i)for(var e=Object.keys(i),t=0;t<e.length;++t)this[e[t]]=i[e[t]]}Lr.create=function(e){return this.$type.create(e)};Lr.encode=function(e,t){return this.$type.encode(e,t)};Lr.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)};Lr.decode=function(e){return this.$type.decode(e)};Lr.decodeDelimited=function(e){return this.$type.decodeDelimited(e)};Lr.verify=function(e){return this.$type.verify(e)};Lr.fromObject=function(e){return this.$type.fromObject(e)};Lr.toObject=function(e,t){return this.$type.toObject(e,t)};Lr.prototype.toJSON=function(){return this.$type.toObject(this,yJ.toJSONOptions)}});var kS=S((WTe,qk)=>{"use strict";qk.exports=OJ;var vJ=hr(),sn=wi(),Fk=We();function AJ(i){return"missing required '"+i.name+"'"}function OJ(i){var e=Fk.codegen(["r","l"],i.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(i.fieldsArray.filter(function(r){return r.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");i.group&&e("if((t&7)===4)")("break"),e("switch(t>>>3){");for(var t=0;t<i.fieldsArray.length;++t){var o=i._fieldsArray[t].resolve(),s=o.resolvedType instanceof vJ?"int32":o.type,a="m"+Fk.safeProp(o.name);e("case %i: {",o.id),o.map?(e("if(%s===util.emptyObject)",a)("%s={}",a)("var c2 = r.uint32()+r.pos"),sn.defaults[o.keyType]!==void 0?e("k=%j",sn.defaults[o.keyType]):e("k=null"),sn.defaults[s]!==void 0?e("value=%j",sn.defaults[s]):e("value=null"),e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",o.keyType)("case 2:"),sn.basic[s]===void 0?e("value=types[%i].decode(r,r.uint32())",t):e("value=r.%s()",s),e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),sn.long[o.keyType]!==void 0?e('%s[typeof k==="object"?util.longToHash(k):k]=value',a):e("%s[k]=value",a)):o.repeated?(e("if(!(%s&&%s.length))",a,a)("%s=[]",a),sn.packed[s]!==void 0&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",a,s)("}else"),sn.basic[s]===void 0?e(o.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",a,t):e("%s.push(r.%s())",a,s)):sn.basic[s]===void 0?e(o.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",a,t):e("%s=r.%s()",a,s),e("break")("}")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),t=0;t<i._fieldsArray.length;++t){var n=i._fieldsArray[t];n.required&&e("if(!m.hasOwnProperty(%j))",n.name)("throw util.ProtocolError(%j,{instance:m})",AJ(n))}return e("return m")}});var FS=S((XTe,Gk)=>{"use strict";Gk.exports=CJ;var RJ=hr(),BS=We();function tr(i,e){return i.name+": "+e+(i.repeated&&e!=="array"?"[]":i.map&&e!=="object"?"{k:"+i.keyType+"}":"")+" expected"}function VS(i,e,t,o){if(e.resolvedType)if(e.resolvedType instanceof RJ){i("switch(%s){",o)("default:")("return%j",tr(e,"enum value"));for(var s=Object.keys(e.resolvedType.values),a=0;a<s.length;++a)i("case %i:",e.resolvedType.values[s[a]]);i("break")("}")}else i("{")("var e=types[%i].verify(%s);",t,o)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":i("if(!util.isInteger(%s))",o)("return%j",tr(e,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":i("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",o,o,o,o)("return%j",tr(e,"integer|Long"));break;case"float":case"double":i('if(typeof %s!=="number")',o)("return%j",tr(e,"number"));break;case"bool":i('if(typeof %s!=="boolean")',o)("return%j",tr(e,"boolean"));break;case"string":i("if(!util.isString(%s))",o)("return%j",tr(e,"string"));break;case"bytes":i('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',o,o,o)("return%j",tr(e,"buffer"));break}return i}function bJ(i,e,t){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":i("if(!util.key32Re.test(%s))",t)("return%j",tr(e,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":i("if(!util.key64Re.test(%s))",t)("return%j",tr(e,"integer|Long key"));break;case"bool":i("if(!util.key2Re.test(%s))",t)("return%j",tr(e,"boolean key"));break}return i}function CJ(i){var e=BS.codegen(["m"],i.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),t=i.oneofsArray,o={};t.length&&e("var p={}");for(var s=0;s<i.fieldsArray.length;++s){var a=i._fieldsArray[s].resolve(),n="m"+BS.safeProp(a.name);if(a.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",n,a.name),a.map)e("if(!util.isObject(%s))",n)("return%j",tr(a,"object"))("var k=Object.keys(%s)",n)("for(var i=0;i<k.length;++i){"),bJ(e,a,"k[i]"),VS(e,a,s,n+"[k[i]]")("}");else if(a.repeated)e("if(!Array.isArray(%s))",n)("return%j",tr(a,"array"))("for(var i=0;i<%s.length;++i){",n),VS(e,a,s,n+"[i]")("}");else{if(a.partOf){var r=BS.safeProp(a.partOf.name);o[a.partOf.name]===1&&e("if(p%s===1)",r)("return%j",a.partOf.name+": multiple values"),o[a.partOf.name]=1,e("p%s=1",r)}VS(e,a,s,n)}a.optional&&e("}")}return e("return null")}});var HS=S(jk=>{"use strict";var Hk=jk,Nl=hr(),wr=We();function qS(i,e,t,o){var s=!1;if(e.resolvedType)if(e.resolvedType instanceof Nl){i("switch(d%s){",o);for(var a=e.resolvedType.values,n=Object.keys(a),r=0;r<n.length;++r)a[n[r]]===e.typeDefault&&!s&&(i("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',o,o,o),e.repeated||i("break"),s=!0),i("case%j:",n[r])("case %i:",a[n[r]])("m%s=%j",o,a[n[r]])("break");i("}")}else i('if(typeof d%s!=="object")',o)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",o,t,o);else{var l=!1;switch(e.type){case"double":case"float":i("m%s=Number(d%s)",o,o);break;case"uint32":case"fixed32":i("m%s=d%s>>>0",o,o);break;case"int32":case"sint32":case"sfixed32":i("m%s=d%s|0",o,o);break;case"uint64":l=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":i("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",o,o,l)('else if(typeof d%s==="string")',o)("m%s=parseInt(d%s,10)",o,o)('else if(typeof d%s==="number")',o)("m%s=d%s",o,o)('else if(typeof d%s==="object")',o)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",o,o,o,l?"true":"");break;case"bytes":i('if(typeof d%s==="string")',o)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",o,o,o)("else if(d%s.length >= 0)",o)("m%s=d%s",o,o);break;case"string":i("m%s=String(d%s)",o,o);break;case"bool":i("m%s=Boolean(d%s)",o,o);break}}return i}Hk.fromObject=function(e){var t=e.fieldsArray,o=wr.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return o("return new this.ctor");o("var m=new this.ctor");for(var s=0;s<t.length;++s){var a=t[s].resolve(),n=wr.safeProp(a.name);a.map?(o("if(d%s){",n)('if(typeof d%s!=="object")',n)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",n)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",n),qS(o,a,s,n+"[ks[i]]")("}")("}")):a.repeated?(o("if(d%s){",n)("if(!Array.isArray(d%s))",n)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",n)("for(var i=0;i<d%s.length;++i){",n),qS(o,a,s,n+"[i]")("}")("}")):(a.resolvedType instanceof Nl||o("if(d%s!=null){",n),qS(o,a,s,n),a.resolvedType instanceof Nl||o("}"))}return o("return m")};function GS(i,e,t,o){if(e.resolvedType)e.resolvedType instanceof Nl?i("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",o,t,o,o,t,o,o):i("d%s=types[%i].toObject(m%s,o)",o,t,o);else{var s=!1;switch(e.type){case"double":case"float":i("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",o,o,o,o);break;case"uint64":s=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":i('if(typeof m%s==="number")',o)("d%s=o.longs===String?String(m%s):m%s",o,o,o)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",o,o,o,o,s?"true":"",o);break;case"bytes":i("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",o,o,o,o,o);break;default:i("d%s=m%s",o,o);break}}return i}Hk.toObject=function(e){var t=e.fieldsArray.slice().sort(wr.compareFieldsById);if(!t.length)return wr.codegen()("return {}");for(var o=wr.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),s=[],a=[],n=[],r=0;r<t.length;++r)t[r].partOf||(t[r].resolve().repeated?s:t[r].map?a:n).push(t[r]);if(s.length){for(o("if(o.arrays||o.defaults){"),r=0;r<s.length;++r)o("d%s=[]",wr.safeProp(s[r].name));o("}")}if(a.length){for(o("if(o.objects||o.defaults){"),r=0;r<a.length;++r)o("d%s={}",wr.safeProp(a[r].name));o("}")}if(n.length){for(o("if(o.defaults){"),r=0;r<n.length;++r){var l=n[r],c=wr.safeProp(l.name);if(l.resolvedType instanceof Nl)o("d%s=o.enums===String?%j:%j",c,l.resolvedType.valuesById[l.typeDefault],l.typeDefault);else if(l.long)o("if(util.Long){")("var n=new util.Long(%i,%i,%j)",l.typeDefault.low,l.typeDefault.high,l.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",c)("}else")("d%s=o.longs===String?%j:%i",c,l.typeDefault.toString(),l.typeDefault.toNumber());else if(l.bytes){var u="["+Array.prototype.slice.call(l.typeDefault).join(",")+"]";o("if(o.bytes===String)d%s=%j",c,String.fromCharCode.apply(String,l.typeDefault))("else{")("d%s=%s",c,u)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",c,c)("}")}else o("d%s=%j",c,l.typeDefault)}o("}")}var d=!1;for(r=0;r<t.length;++r){var l=t[r],_=e._fieldsArray.indexOf(l),c=wr.safeProp(l.name);l.map?(d||(d=!0,o("var ks2")),o("if(m%s&&(ks2=Object.keys(m%s)).length){",c,c)("d%s={}",c)("for(var j=0;j<ks2.length;++j){"),GS(o,l,_,c+"[ks2[j]]")("}")):l.repeated?(o("if(m%s&&m%s.length){",c,c)("d%s=[]",c)("for(var j=0;j<m%s.length;++j){",c),GS(o,l,_,c+"[j]")("}")):(o("if(m%s!=null&&m.hasOwnProperty(%j)){",c,l.name),GS(o,l,_,c),l.partOf&&o("if(o.oneofs)")("d%s=%j",wr.safeProp(l.partOf.name),l.name)),o("}")}return o("return d")}});var jS=S(zk=>{"use strict";var NJ=zk,xJ=Rf();NJ[".google.protobuf.Any"]={fromObject:function(i){if(i&&i["@type"]){var e=i["@type"].substring(i["@type"].lastIndexOf("/")+1),t=this.lookup(e);if(t){var o=i["@type"].charAt(0)==="."?i["@type"].slice(1):i["@type"];return o.indexOf("/")===-1&&(o="/"+o),this.create({type_url:o,value:t.encode(t.fromObject(i)).finish()})}}return this.fromObject(i)},toObject:function(i,e){var t="type.googleapis.com/",o="",s="";if(e&&e.json&&i.type_url&&i.value){s=i.type_url.substring(i.type_url.lastIndexOf("/")+1),o=i.type_url.substring(0,i.type_url.lastIndexOf("/")+1);var a=this.lookup(s);a&&(i=a.decode(i.value))}if(!(i instanceof this.ctor)&&i instanceof xJ){var n=i.$type.toObject(i,e),r=i.$type.fullName[0]==="."?i.$type.fullName.slice(1):i.$type.fullName;return o===""&&(o=t),s=o+r,n["@type"]=s,n}return this.toObject(i,e)}}});var Nf=S((ZTe,Yk)=>{"use strict";Yk.exports=Oe;var mr=cs();((Oe.prototype=Object.create(mr.prototype)).constructor=Oe).className="Type";var PJ=hr(),YS=ss(),bf=kn(),IJ=vf(),MJ=Of(),zS=Rf(),$S=zd(),LJ=Hd(),ut=We(),wJ=KS(),DJ=kS(),UJ=FS(),$k=HS(),kJ=jS();function Oe(i,e){mr.call(this,i,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(Oe.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var i=Object.keys(this.fields),e=0;e<i.length;++e){var t=this.fields[i[e]],o=t.id;if(this._fieldsById[o])throw Error("duplicate id "+o+" in "+this);this._fieldsById[o]=t}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=ut.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=ut.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=Oe.generateConstructor(this)())},set:function(i){var e=i.prototype;e instanceof zS||((i.prototype=new zS).constructor=i,ut.merge(i.prototype,e)),i.$type=i.prototype.$type=this,ut.merge(i,zS,!0),this._ctor=i;for(var t=0;t<this.fieldsArray.length;++t)this._fieldsArray[t].resolve();var o={};for(t=0;t<this.oneofsArray.length;++t)o[this._oneofsArray[t].resolve().name]={get:ut.oneOfGetter(this._oneofsArray[t].oneof),set:ut.oneOfSetter(this._oneofsArray[t].oneof)};t&&Object.defineProperties(i.prototype,o)}}});Oe.generateConstructor=function(e){for(var t=ut.codegen(["p"],e.name),o=0,s;o<e.fieldsArray.length;++o)(s=e._fieldsArray[o]).map?t("this%s={}",ut.safeProp(s.name)):s.repeated&&t("this%s=[]",ut.safeProp(s.name));return t("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function Cf(i){return i._fieldsById=i._fieldsArray=i._oneofsArray=null,delete i.encode,delete i.decode,delete i.verify,i}Oe.fromJSON=function(e,t){var o=new Oe(e,t.options);o.extensions=t.extensions,o.reserved=t.reserved;for(var s=Object.keys(t.fields),a=0;a<s.length;++a)o.add((typeof t.fields[s[a]].keyType<"u"?IJ.fromJSON:bf.fromJSON)(s[a],t.fields[s[a]]));if(t.oneofs)for(s=Object.keys(t.oneofs),a=0;a<s.length;++a)o.add(YS.fromJSON(s[a],t.oneofs[s[a]]));if(t.nested)for(s=Object.keys(t.nested),a=0;a<s.length;++a){var n=t.nested[s[a]];o.add((n.id!==void 0?bf.fromJSON:n.fields!==void 0?Oe.fromJSON:n.values!==void 0?PJ.fromJSON:n.methods!==void 0?MJ.fromJSON:mr.fromJSON)(s[a],n))}return t.extensions&&t.extensions.length&&(o.extensions=t.extensions),t.reserved&&t.reserved.length&&(o.reserved=t.reserved),t.group&&(o.group=!0),t.comment&&(o.comment=t.comment),o};Oe.prototype.toJSON=function(e){var t=mr.prototype.toJSON.call(this,e),o=e?!!e.keepComments:!1;return ut.toObject(["options",t&&t.options||void 0,"oneofs",mr.arrayToJSON(this.oneofsArray,e),"fields",mr.arrayToJSON(this.fieldsArray.filter(function(s){return!s.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",o?this.comment:void 0])};Oe.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var o=this.oneofsArray;for(t=0;t<o.length;)o[t++].resolve();return mr.prototype.resolveAll.call(this)};Oe.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null};Oe.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof bf&&e.extend===void 0){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),Cf(this)}return e instanceof YS?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),Cf(this)):mr.prototype.add.call(this,e)};Oe.prototype.remove=function(e){if(e instanceof bf&&e.extend===void 0){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),Cf(this)}if(e instanceof YS){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),Cf(this)}return mr.prototype.remove.call(this,e)};Oe.prototype.isReservedId=function(e){return mr.isReservedId(this.reserved,e)};Oe.prototype.isReservedName=function(e){return mr.isReservedName(this.reserved,e)};Oe.prototype.create=function(e){return new this.ctor(e)};Oe.prototype.setup=function(){for(var e=this.fullName,t=[],o=0;o<this.fieldsArray.length;++o)t.push(this._fieldsArray[o].resolve().resolvedType);this.encode=wJ(this)({Writer:LJ,types:t,util:ut}),this.decode=DJ(this)({Reader:$S,types:t,util:ut}),this.verify=UJ(this)({types:t,util:ut}),this.fromObject=$k.fromObject(this)({types:t,util:ut}),this.toObject=$k.toObject(this)({types:t,util:ut});var s=kJ[e];if(s){var a=Object.create(this);a.fromObject=this.fromObject,this.fromObject=s.fromObject.bind(a),a.toObject=this.toObject,this.toObject=s.toObject.bind(a)}return this};Oe.prototype.encode=function(e,t){return this.setup().encode(e,t)};Oe.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()};Oe.prototype.decode=function(e,t){return this.setup().decode(e,t)};Oe.prototype.decodeDelimited=function(e){return e instanceof $S||(e=$S.create(e)),this.decode(e,e.uint32())};Oe.prototype.verify=function(e){return this.setup().verify(e)};Oe.prototype.fromObject=function(e){return this.setup().fromObject(e)};Oe.prototype.toObject=function(e,t){return this.setup().toObject(e,t)};Oe.d=function(e){return function(o){ut.decorateType(o,e)}}});var If=S((eye,Qk)=>{"use strict";Qk.exports=wt;var Pf=cs();((wt.prototype=Object.create(Pf.prototype)).constructor=wt).className="Root";var XS=kn(),Wk=hr(),BJ=ss(),Vn=We(),Xk,WS,xl;function wt(i){Pf.call(this,"",i),this.deferred=[],this.files=[]}wt.fromJSON=function(e,t){return t||(t=new wt),e.options&&t.setOptions(e.options),t.addJSON(e.nested)};wt.prototype.resolvePath=Vn.path.resolve;wt.prototype.fetch=Vn.fetch;function Jk(){}wt.prototype.load=function i(e,t,o){typeof t=="function"&&(o=t,t=void 0);var s=this;if(!o)return Vn.asPromise(i,s,e,t);var a=o===Jk;function n(E,A){if(o){if(a)throw E;var T=o;o=null,T(E,A)}}function r(E){var A=E.lastIndexOf("google/protobuf/");if(A>-1){var T=E.substring(A);if(T in xl)return T}return null}function l(E,A){try{if(Vn.isString(A)&&A.charAt(0)==="{"&&(A=JSON.parse(A)),!Vn.isString(A))s.setOptions(A.options).addJSON(A.nested);else{WS.filename=E;var T=WS(A,s,t),R,O=0;if(T.imports)for(;O<T.imports.length;++O)(R=r(T.imports[O])||s.resolvePath(E,T.imports[O]))&&c(R);if(T.weakImports)for(O=0;O<T.weakImports.length;++O)(R=r(T.weakImports[O])||s.resolvePath(E,T.weakImports[O]))&&c(R,!0)}}catch(C){n(C)}!a&&!u&&n(null,s)}function c(E,A){if(E=r(E)||E,!(s.files.indexOf(E)>-1)){if(s.files.push(E),E in xl){a?l(E,xl[E]):(++u,setTimeout(function(){--u,l(E,xl[E])}));return}if(a){var T;try{T=Vn.fs.readFileSync(E).toString("utf8")}catch(R){A||n(R);return}l(E,T)}else++u,s.fetch(E,function(R,O){if(--u,!!o){if(R){A?u||n(null,s):n(R);return}l(E,O)}})}}var u=0;Vn.isString(e)&&(e=[e]);for(var d=0,_;d<e.length;++d)(_=s.resolvePath("",e[d]))&&c(_);if(a)return s;u||n(null,s)};wt.prototype.loadSync=function(e,t){if(!Vn.isNode)throw Error("not supported");return this.load(e,t,Jk)};wt.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return Pf.prototype.resolveAll.call(this)};var xf=/^[A-Z]/;function Kk(i,e){var t=e.parent.lookup(e.extend);if(t){var o=new XS(e.fullName,e.id,e.type,e.rule,void 0,e.options);return t.get(o.name)||(o.declaringField=e,e.extensionField=o,t.add(o)),!0}return!1}wt.prototype._handleAdd=function(e){if(e instanceof XS)e.extend!==void 0&&!e.extensionField&&(Kk(this,e)||this.deferred.push(e));else if(e instanceof Wk)xf.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof BJ)){if(e instanceof Xk)for(var t=0;t<this.deferred.length;)Kk(this,this.deferred[t])?this.deferred.splice(t,1):++t;for(var o=0;o<e.nestedArray.length;++o)this._handleAdd(e._nestedArray[o]);xf.test(e.name)&&(e.parent[e.name]=e)}};wt.prototype._handleRemove=function(e){if(e instanceof XS){if(e.extend!==void 0)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof Wk)xf.test(e.name)&&delete e.parent[e.name];else if(e instanceof Pf){for(var o=0;o<e.nestedArray.length;++o)this._handleRemove(e._nestedArray[o]);xf.test(e.name)&&delete e.parent[e.name]}};wt._configure=function(i,e,t){Xk=i,WS=e,xl=t}});var We=S((tye,eB)=>{"use strict";var Be=eB.exports=Nr(),Zk=NE(),JS,QS;Be.codegen=Sk();Be.fetch=Tk();Be.path=Ak();Be.fs=Be.inquire("fs");Be.toArray=function(e){if(e){for(var t=Object.keys(e),o=new Array(t.length),s=0;s<t.length;)o[s]=e[t[s++]];return o}return[]};Be.toObject=function(e){for(var t={},o=0;o<e.length;){var s=e[o++],a=e[o++];a!==void 0&&(t[s]=a)}return t};var VJ=/\\/g,FJ=/"/g;Be.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)};Be.safeProp=function(e){return!/^[$\w_]+$/.test(e)||Be.isReserved(e)?'["'+e.replace(VJ,"\\\\").replace(FJ,'\\"')+'"]':"."+e};Be.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var qJ=/_([a-z])/g;Be.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(qJ,function(t,o){return o.toUpperCase()})};Be.compareFieldsById=function(e,t){return e.id-t.id};Be.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(Be.decorateRoot.remove(e.$type),e.$type.name=t,Be.decorateRoot.add(e.$type)),e.$type;JS||(JS=Nf());var o=new JS(t||e.name);return Be.decorateRoot.add(o),o.ctor=e,Object.defineProperty(e,"$type",{value:o,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:o,enumerable:!1}),o};var GJ=0;Be.decorateEnum=function(e){if(e.$type)return e.$type;QS||(QS=hr());var t=new QS("Enum"+GJ++,e);return Be.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t};Be.setProperty=function(e,t,o){function s(a,n,r){var l=n.shift();if(l==="__proto__"||l==="prototype")return a;if(n.length>0)a[l]=s(a[l]||{},n,r);else{var c=a[l];c&&(r=[].concat(c).concat(r)),a[l]=r}return a}if(typeof e!="object")throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return t=t.split("."),s(e,t,o)};Object.defineProperty(Be,"decorateRoot",{get:function(){return Zk.decorated||(Zk.decorated=new(If()))}})});var Di=S((rye,tB)=>{"use strict";tB.exports=Dt;Dt.className="ReflectionObject";var Mf=We(),Lf;function Dt(i,e){if(!Mf.isString(i))throw TypeError("name must be a string");if(e&&!Mf.isObject(e))throw TypeError("options must be an object");this.options=e,this.parsedOptions=null,this.name=i,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(Dt.prototype,{root:{get:function(){for(var i=this;i.parent!==null;)i=i.parent;return i}},fullName:{get:function(){for(var i=[this.name],e=this.parent;e;)i.unshift(e.name),e=e.parent;return i.join(".")}}});Dt.prototype.toJSON=function(){throw Error()};Dt.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof Lf&&t._handleAdd(this)};Dt.prototype.onRemove=function(e){var t=e.root;t instanceof Lf&&t._handleRemove(this),this.parent=null,this.resolved=!1};Dt.prototype.resolve=function(){return this.resolved?this:(this.root instanceof Lf&&(this.resolved=!0),this)};Dt.prototype.getOption=function(e){if(this.options)return this.options[e]};Dt.prototype.setOption=function(e,t,o){return(!o||!this.options||this.options[e]===void 0)&&((this.options||(this.options={}))[e]=t),this};Dt.prototype.setParsedOption=function(e,t,o){this.parsedOptions||(this.parsedOptions=[]);var s=this.parsedOptions;if(o){var a=s.find(function(l){return Object.prototype.hasOwnProperty.call(l,e)});if(a){var n=a[e];Mf.setProperty(n,o,t)}else a={},a[e]=Mf.setProperty({},o,t),s.push(a)}else{var r={};r[e]=t,s.push(r)}return this};Dt.prototype.setOptions=function(e,t){if(e)for(var o=Object.keys(e),s=0;s<o.length;++s)this.setOption(o[s],e[o[s]],t);return this};Dt.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e};Dt._configure=function(i){Lf=i}});var hr=S((nye,iB)=>{"use strict";iB.exports=Dr;var rB=Di();((Dr.prototype=Object.create(rB.prototype)).constructor=Dr).className="Enum";var nB=cs(),wf=We();function Dr(i,e,t,o,s,a){if(rB.call(this,i,t),e&&typeof e!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=o,this.comments=s||{},this.valuesOptions=a,this.reserved=void 0,e)for(var n=Object.keys(e),r=0;r<n.length;++r)typeof e[n[r]]=="number"&&(this.valuesById[this.values[n[r]]=e[n[r]]]=n[r])}Dr.fromJSON=function(e,t){var o=new Dr(e,t.values,t.options,t.comment,t.comments);return o.reserved=t.reserved,o};Dr.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return wf.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])};Dr.prototype.add=function(e,t,o,s){if(!wf.isString(e))throw TypeError("name must be a string");if(!wf.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==void 0)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[t]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return s&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[e]=s||null),this.comments[e]=o||null,this};Dr.prototype.remove=function(e){if(!wf.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(t==null)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this};Dr.prototype.isReservedId=function(e){return nB.isReservedId(this.reserved,e)};Dr.prototype.isReservedName=function(e){return nB.isReservedName(this.reserved,e)}});var KS=S((iye,sB)=>{"use strict";sB.exports=jJ;var HJ=hr(),ZS=wi(),eg=We();function oB(i,e,t,o){return e.resolvedType.group?i("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",t,o,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):i("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",t,o,(e.id<<3|2)>>>0)}function jJ(i){for(var e=eg.codegen(["m","w"],i.name+"$encode")("if(!w)")("w=Writer.create()"),t,o,s=i.fieldsArray.slice().sort(eg.compareFieldsById),t=0;t<s.length;++t){var a=s[t].resolve(),n=i._fieldsArray.indexOf(a),r=a.resolvedType instanceof HJ?"int32":a.type,l=ZS.basic[r];o="m"+eg.safeProp(a.name),a.map?(e("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",o,a.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",o)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(a.id<<3|2)>>>0,8|ZS.mapKey[a.keyType],a.keyType),l===void 0?e("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",n,o):e(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|l,r,o),e("}")("}")):a.repeated?(e("if(%s!=null&&%s.length){",o,o),a.packed&&ZS.packed[r]!==void 0?e("w.uint32(%i).fork()",(a.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",o)("w.%s(%s[i])",r,o)("w.ldelim()"):(e("for(var i=0;i<%s.length;++i)",o),l===void 0?oB(e,a,n,o+"[i]"):e("w.uint32(%i).%s(%s[i])",(a.id<<3|l)>>>0,r,o)),e("}")):(a.optional&&e("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",o,a.name),l===void 0?oB(e,a,n,o):e("w.uint32(%i).%s(%s)",(a.id<<3|l)>>>0,r,o))}return e("return w")}});var lB=S((oye,aB)=>{"use strict";var pe=aB.exports=xE();pe.build="light";function zJ(i,e,t){return typeof e=="function"?(t=e,e=new pe.Root):e||(e=new pe.Root),e.load(i,t)}pe.load=zJ;function $J(i,e){return e||(e=new pe.Root),e.loadSync(i)}pe.loadSync=$J;pe.encoder=KS();pe.decoder=kS();pe.verifier=FS();pe.converter=HS();pe.ReflectionObject=Di();pe.Namespace=cs();pe.Root=If();pe.Enum=hr();pe.Type=Nf();pe.Field=kn();pe.OneOf=ss();pe.MapField=vf();pe.Service=Of();pe.Method=Af();pe.Message=Rf();pe.wrappers=jS();pe.types=wi();pe.util=We();pe.ReflectionObject._configure(pe.Root);pe.Namespace._configure(pe.Type,pe.Service,pe.Enum);pe.Root._configure(pe.Type);pe.Field._configure(pe.Type)});var rg=S((sye,dB)=>{"use strict";dB.exports=uB;var tg=/[\s{}=;:[\],'"()<>]/g,YJ=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,KJ=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,WJ=/^ *[*/]+ */,XJ=/^\s*\*?\/*/,JJ=/\n/g,QJ=/\s/,ZJ=/\\(.?)/g,eQ={0:"\0",r:"\r",n:`
`,t:"	"};function cB(i){return i.replace(ZJ,function(e,t){switch(t){case"\\":case"":return t;default:return eQ[t]||""}})}uB.unescape=cB;function uB(i,e){i=i.toString();var t=0,o=i.length,s=1,a=0,n={},r=[],l=null;function c(I){return Error("illegal "+I+" (line "+s+")")}function u(){var I=l==="'"?KJ:YJ;I.lastIndex=t-1;var z=I.exec(i);if(!z)throw c("string");return t=I.lastIndex,R(l),l=null,cB(z[1])}function d(I){return i.charAt(I)}function _(I,z,j){var q={type:i.charAt(I++),lineEmpty:!1,leading:j},oe;e?oe=2:oe=3;var Z=I-oe,le;do if(--Z<0||(le=i.charAt(Z))===`
`){q.lineEmpty=!0;break}while(le===" "||le==="	");for(var y=i.substring(I,z).split(JJ),B=0;B<y.length;++B)y[B]=y[B].replace(e?XJ:WJ,"").trim();q.text=y.join(`
`).trim(),n[s]=q,a=s}function E(I){var z=A(I),j=i.substring(I,z),q=/^\s*\/\//.test(j);return q}function A(I){for(var z=I;z<o&&d(z)!==`
`;)z++;return z}function T(){if(r.length>0)return r.shift();if(l)return u();var I,z,j,q,oe,Z=t===0;do{if(t===o)return null;for(I=!1;QJ.test(j=d(t));)if(j===`
`&&(Z=!0,++s),++t===o)return null;if(d(t)==="/"){if(++t===o)throw c("comment");if(d(t)==="/")if(e){if(q=t,oe=!1,E(t-1)){oe=!0;do if(t=A(t),t===o||(t++,!Z))break;while(E(t))}else t=Math.min(o,A(t)+1);oe&&(_(q,t,Z),Z=!0),s++,I=!0}else{for(oe=d(q=t+1)==="/";d(++t)!==`
`;)if(t===o)return null;++t,oe&&(_(q,t-1,Z),Z=!0),++s,I=!0}else if((j=d(t))==="*"){q=t+1,oe=e||d(q)==="*";do{if(j===`
`&&++s,++t===o)throw c("comment");z=j,j=d(t)}while(z!=="*"||j!=="/");++t,oe&&(_(q,t-2,Z),Z=!0),I=!0}else return"/"}}while(I);var le=t;tg.lastIndex=0;var y=tg.test(d(le++));if(!y)for(;le<o&&!tg.test(d(le));)++le;var B=i.substring(t,t=le);return(B==='"'||B==="'")&&(l=B),B}function R(I){r.push(I)}function O(){if(!r.length){var I=T();if(I===null)return null;R(I)}return r[0]}function C(I,z){var j=O(),q=j===I;if(q)return T(),!0;if(!z)throw c("token '"+j+"', '"+I+"' expected");return!1}function L(I){var z=null,j;return I===void 0?(j=n[s-1],delete n[s-1],j&&(e||j.type==="*"||j.lineEmpty)&&(z=j.leading?j.text:null)):(a<I&&O(),j=n[I],delete n[I],j&&!j.lineEmpty&&(e||j.type==="/")&&(z=j.leading?null:j.text)),z}return Object.defineProperty({next:T,peek:O,push:R,skip:C,cmnt:L},"line",{get:function(){return s}})}});var EB=S((aye,_B)=>{"use strict";_B.exports=an;an.filename=null;an.defaults={keepCase:!1};var tQ=rg(),fB=If(),pB=Nf(),hB=kn(),rQ=vf(),mB=ss(),nQ=hr(),iQ=Of(),oQ=Af(),ng=wi(),ig=We(),sQ=/^[1-9][0-9]*$/,aQ=/^-?[1-9][0-9]*$/,lQ=/^0[x][0-9a-fA-F]+$/,cQ=/^-?0[x][0-9a-fA-F]+$/,uQ=/^0[0-7]+$/,dQ=/^-?0[0-7]+$/,fQ=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,Ur=/^[a-zA-Z_][a-zA-Z_0-9]*$/,kr=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,pQ=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function an(i,e,t){e instanceof fB||(t=e,e=new fB),t||(t=an.defaults);var o=t.preferTrailingComment||!1,s=tQ(i,t.alternateCommentMode||!1),a=s.next,n=s.push,r=s.peek,l=s.skip,c=s.cmnt,u=!0,d,_,E,A,T=!1,R=e,O=t.keepCase?function(x){return x}:ig.camelCase;function C(x,N,M){var H=an.filename;return M||(an.filename=null),Error("illegal "+(N||"token")+" '"+x+"' ("+(H?H+", ":"")+"line "+s.line+")")}function L(){var x=[],N;do{if((N=a())!=='"'&&N!=="'")throw C(N);x.push(a()),l(N),N=r()}while(N==='"'||N==="'");return x.join("")}function I(x){var N=a();switch(N){case"'":case'"':return n(N),L();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return j(N,!0)}catch{if(x&&kr.test(N))return N;throw C(N,"value")}}function z(x,N){var M,H;do N&&((M=r())==='"'||M==="'")?x.push(L()):x.push([H=q(a()),l("to",!0)?q(a()):H]);while(l(",",!0));var V={options:void 0};V.setOption=function(ie,Pe){this.options===void 0&&(this.options={}),this.options[ie]=Pe},B(V,function(Pe){if(Pe==="option")de(V,Pe),l(";");else throw C(Pe)},function(){Le(V)})}function j(x,N){var M=1;switch(x.charAt(0)==="-"&&(M=-1,x=x.substring(1)),x){case"inf":case"INF":case"Inf":return M*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(sQ.test(x))return M*parseInt(x,10);if(lQ.test(x))return M*parseInt(x,16);if(uQ.test(x))return M*parseInt(x,8);if(fQ.test(x))return M*parseFloat(x);throw C(x,"number",N)}function q(x,N){switch(x){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!N&&x.charAt(0)==="-")throw C(x,"id");if(aQ.test(x))return parseInt(x,10);if(cQ.test(x))return parseInt(x,16);if(dQ.test(x))return parseInt(x,8);throw C(x,"id")}function oe(){if(d!==void 0)throw C("package");if(d=a(),!kr.test(d))throw C(d,"name");R=R.define(d),l(";")}function Z(){var x=r(),N;switch(x){case"weak":N=E||(E=[]),a();break;case"public":a();default:N=_||(_=[]);break}x=L(),l(";"),N.push(x)}function le(){if(l("="),A=L(),T=A==="proto3",!T&&A!=="proto2")throw C(A,"syntax");l(";")}function y(x,N){switch(N){case"option":return de(x,N),l(";"),!0;case"message":return b(x,N),!0;case"enum":return K(x,N),!0;case"service":return ye(x,N),!0;case"extend":return it(x,N),!0}return!1}function B(x,N,M){var H=s.line;if(x&&(typeof x.comment!="string"&&(x.comment=c()),x.filename=an.filename),l("{",!0)){for(var V;(V=a())!=="}";)N(V);l(";",!0)}else M&&M(),l(";"),x&&(typeof x.comment!="string"||o)&&(x.comment=c(H)||x.comment)}function b(x,N){if(!Ur.test(N=a()))throw C(N,"type name");var M=new pB(N);B(M,function(V){if(!y(M,V))switch(V){case"map":J(M,V);break;case"required":case"repeated":h(M,V);break;case"optional":T?h(M,"proto3_optional"):h(M,"optional");break;case"oneof":Q(M,V);break;case"extensions":z(M.extensions||(M.extensions=[]));break;case"reserved":z(M.reserved||(M.reserved=[]),!0);break;default:if(!T||!kr.test(V))throw C(V);n(V),h(M,"optional");break}}),x.add(M)}function h(x,N,M){var H=a();if(H==="group"){P(x,N);return}for(;H.endsWith(".")||r().startsWith(".");)H+=a();if(!kr.test(H))throw C(H,"type");var V=a();if(!Ur.test(V))throw C(V,"name");V=O(V),l("=");var ie=new hB(V,q(a()),H,N,M);if(B(ie,function(Nt){if(Nt==="option")de(ie,Nt),l(";");else throw C(Nt)},function(){Le(ie)}),N==="proto3_optional"){var Pe=new mB("_"+V);ie.setOption("proto3_optional",!0),Pe.add(ie),x.add(Pe)}else x.add(ie);!T&&ie.repeated&&(ng.packed[H]!==void 0||ng.basic[H]===void 0)&&ie.setOption("packed",!1,!0)}function P(x,N){var M=a();if(!Ur.test(M))throw C(M,"name");var H=ig.lcFirst(M);M===H&&(M=ig.ucFirst(M)),l("=");var V=q(a()),ie=new pB(M);ie.group=!0;var Pe=new hB(H,V,M,N);Pe.filename=an.filename,B(ie,function(Nt){switch(Nt){case"option":de(ie,Nt),l(";");break;case"required":case"repeated":h(ie,Nt);break;case"optional":T?h(ie,"proto3_optional"):h(ie,"optional");break;case"message":b(ie,Nt);break;case"enum":K(ie,Nt);break;default:throw C(Nt)}}),x.add(ie).add(Pe)}function J(x){l("<");var N=a();if(ng.mapKey[N]===void 0)throw C(N,"type");l(",");var M=a();if(!kr.test(M))throw C(M,"type");l(">");var H=a();if(!Ur.test(H))throw C(H,"name");l("=");var V=new rQ(O(H),q(a()),N,M);B(V,function(Pe){if(Pe==="option")de(V,Pe),l(";");else throw C(Pe)},function(){Le(V)}),x.add(V)}function Q(x,N){if(!Ur.test(N=a()))throw C(N,"name");var M=new mB(O(N));B(M,function(V){V==="option"?(de(M,V),l(";")):(n(V),h(M,"optional"))}),x.add(M)}function K(x,N){if(!Ur.test(N=a()))throw C(N,"name");var M=new nQ(N);B(M,function(V){switch(V){case"option":de(M,V),l(";");break;case"reserved":z(M.reserved||(M.reserved=[]),!0);break;default:ue(M,V)}}),x.add(M)}function ue(x,N){if(!Ur.test(N))throw C(N,"name");l("=");var M=q(a(),!0),H={options:void 0};H.setOption=function(V,ie){this.options===void 0&&(this.options={}),this.options[V]=ie},B(H,function(ie){if(ie==="option")de(H,ie),l(";");else throw C(ie)},function(){Le(H)}),x.add(N,M,H.comment,H.options)}function de(x,N){var M=l("(",!0);if(!kr.test(N=a()))throw C(N,"name");var H=N,V=H,ie;M&&(l(")"),H="("+H+")",V=H,N=r(),pQ.test(N)&&(ie=N.slice(1),H+=N,a())),l("=");var Pe=xe(x,H);se(x,V,Pe,ie)}function xe(x,N){if(l("{",!0)){for(var M={};!l("}",!0);){if(!Ur.test(De=a()))throw C(De,"name");if(De===null)throw C(De,"end of input");var H,V=De;if(l(":",!0),r()==="{")H=xe(x,N+"."+De);else if(r()==="["){H=[];var ie;if(l("[",!0)){do ie=I(!0),H.push(ie);while(l(",",!0));l("]"),typeof ie<"u"&&ge(x,N+"."+De,ie)}}else H=I(!0),ge(x,N+"."+De,H);var Pe=M[V];Pe&&(H=[].concat(Pe).concat(H)),M[V]=H,l(",",!0),l(";",!0)}return M}var fn=I(!0);return ge(x,N,fn),fn}function ge(x,N,M){x.setOption&&x.setOption(N,M)}function se(x,N,M,H){x.setParsedOption&&x.setParsedOption(N,M,H)}function Le(x){if(l("[",!0)){do de(x,"option");while(l(",",!0));l("]")}return x}function ye(x,N){if(!Ur.test(N=a()))throw C(N,"service name");var M=new iQ(N);B(M,function(V){if(!y(M,V))if(V==="rpc")we(M,V);else throw C(V)}),x.add(M)}function we(x,N){var M=c(),H=N;if(!Ur.test(N=a()))throw C(N,"name");var V=N,ie,Pe,fn,Nt;if(l("("),l("stream",!0)&&(Pe=!0),!kr.test(N=a())||(ie=N,l(")"),l("returns"),l("("),l("stream",!0)&&(Nt=!0),!kr.test(N=a())))throw C(N);fn=N,l(")");var Jl=new oQ(V,H,ie,fn,Pe,Nt);Jl.comment=M,B(Jl,function(Yp){if(Yp==="option")de(Jl,Yp),l(";");else throw C(Yp)}),x.add(Jl)}function it(x,N){if(!kr.test(N=a()))throw C(N,"reference");var M=N;B(null,function(V){switch(V){case"required":case"repeated":h(x,V,M);break;case"optional":T?h(x,"proto3_optional",M):h(x,"optional",M);break;default:if(!T||!kr.test(V))throw C(V);n(V),h(x,"optional",M);break}})}for(var De;(De=a())!==null;)switch(De){case"package":if(!u)throw C(De);oe();break;case"import":if(!u)throw C(De);Z();break;case"syntax":if(!u)throw C(De);le();break;case"option":de(R,De),l(";");break;default:if(y(R,De)){u=!1;continue}throw C(De)}return an.filename=null,{package:d,imports:_,weakImports:E,syntax:A,root:e}}});var TB=S((lye,gB)=>{"use strict";gB.exports=_r;var hQ=/\/|\./;function _r(i,e){hQ.test(i)||(i="google/protobuf/"+i+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),_r[i]=e}_r("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var SB;_r("duration",{Duration:SB={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});_r("timestamp",{Timestamp:SB});_r("empty",{Empty:{fields:{}}});_r("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});_r("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});_r("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});_r.get=function(e){return _r[e]||null}});var vB=S((cye,yB)=>{"use strict";var Fn=yB.exports=lB();Fn.build="full";Fn.tokenize=rg();Fn.parse=EB();Fn.common=TB();Fn.Root._configure(Fn.Type,Fn.parse,Fn.common)});var Df=S((uye,AB)=>{"use strict";AB.exports=vB()});var og=S((dye,mQ)=>{mQ.exports={nested:{google:{nested:{protobuf:{nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}}}}}}}}});var NB=S((ae,CB)=>{"use strict";var gt=Df();CB.exports=ae=gt.descriptor=gt.Root.fromJSON(og()).lookup(".google.protobuf");var OB=gt.Namespace,Pl=gt.Root,ln=gt.Enum,qn=gt.Type,Gn=gt.Field,_Q=gt.MapField,Uf=gt.OneOf,Il=gt.Service,kf=gt.Method;Pl.fromDescriptor=function(e){typeof e.length=="number"&&(e=ae.FileDescriptorSet.decode(e));var t=new Pl;if(e.file)for(var o,s,a=0,n;a<e.file.length;++a){if(s=t,(o=e.file[a]).package&&o.package.length&&(s=t.define(o.package)),o.name&&o.name.length&&t.files.push(s.filename=o.name),o.messageType)for(n=0;n<o.messageType.length;++n)s.add(qn.fromDescriptor(o.messageType[n],o.syntax));if(o.enumType)for(n=0;n<o.enumType.length;++n)s.add(ln.fromDescriptor(o.enumType[n]));if(o.extension)for(n=0;n<o.extension.length;++n)s.add(Gn.fromDescriptor(o.extension[n]));if(o.service)for(n=0;n<o.service.length;++n)s.add(Il.fromDescriptor(o.service[n]));var r=ds(o.options,ae.FileOptions);if(r){var l=Object.keys(r);for(n=0;n<l.length;++n)s.setOption(l[n],r[l[n]])}}return t};Pl.prototype.toDescriptor=function(e){var t=ae.FileDescriptorSet.create();return RB(this,t.file,e),t};function RB(i,e,t){var o=ae.FileDescriptorProto.create({name:i.filename||(i.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});t&&(o.syntax=t),i instanceof Pl||(o.package=i.fullName.substring(1));for(var s=0,a;s<i.nestedArray.length;++s)(a=i._nestedArray[s])instanceof qn?o.messageType.push(a.toDescriptor(t)):a instanceof ln?o.enumType.push(a.toDescriptor()):a instanceof Gn?o.extension.push(a.toDescriptor(t)):a instanceof Il?o.service.push(a.toDescriptor()):a instanceof OB&&RB(a,e,t);o.options=fs(i.options,ae.FileOptions),o.messageType.length+o.enumType.length+o.extension.length+o.service.length&&e.push(o)}var EQ=0;qn.fromDescriptor=function(e,t){typeof e.length=="number"&&(e=ae.DescriptorProto.decode(e));var o=new qn(e.name.length?e.name:"Type"+EQ++,ds(e.options,ae.MessageOptions)),s;if(e.oneofDecl)for(s=0;s<e.oneofDecl.length;++s)o.add(Uf.fromDescriptor(e.oneofDecl[s]));if(e.field)for(s=0;s<e.field.length;++s){var a=Gn.fromDescriptor(e.field[s],t);o.add(a),e.field[s].hasOwnProperty("oneofIndex")&&o.oneofsArray[e.field[s].oneofIndex].add(a)}if(e.extension)for(s=0;s<e.extension.length;++s)o.add(Gn.fromDescriptor(e.extension[s],t));if(e.nestedType)for(s=0;s<e.nestedType.length;++s)o.add(qn.fromDescriptor(e.nestedType[s],t)),e.nestedType[s].options&&e.nestedType[s].options.mapEntry&&o.setOption("map_entry",!0);if(e.enumType)for(s=0;s<e.enumType.length;++s)o.add(ln.fromDescriptor(e.enumType[s]));if(e.extensionRange&&e.extensionRange.length)for(o.extensions=[],s=0;s<e.extensionRange.length;++s)o.extensions.push([e.extensionRange[s].start,e.extensionRange[s].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(o.reserved=[],e.reservedRange)for(s=0;s<e.reservedRange.length;++s)o.reserved.push([e.reservedRange[s].start,e.reservedRange[s].end]);if(e.reservedName)for(s=0;s<e.reservedName.length;++s)o.reserved.push(e.reservedName[s])}return o};qn.prototype.toDescriptor=function(e){var t=ae.DescriptorProto.create({name:this.name}),o;for(o=0;o<this.fieldsArray.length;++o){var s;if(t.field.push(s=this._fieldsArray[o].toDescriptor(e)),this._fieldsArray[o]instanceof _Q){var a=sg(this._fieldsArray[o].keyType,this._fieldsArray[o].resolvedKeyType),n=sg(this._fieldsArray[o].type,this._fieldsArray[o].resolvedType),r=n===11||n===14?this._fieldsArray[o].resolvedType&&bB(this.parent,this._fieldsArray[o].resolvedType)||this._fieldsArray[o].type:void 0;t.nestedType.push(ae.DescriptorProto.create({name:s.typeName,field:[ae.FieldDescriptorProto.create({name:"key",number:1,label:1,type:a}),ae.FieldDescriptorProto.create({name:"value",number:2,label:1,type:n,typeName:r})],options:ae.MessageOptions.create({mapEntry:!0})}))}}for(o=0;o<this.oneofsArray.length;++o)t.oneofDecl.push(this._oneofsArray[o].toDescriptor());for(o=0;o<this.nestedArray.length;++o)this._nestedArray[o]instanceof Gn?t.field.push(this._nestedArray[o].toDescriptor(e)):this._nestedArray[o]instanceof qn?t.nestedType.push(this._nestedArray[o].toDescriptor(e)):this._nestedArray[o]instanceof ln&&t.enumType.push(this._nestedArray[o].toDescriptor());if(this.extensions)for(o=0;o<this.extensions.length;++o)t.extensionRange.push(ae.DescriptorProto.ExtensionRange.create({start:this.extensions[o][0],end:this.extensions[o][1]}));if(this.reserved)for(o=0;o<this.reserved.length;++o)typeof this.reserved[o]=="string"?t.reservedName.push(this.reserved[o]):t.reservedRange.push(ae.DescriptorProto.ReservedRange.create({start:this.reserved[o][0],end:this.reserved[o][1]}));return t.options=fs(this.options,ae.MessageOptions),t};var SQ=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;Gn.fromDescriptor=function(e,t){if(typeof e.length=="number"&&(e=ae.DescriptorProto.decode(e)),typeof e.number!="number")throw Error("missing field id");var o;e.typeName&&e.typeName.length?o=e.typeName:o=AQ(e.type);var s;switch(e.label){case 1:s=void 0;break;case 2:s="required";break;case 3:s="repeated";break;default:throw Error("illegal label: "+e.label)}var a=e.extendee;e.extendee!==void 0&&(a=a.length?a:void 0);var n=new Gn(e.name.length?e.name:"field"+e.number,e.number,o,s,a);if(n.options=ds(e.options,ae.FieldOptions),e.defaultValue&&e.defaultValue.length){var r=e.defaultValue;switch(r){case"true":case"TRUE":r=!0;break;case"false":case"FALSE":r=!1;break;default:var l=SQ.exec(r);l&&(r=parseInt(r));break}n.setOption("default",r)}return OQ(e.type)&&(t==="proto3"?e.options&&!e.options.packed&&n.setOption("packed",!1):e.options&&e.options.packed||n.setOption("packed",!1)),n};Gn.prototype.toDescriptor=function(e){var t=ae.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)t.type=11,t.typeName=gt.util.ucFirst(this.name),t.label=3;else{switch(t.type=sg(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:t.typeName=this.resolvedType?bB(this.parent,this.resolvedType):this.type;break}switch(this.rule){case"repeated":t.label=3;break;case"required":t.label=2;break;default:t.label=1;break}}if(t.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(t.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(t.options=fs(this.options,ae.FieldOptions),this.options.default!=null&&(t.defaultValue=String(this.options.default))),e==="proto3"?this.packed||((t.options||(t.options=ae.FieldOptions.create())).packed=!1):this.packed&&((t.options||(t.options=ae.FieldOptions.create())).packed=!0),t};var gQ=0;ln.fromDescriptor=function(e){typeof e.length=="number"&&(e=ae.EnumDescriptorProto.decode(e));var t={};if(e.value)for(var o=0;o<e.value.length;++o){var s=e.value[o].name,a=e.value[o].number||0;t[s&&s.length?s:"NAME"+a]=a}return new ln(e.name&&e.name.length?e.name:"Enum"+gQ++,t,ds(e.options,ae.EnumOptions))};ln.prototype.toDescriptor=function(){for(var e=[],t=0,o=Object.keys(this.values);t<o.length;++t)e.push(ae.EnumValueDescriptorProto.create({name:o[t],number:this.values[o[t]]}));return ae.EnumDescriptorProto.create({name:this.name,value:e,options:fs(this.options,ae.EnumOptions)})};var TQ=0;Uf.fromDescriptor=function(e){return typeof e.length=="number"&&(e=ae.OneofDescriptorProto.decode(e)),new Uf(e.name&&e.name.length?e.name:"oneof"+TQ++)};Uf.prototype.toDescriptor=function(){return ae.OneofDescriptorProto.create({name:this.name})};var yQ=0;Il.fromDescriptor=function(e){typeof e.length=="number"&&(e=ae.ServiceDescriptorProto.decode(e));var t=new Il(e.name&&e.name.length?e.name:"Service"+yQ++,ds(e.options,ae.ServiceOptions));if(e.method)for(var o=0;o<e.method.length;++o)t.add(kf.fromDescriptor(e.method[o]));return t};Il.prototype.toDescriptor=function(){for(var e=[],t=0;t<this.methodsArray.length;++t)e.push(this._methodsArray[t].toDescriptor());return ae.ServiceDescriptorProto.create({name:this.name,method:e,options:fs(this.options,ae.ServiceOptions)})};var vQ=0;kf.fromDescriptor=function(e){return typeof e.length=="number"&&(e=ae.MethodDescriptorProto.decode(e)),new kf(e.name&&e.name.length?e.name:"Method"+vQ++,"rpc",e.inputType,e.outputType,!!e.clientStreaming,!!e.serverStreaming,ds(e.options,ae.MethodOptions))};kf.prototype.toDescriptor=function(){return ae.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:fs(this.options,ae.MethodOptions)})};function AQ(i){switch(i){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+i)}function OQ(i){switch(i){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function sg(i,e){switch(i){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(e instanceof ln)return 14;if(e instanceof qn)return e.group?10:11;throw Error("illegal type: "+i)}function ds(i,e){if(i){for(var t=[],o=0,s,a,n;o<e.fieldsArray.length;++o)(a=(s=e._fieldsArray[o]).name)!=="uninterpretedOption"&&i.hasOwnProperty(a)&&(n=i[a],s.resolvedType instanceof ln&&typeof n=="number"&&s.resolvedType.valuesById[n]!==void 0&&(n=s.resolvedType.valuesById[n]),t.push(RQ(a),n));return t.length?gt.util.toObject(t):void 0}}function fs(i,e){if(i){for(var t=[],o=0,s=Object.keys(i),a,n;o<s.length;++o)if(n=i[a=s[o]],a!=="default"){var r=e.fields[a];!r&&!(r=e.fields[a=gt.util.camelCase(a)])||t.push(a,n)}return t.length?e.fromObject(gt.util.toObject(t)):void 0}}function bB(i,e){var t=i.fullName.split("."),o=e.fullName.split("."),s=0,a=0,n=o.length-1;if(!(i instanceof Pl)&&e instanceof OB)for(;s<t.length&&a<n&&t[s]===o[a];){var r=e.lookup(t[s++],!0);if(r!==null&&r!==e)break;++a}else for(;s<t.length&&a<n&&t[s]===o[a];++s,++a);return o.slice(a).join(".")}function RQ(i){return i.substring(0,1)+i.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(e,t){return"_"+t.toLowerCase()})}});var xB=S((fye,bQ)=>{bQ.exports={nested:{google:{nested:{protobuf:{nested:{Api:{fields:{name:{type:"string",id:1},methods:{rule:"repeated",type:"Method",id:2},options:{rule:"repeated",type:"Option",id:3},version:{type:"string",id:4},sourceContext:{type:"SourceContext",id:5},mixins:{rule:"repeated",type:"Mixin",id:6},syntax:{type:"Syntax",id:7}}},Method:{fields:{name:{type:"string",id:1},requestTypeUrl:{type:"string",id:2},requestStreaming:{type:"bool",id:3},responseTypeUrl:{type:"string",id:4},responseStreaming:{type:"bool",id:5},options:{rule:"repeated",type:"Option",id:6},syntax:{type:"Syntax",id:7}}},Mixin:{fields:{name:{type:"string",id:1},root:{type:"string",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}}}}}}}}});var PB=S((pye,CQ)=>{CQ.exports={nested:{google:{nested:{protobuf:{nested:{SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var IB=S((hye,NQ)=>{NQ.exports={nested:{google:{nested:{protobuf:{nested:{Type:{fields:{name:{type:"string",id:1},fields:{rule:"repeated",type:"Field",id:2},oneofs:{rule:"repeated",type:"string",id:3},options:{rule:"repeated",type:"Option",id:4},sourceContext:{type:"SourceContext",id:5},syntax:{type:"Syntax",id:6}}},Field:{fields:{kind:{type:"Kind",id:1},cardinality:{type:"Cardinality",id:2},number:{type:"int32",id:3},name:{type:"string",id:4},typeUrl:{type:"string",id:6},oneofIndex:{type:"int32",id:7},packed:{type:"bool",id:8},options:{rule:"repeated",type:"Option",id:9},jsonName:{type:"string",id:10},defaultValue:{type:"string",id:11}},nested:{Kind:{values:{TYPE_UNKNOWN:0,TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Cardinality:{values:{CARDINALITY_UNKNOWN:0,CARDINALITY_OPTIONAL:1,CARDINALITY_REQUIRED:2,CARDINALITY_REPEATED:3}}}},Enum:{fields:{name:{type:"string",id:1},enumvalue:{rule:"repeated",type:"EnumValue",id:2},options:{rule:"repeated",type:"Option",id:3},sourceContext:{type:"SourceContext",id:4},syntax:{type:"Syntax",id:5}}},EnumValue:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{rule:"repeated",type:"Option",id:3}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var DB=S(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.addCommonProtos=Hn.loadProtosWithOptionsSync=Hn.loadProtosWithOptions=void 0;var MB=F("fs"),LB=F("path"),ps=Df();function wB(i,e){let t=i.resolvePath;i.resolvePath=(o,s)=>{if(LB.isAbsolute(s))return s;for(let a of e){let n=LB.join(a,s);try{return MB.accessSync(n,MB.constants.R_OK),n}catch{continue}}return process.emitWarning(`${s} not found in any of the include paths ${e}`),t(o,s)}}async function xQ(i,e){let t=new ps.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));wB(t,e.includeDirs)}let o=await t.load(i,e);return o.resolveAll(),o}Hn.loadProtosWithOptions=xQ;function PQ(i,e){let t=new ps.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))throw new Error("The includeDirs option must be an array");wB(t,e.includeDirs)}let o=t.loadSync(i,e);return o.resolveAll(),o}Hn.loadProtosWithOptionsSync=PQ;function IQ(){let i=xB(),e=og(),t=PB(),o=IB();ps.common("api",i.nested.google.nested.protobuf.nested),ps.common("descriptor",e.nested.google.nested.protobuf.nested),ps.common("source_context",t.nested.google.nested.protobuf.nested),ps.common("type",o.nested.google.nested.protobuf.nested)}Hn.addCommonProtos=IQ});var BB=S((kB,ag)=>{var UB=function(i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function t(b,h,P){this.low=b|0,this.high=h|0,this.unsigned=!!P}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0});function o(b){return(b&&b.__isLong__)===!0}function s(b){var h=Math.clz32(b&-b);return b?31-h:h}t.isLong=o;var a={},n={};function r(b,h){var P,J,Q;return h?(b>>>=0,(Q=0<=b&&b<256)&&(J=n[b],J)?J:(P=c(b,0,!0),Q&&(n[b]=P),P)):(b|=0,(Q=-128<=b&&b<128)&&(J=a[b],J)?J:(P=c(b,b<0?-1:0,!1),Q&&(a[b]=P),P))}t.fromInt=r;function l(b,h){if(isNaN(b))return h?I:L;if(h){if(b<0)return I;if(b>=R)return Z}else{if(b<=-O)return le;if(b+1>=O)return oe}return b<0?l(-b,h).neg():c(b%T|0,b/T|0,h)}t.fromNumber=l;function c(b,h,P){return new t(b,h,P)}t.fromBits=c;var u=Math.pow;function d(b,h,P){if(b.length===0)throw Error("empty string");if(typeof h=="number"?(P=h,h=!1):h=!!h,b==="NaN"||b==="Infinity"||b==="+Infinity"||b==="-Infinity")return h?I:L;if(P=P||10,P<2||36<P)throw RangeError("radix");var J;if((J=b.indexOf("-"))>0)throw Error("interior hyphen");if(J===0)return d(b.substring(1),h,P).neg();for(var Q=l(u(P,8)),K=L,ue=0;ue<b.length;ue+=8){var de=Math.min(8,b.length-ue),xe=parseInt(b.substring(ue,ue+de),P);if(de<8){var ge=l(u(P,de));K=K.mul(ge).add(l(xe))}else K=K.mul(Q),K=K.add(l(xe))}return K.unsigned=h,K}t.fromString=d;function _(b,h){return typeof b=="number"?l(b,h):typeof b=="string"?d(b,h):c(b.low,b.high,typeof h=="boolean"?h:b.unsigned)}t.fromValue=_;var E=65536,A=1<<24,T=E*E,R=T*T,O=R/2,C=r(A),L=r(0);t.ZERO=L;var I=r(0,!0);t.UZERO=I;var z=r(1);t.ONE=z;var j=r(1,!0);t.UONE=j;var q=r(-1);t.NEG_ONE=q;var oe=c(-1,2147483647,!1);t.MAX_VALUE=oe;var Z=c(-1,-1,!0);t.MAX_UNSIGNED_VALUE=Z;var le=c(0,-2147483648,!1);t.MIN_VALUE=le;var y=t.prototype;y.toInt=function(){return this.unsigned?this.low>>>0:this.low},y.toNumber=function(){return this.unsigned?(this.high>>>0)*T+(this.low>>>0):this.high*T+(this.low>>>0)},y.toString=function(h){if(h=h||10,h<2||36<h)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(le)){var P=l(h),J=this.div(P),Q=J.mul(P).sub(this);return J.toString(h)+Q.toInt().toString(h)}else return"-"+this.neg().toString(h);for(var K=l(u(h,6),this.unsigned),ue=this,de="";;){var xe=ue.div(K),ge=ue.sub(xe.mul(K)).toInt()>>>0,se=ge.toString(h);if(ue=xe,ue.isZero())return se+de;for(;se.length<6;)se="0"+se;de=""+se+de}},y.getHighBits=function(){return this.high},y.getHighBitsUnsigned=function(){return this.high>>>0},y.getLowBits=function(){return this.low},y.getLowBitsUnsigned=function(){return this.low>>>0},y.getNumBitsAbs=function(){if(this.isNegative())return this.eq(le)?64:this.neg().getNumBitsAbs();for(var h=this.high!=0?this.high:this.low,P=31;P>0&&!(h&1<<P);P--);return this.high!=0?P+33:P+1},y.isZero=function(){return this.high===0&&this.low===0},y.eqz=y.isZero,y.isNegative=function(){return!this.unsigned&&this.high<0},y.isPositive=function(){return this.unsigned||this.high>=0},y.isOdd=function(){return(this.low&1)===1},y.isEven=function(){return(this.low&1)===0},y.equals=function(h){return o(h)||(h=_(h)),this.unsigned!==h.unsigned&&this.high>>>31===1&&h.high>>>31===1?!1:this.high===h.high&&this.low===h.low},y.eq=y.equals,y.notEquals=function(h){return!this.eq(h)},y.neq=y.notEquals,y.ne=y.notEquals,y.lessThan=function(h){return this.comp(h)<0},y.lt=y.lessThan,y.lessThanOrEqual=function(h){return this.comp(h)<=0},y.lte=y.lessThanOrEqual,y.le=y.lessThanOrEqual,y.greaterThan=function(h){return this.comp(h)>0},y.gt=y.greaterThan,y.greaterThanOrEqual=function(h){return this.comp(h)>=0},y.gte=y.greaterThanOrEqual,y.ge=y.greaterThanOrEqual,y.compare=function(h){if(o(h)||(h=_(h)),this.eq(h))return 0;var P=this.isNegative(),J=h.isNegative();return P&&!J?-1:!P&&J?1:this.unsigned?h.high>>>0>this.high>>>0||h.high===this.high&&h.low>>>0>this.low>>>0?-1:1:this.sub(h).isNegative()?-1:1},y.comp=y.compare,y.negate=function(){return!this.unsigned&&this.eq(le)?le:this.not().add(z)},y.neg=y.negate,y.add=function(h){o(h)||(h=_(h));var P=this.high>>>16,J=this.high&65535,Q=this.low>>>16,K=this.low&65535,ue=h.high>>>16,de=h.high&65535,xe=h.low>>>16,ge=h.low&65535,se=0,Le=0,ye=0,we=0;return we+=K+ge,ye+=we>>>16,we&=65535,ye+=Q+xe,Le+=ye>>>16,ye&=65535,Le+=J+de,se+=Le>>>16,Le&=65535,se+=P+ue,se&=65535,c(ye<<16|we,se<<16|Le,this.unsigned)},y.subtract=function(h){return o(h)||(h=_(h)),this.add(h.neg())},y.sub=y.subtract,y.multiply=function(h){if(this.isZero())return this;if(o(h)||(h=_(h)),e){var P=e.mul(this.low,this.high,h.low,h.high);return c(P,e.get_high(),this.unsigned)}if(h.isZero())return this.unsigned?I:L;if(this.eq(le))return h.isOdd()?le:L;if(h.eq(le))return this.isOdd()?le:L;if(this.isNegative())return h.isNegative()?this.neg().mul(h.neg()):this.neg().mul(h).neg();if(h.isNegative())return this.mul(h.neg()).neg();if(this.lt(C)&&h.lt(C))return l(this.toNumber()*h.toNumber(),this.unsigned);var J=this.high>>>16,Q=this.high&65535,K=this.low>>>16,ue=this.low&65535,de=h.high>>>16,xe=h.high&65535,ge=h.low>>>16,se=h.low&65535,Le=0,ye=0,we=0,it=0;return it+=ue*se,we+=it>>>16,it&=65535,we+=K*se,ye+=we>>>16,we&=65535,we+=ue*ge,ye+=we>>>16,we&=65535,ye+=Q*se,Le+=ye>>>16,ye&=65535,ye+=K*ge,Le+=ye>>>16,ye&=65535,ye+=ue*xe,Le+=ye>>>16,ye&=65535,Le+=J*se+Q*ge+K*xe+ue*de,Le&=65535,c(we<<16|it,Le<<16|ye,this.unsigned)},y.mul=y.multiply,y.divide=function(h){if(o(h)||(h=_(h)),h.isZero())throw Error("division by zero");if(e){if(!this.unsigned&&this.high===-2147483648&&h.low===-1&&h.high===-1)return this;var P=(this.unsigned?e.div_u:e.div_s)(this.low,this.high,h.low,h.high);return c(P,e.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?I:L;var J,Q,K;if(this.unsigned){if(h.unsigned||(h=h.toUnsigned()),h.gt(this))return I;if(h.gt(this.shru(1)))return j;K=I}else{if(this.eq(le)){if(h.eq(z)||h.eq(q))return le;if(h.eq(le))return z;var ue=this.shr(1);return J=ue.div(h).shl(1),J.eq(L)?h.isNegative()?z:q:(Q=this.sub(h.mul(J)),K=J.add(Q.div(h)),K)}else if(h.eq(le))return this.unsigned?I:L;if(this.isNegative())return h.isNegative()?this.neg().div(h.neg()):this.neg().div(h).neg();if(h.isNegative())return this.div(h.neg()).neg();K=L}for(Q=this;Q.gte(h);){J=Math.max(1,Math.floor(Q.toNumber()/h.toNumber()));for(var de=Math.ceil(Math.log(J)/Math.LN2),xe=de<=48?1:u(2,de-48),ge=l(J),se=ge.mul(h);se.isNegative()||se.gt(Q);)J-=xe,ge=l(J,this.unsigned),se=ge.mul(h);ge.isZero()&&(ge=z),K=K.add(ge),Q=Q.sub(se)}return K},y.div=y.divide,y.modulo=function(h){if(o(h)||(h=_(h)),e){var P=(this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,h.low,h.high);return c(P,e.get_high(),this.unsigned)}return this.sub(this.div(h).mul(h))},y.mod=y.modulo,y.rem=y.modulo,y.not=function(){return c(~this.low,~this.high,this.unsigned)},y.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},y.clz=y.countLeadingZeros,y.countTrailingZeros=function(){return this.low?s(this.low):s(this.high)+32},y.ctz=y.countTrailingZeros,y.and=function(h){return o(h)||(h=_(h)),c(this.low&h.low,this.high&h.high,this.unsigned)},y.or=function(h){return o(h)||(h=_(h)),c(this.low|h.low,this.high|h.high,this.unsigned)},y.xor=function(h){return o(h)||(h=_(h)),c(this.low^h.low,this.high^h.high,this.unsigned)},y.shiftLeft=function(h){return o(h)&&(h=h.toInt()),(h&=63)===0?this:h<32?c(this.low<<h,this.high<<h|this.low>>>32-h,this.unsigned):c(0,this.low<<h-32,this.unsigned)},y.shl=y.shiftLeft,y.shiftRight=function(h){return o(h)&&(h=h.toInt()),(h&=63)===0?this:h<32?c(this.low>>>h|this.high<<32-h,this.high>>h,this.unsigned):c(this.high>>h-32,this.high>=0?0:-1,this.unsigned)},y.shr=y.shiftRight,y.shiftRightUnsigned=function(h){return o(h)&&(h=h.toInt()),(h&=63)===0?this:h<32?c(this.low>>>h|this.high<<32-h,this.high>>>h,this.unsigned):h===32?c(this.high,0,this.unsigned):c(this.high>>>h-32,0,this.unsigned)},y.shru=y.shiftRightUnsigned,y.shr_u=y.shiftRightUnsigned,y.rotateLeft=function(h){var P;return o(h)&&(h=h.toInt()),(h&=63)===0?this:h===32?c(this.high,this.low,this.unsigned):h<32?(P=32-h,c(this.low<<h|this.high>>>P,this.high<<h|this.low>>>P,this.unsigned)):(h-=32,P=32-h,c(this.high<<h|this.low>>>P,this.low<<h|this.high>>>P,this.unsigned))},y.rotl=y.rotateLeft,y.rotateRight=function(h){var P;return o(h)&&(h=h.toInt()),(h&=63)===0?this:h===32?c(this.high,this.low,this.unsigned):h<32?(P=32-h,c(this.high<<P|this.low>>>h,this.low<<P|this.high>>>h,this.unsigned)):(h-=32,P=32-h,c(this.low<<P|this.high>>>h,this.high<<P|this.low>>>h,this.unsigned))},y.rotr=y.rotateRight,y.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},y.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},y.toBytes=function(h){return h?this.toBytesLE():this.toBytesBE()},y.toBytesLE=function(){var h=this.high,P=this.low;return[P&255,P>>>8&255,P>>>16&255,P>>>24,h&255,h>>>8&255,h>>>16&255,h>>>24]},y.toBytesBE=function(){var h=this.high,P=this.low;return[h>>>24,h>>>16&255,h>>>8&255,h&255,P>>>24,P>>>16&255,P>>>8&255,P&255]},t.fromBytes=function(h,P,J){return J?t.fromBytesLE(h,P):t.fromBytesBE(h,P)},t.fromBytesLE=function(h,P){return new t(h[0]|h[1]<<8|h[2]<<16|h[3]<<24,h[4]|h[5]<<8|h[6]<<16|h[7]<<24,P)},t.fromBytesBE=function(h,P){return new t(h[4]<<24|h[5]<<16|h[6]<<8|h[7],h[0]<<24|h[1]<<16|h[2]<<8|h[3],P)};var B=t;return i.default=B,"default"in i?i.default:i}({});typeof define=="function"&&define.amd?define([],function(){return UB}):typeof ag=="object"&&typeof kB=="object"&&(ag.exports=UB)});var zB=S(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.loadFileDescriptorSetFromObject=Ge.loadFileDescriptorSetFromBuffer=Ge.fromJSON=Ge.loadSync=Ge.load=Ge.IdempotencyLevel=Ge.isAnyExtension=Ge.Long=void 0;var MQ=_k(),Br=Df(),cg=NB(),ug=DB(),LQ=BB();Ge.Long=LQ;function wQ(i){return"@type"in i&&typeof i["@type"]=="string"}Ge.isAnyExtension=wQ;var qB;(function(i){i.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",i.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",i.IDEMPOTENT="IDEMPOTENT"})(qB=Ge.IdempotencyLevel||(Ge.IdempotencyLevel={}));var GB={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function DQ(i,e){return i===""?e:i+"."+e}function UQ(i){return i instanceof Br.Service||i instanceof Br.Type||i instanceof Br.Enum}function kQ(i){return i instanceof Br.Namespace||i instanceof Br.Root}function HB(i,e){let t=DQ(e,i.name);return UQ(i)?[[t,i]]:kQ(i)&&typeof i.nested<"u"?Object.keys(i.nested).map(o=>HB(i.nested[o],t)).reduce((o,s)=>o.concat(s),[]):[]}function VB(i,e){return function(o){return i.toObject(i.decode(o),e)}}function FB(i){return function(t){if(Array.isArray(t))throw new Error(`Failed to serialize message: expected object with ${i.name} structure, got array instead`);let o=i.fromObject(t);return i.encode(o).finish()}}function BQ(i){return(i||[]).reduce((e,t)=>{for(let[o,s]of Object.entries(t))switch(o){case"uninterpreted_option":e.uninterpreted_option.push(t.uninterpreted_option);break;default:e[o]=s}return e},{deprecated:!1,idempotency_level:qB.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function VQ(i,e,t,o){let s=i.resolvedRequestType,a=i.resolvedResponseType;return{path:"/"+e+"/"+i.name,requestStream:!!i.requestStream,responseStream:!!i.responseStream,requestSerialize:FB(s),requestDeserialize:VB(s,t),responseSerialize:FB(a),responseDeserialize:VB(a,t),originalName:MQ(i.name),requestType:lg(s,o),responseType:lg(a,o),options:BQ(i.parsedOptions)}}function FQ(i,e,t,o){let s={};for(let a of i.methodsArray)s[a.name]=VQ(a,e,t,o);return s}function lg(i,e){let t=i.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:t.$type.toObject(t,GB),fileDescriptorProtos:e}}function qQ(i,e){let t=i.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:t.$type.toObject(t,GB),fileDescriptorProtos:e}}function GQ(i,e,t,o){if(i instanceof Br.Service)return FQ(i,e,t,o);if(i instanceof Br.Type)return lg(i,o);if(i instanceof Br.Enum)return qQ(i,o);throw new Error("Type mismatch in reflection object handling")}function Bf(i,e){let t={};i.resolveAll();let s=i.toDescriptor("proto3").file.map(a=>Buffer.from(cg.FileDescriptorProto.encode(a).finish()));for(let[a,n]of HB(i,""))t[a]=GQ(n,a,e,s);return t}function jB(i,e){e=e||{};let t=Br.Root.fromDescriptor(i);return t.resolveAll(),Bf(t,e)}function HQ(i,e){return(0,ug.loadProtosWithOptions)(i,e).then(t=>Bf(t,e))}Ge.load=HQ;function jQ(i,e){let t=(0,ug.loadProtosWithOptionsSync)(i,e);return Bf(t,e)}Ge.loadSync=jQ;function zQ(i,e){e=e||{};let t=Br.Root.fromJSON(i);return t.resolveAll(),Bf(t,e)}Ge.fromJSON=zQ;function $Q(i,e){let t=cg.FileDescriptorSet.decode(i);return jB(t,e)}Ge.loadFileDescriptorSetFromBuffer=$Q;function YQ(i,e){let t=cg.FileDescriptorSet.fromObject(i);return jB(t,e)}Ge.loadFileDescriptorSetFromObject=YQ;(0,ug.addCommonProtos)()});var Bi=S(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.setup=Te.getChannelzServiceDefinition=Te.getChannelzHandlers=Te.unregisterChannelzRef=Te.registerChannelzSocket=Te.registerChannelzServer=Te.registerChannelzSubchannel=Te.registerChannelzChannel=Te.ChannelzCallTrackerStub=Te.ChannelzCallTracker=Te.ChannelzChildrenTrackerStub=Te.ChannelzChildrenTracker=Te.ChannelzTrace=Te.ChannelzTraceStub=void 0;var $B=F("net"),ki=(BU(),ee(kU)),Ml=Kt(),Ll=Ee(),KQ=fr(),WQ=df(),XQ=AS();function dg(i){return{channel_id:i.id,name:i.name}}function _g(i){return{subchannel_id:i.id,name:i.name}}function JQ(i){return{server_id:i.id}}function Gf(i){return{socket_id:i.id,name:i.name}}var YB=32,Eg=100,fg=class{constructor(){this.events=[],this.creationTimestamp=new Date,this.eventsLogged=0}addTrace(){}getTraceMessage(){return{creation_timestamp:Vr(this.creationTimestamp),num_events_logged:this.eventsLogged,events:[]}}};Te.ChannelzTraceStub=fg;var pg=class{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(e,t,o){let s=new Date;this.events.push({description:t,severity:e,timestamp:s,childChannel:(o==null?void 0:o.kind)==="channel"?o:void 0,childSubchannel:(o==null?void 0:o.kind)==="subchannel"?o:void 0}),this.events.length>=YB*2&&(this.events=this.events.slice(YB)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:Vr(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(e=>({description:e.description,severity:e.severity,timestamp:Vr(e.timestamp),channel_ref:e.childChannel?dg(e.childChannel):null,subchannel_ref:e.childSubchannel?_g(e.childSubchannel):null}))}}};Te.ChannelzTrace=pg;var Ff=class{constructor(){this.channelChildren=new ki.OrderedMap,this.subchannelChildren=new ki.OrderedMap,this.socketChildren=new ki.OrderedMap,this.trackerMap={channel:this.channelChildren,subchannel:this.subchannelChildren,socket:this.socketChildren}}refChild(e){let t=this.trackerMap[e.kind],o=t.find(e.id);o.equals(t.end())?t.setElement(e.id,{ref:e,count:1},o):o.pointer[1].count+=1}unrefChild(e){let t=this.trackerMap[e.kind],o=t.getElementByKey(e.id);o!==void 0&&(o.count-=1,o.count===0&&t.eraseElementByKey(e.id))}getChildLists(){return{channels:this.channelChildren,subchannels:this.subchannelChildren,sockets:this.socketChildren}}};Te.ChannelzChildrenTracker=Ff;var hg=class extends Ff{refChild(){}unrefChild(){}};Te.ChannelzChildrenTrackerStub=hg;var qf=class{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}};Te.ChannelzCallTracker=qf;var mg=class extends qf{addCallStarted(){}addCallSucceeded(){}addCallFailed(){}};Te.ChannelzCallTrackerStub=mg;var cn={channel:new ki.OrderedMap,subchannel:new ki.OrderedMap,server:new ki.OrderedMap,socket:new ki.OrderedMap},Hf=i=>{let e=1;function t(){return e++}let o=cn[i];return(s,a,n)=>{let r=t(),l={id:r,name:s,kind:i};return n&&o.setElement(r,{ref:l,getInfo:a}),l}};Te.registerChannelzChannel=Hf("channel");Te.registerChannelzSubchannel=Hf("subchannel");Te.registerChannelzServer=Hf("server");Te.registerChannelzSocket=Hf("socket");function QQ(i){cn[i.kind].eraseElementByKey(i.id)}Te.unregisterChannelzRef=QQ;function ZQ(i){let e=Number.parseInt(i,16);return[e/256|0,e%256]}function KB(i){if(i==="")return[];let e=i.split(":").map(o=>ZQ(o));return[].concat(...e)}function eZ(i){if((0,$B.isIPv4)(i))return Buffer.from(Uint8Array.from(i.split(".").map(e=>Number.parseInt(e))));if((0,$B.isIPv6)(i)){let e,t,o=i.indexOf("::");o===-1?(e=i,t=""):(e=i.substring(0,o),t=i.substring(o+2));let s=Buffer.from(KB(e)),a=Buffer.from(KB(t)),n=Buffer.alloc(16-s.length-a.length,0);return Buffer.concat([s,n,a])}else return null}function XB(i){switch(i){case Ml.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case Ml.ConnectivityState.IDLE:return{state:"IDLE"};case Ml.ConnectivityState.READY:return{state:"READY"};case Ml.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case Ml.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function Vr(i){if(!i)return null;let e=i.getTime();return{seconds:e/1e3|0,nanos:e%1e3*1e6}}function JB(i){let e=i.getInfo(),t=[],o=[];return e.children.channels.forEach(s=>{t.push(dg(s[1].ref))}),e.children.subchannels.forEach(s=>{o.push(_g(s[1].ref))}),{ref:dg(i.ref),data:{target:e.target,state:XB(e.state),calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:Vr(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},channel_ref:t,subchannel_ref:o}}function tZ(i,e){let t=parseInt(i.request.channel_id,10),o=cn.channel.getElementByKey(t);if(o===void 0){e({code:Ll.Status.NOT_FOUND,details:"No channel data found for id "+t});return}e(null,{channel:JB(o)})}function rZ(i,e){let t=parseInt(i.request.max_results,10)||Eg,o=[],s=parseInt(i.request.start_channel_id,10),a=cn.channel,n;for(n=a.lowerBound(s);!n.equals(a.end())&&o.length<t;n=n.next())o.push(JB(n.pointer[1]));e(null,{channel:o,end:n.equals(a.end())})}function QB(i){let e=i.getInfo(),t=[];return e.listenerChildren.sockets.forEach(o=>{t.push(Gf(o[1].ref))}),{ref:JQ(i.ref),data:{calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:Vr(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},listen_socket:t}}function nZ(i,e){let t=parseInt(i.request.server_id,10),s=cn.server.getElementByKey(t);if(s===void 0){e({code:Ll.Status.NOT_FOUND,details:"No server data found for id "+t});return}e(null,{server:QB(s)})}function iZ(i,e){let t=parseInt(i.request.max_results,10)||Eg,o=parseInt(i.request.start_server_id,10),s=cn.server,a=[],n;for(n=s.lowerBound(o);!n.equals(s.end())&&a.length<t;n=n.next())a.push(QB(n.pointer[1]));e(null,{server:a,end:n.equals(s.end())})}function oZ(i,e){let t=parseInt(i.request.subchannel_id,10),o=cn.subchannel.getElementByKey(t);if(o===void 0){e({code:Ll.Status.NOT_FOUND,details:"No subchannel data found for id "+t});return}let s=o.getInfo(),a=[];s.children.sockets.forEach(r=>{a.push(Gf(r[1].ref))});let n={ref:_g(o.ref),data:{target:s.target,state:XB(s.state),calls_started:s.callTracker.callsStarted,calls_succeeded:s.callTracker.callsSucceeded,calls_failed:s.callTracker.callsFailed,last_call_started_timestamp:Vr(s.callTracker.lastCallStartedTimestamp),trace:s.trace.getTraceMessage()},socket_ref:a};e(null,{subchannel:n})}function WB(i){var e;return(0,KQ.isTcpSubchannelAddress)(i)?{address:"tcpip_address",tcpip_address:{ip_address:(e=eZ(i.host))!==null&&e!==void 0?e:void 0,port:i.port}}:{address:"uds_address",uds_address:{filename:i.path}}}function sZ(i,e){var t,o,s,a,n;let r=parseInt(i.request.socket_id,10),l=cn.socket.getElementByKey(r);if(l===void 0){e({code:Ll.Status.NOT_FOUND,details:"No socket data found for id "+r});return}let c=l.getInfo(),u=c.security?{model:"tls",tls:{cipher_suite:c.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:(t=c.security.cipherSuiteStandardName)!==null&&t!==void 0?t:void 0,other_name:(o=c.security.cipherSuiteOtherName)!==null&&o!==void 0?o:void 0,local_certificate:(s=c.security.localCertificate)!==null&&s!==void 0?s:void 0,remote_certificate:(a=c.security.remoteCertificate)!==null&&a!==void 0?a:void 0}}:null,d={ref:Gf(l.ref),local:c.localAddress?WB(c.localAddress):null,remote:c.remoteAddress?WB(c.remoteAddress):null,remote_name:(n=c.remoteName)!==null&&n!==void 0?n:void 0,security:u,data:{keep_alives_sent:c.keepAlivesSent,streams_started:c.streamsStarted,streams_succeeded:c.streamsSucceeded,streams_failed:c.streamsFailed,last_local_stream_created_timestamp:Vr(c.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:Vr(c.lastRemoteStreamCreatedTimestamp),messages_received:c.messagesReceived,messages_sent:c.messagesSent,last_message_received_timestamp:Vr(c.lastMessageReceivedTimestamp),last_message_sent_timestamp:Vr(c.lastMessageSentTimestamp),local_flow_control_window:c.localFlowControlWindow?{value:c.localFlowControlWindow}:null,remote_flow_control_window:c.remoteFlowControlWindow?{value:c.remoteFlowControlWindow}:null}};e(null,{socket:d})}function aZ(i,e){let t=parseInt(i.request.server_id,10),o=cn.server.getElementByKey(t);if(o===void 0){e({code:Ll.Status.NOT_FOUND,details:"No server data found for id "+t});return}let s=parseInt(i.request.start_socket_id,10),a=parseInt(i.request.max_results,10)||Eg,r=o.getInfo().sessionChildren.sockets,l=[],c;for(c=r.lowerBound(s);!c.equals(r.end())&&l.length<a;c=c.next())l.push(Gf(c.pointer[1].ref));e(null,{socket_ref:l,end:c.equals(r.end())})}function ZB(){return{GetChannel:tZ,GetTopChannels:rZ,GetServer:nZ,GetServers:iZ,GetSubchannel:oZ,GetSocket:sZ,GetServerSockets:aZ}}Te.getChannelzHandlers=ZB;var Vf=null;function e2(){if(Vf)return Vf;let i=zB().loadSync,e=i("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return Vf=(0,XQ.loadPackageDefinition)(e).grpc.channelz.v1.Channelz.service,Vf}Te.getChannelzServiceDefinition=e2;function lZ(){(0,WQ.registerAdminService)(e2,ZB)}Te.setup=lZ});var t2=S(zf=>{"use strict";Object.defineProperty(zf,"__esModule",{value:!0});zf.Subchannel=void 0;var Re=Kt(),cZ=hl(),Sg=Me(),jf=Ee(),uZ=Lt(),dZ=fr(),Fr=Bi(),fZ="subchannel",pZ=~(1<<31),gg=class{constructor(e,t,o,s,a){var n;this.channelTarget=e,this.subchannelAddress=t,this.options=o,this.credentials=s,this.connector=a,this.connectivityState=Re.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0;let r={initialDelay:o["grpc.initial_reconnect_backoff_ms"],maxDelay:o["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new cZ.BackoffTimeout(()=>{this.handleBackoffTimer()},r),this.backoffTimeout.unref(),this.subchannelAddressString=(0,dZ.subchannelAddressToString)(t),this.keepaliveTime=(n=o["grpc.keepalive_time_ms"])!==null&&n!==void 0?n:-1,o["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.channelzTrace=new Fr.ChannelzTraceStub,this.callTracker=new Fr.ChannelzCallTrackerStub,this.childrenTracker=new Fr.ChannelzChildrenTrackerStub,this.streamTracker=new Fr.ChannelzCallTrackerStub):(this.channelzTrace=new Fr.ChannelzTrace,this.callTracker=new Fr.ChannelzCallTracker,this.childrenTracker=new Fr.ChannelzChildrenTracker,this.streamTracker=new Fr.ChannelzCallTracker),this.channelzRef=(0,Fr.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(o,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){Sg.trace(jf.LogVerbosity.DEBUG,fZ,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}refTrace(e){Sg.trace(jf.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([Re.ConnectivityState.TRANSIENT_FAILURE],Re.ConnectivityState.CONNECTING):this.transitionToState([Re.ConnectivityState.TRANSIENT_FAILURE],Re.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){let t=Math.min(this.keepaliveTime,pZ);e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":t})}this.connector.connect(this.subchannelAddress,this.credentials,e).then(t=>{this.transitionToState([Re.ConnectivityState.CONNECTING],Re.ConnectivityState.READY)?(this.transport=t,this.channelzEnabled&&this.childrenTracker.refChild(t.getChannelzRef()),t.addDisconnectListener(o=>{this.transitionToState([Re.ConnectivityState.READY],Re.ConnectivityState.IDLE),o&&this.keepaliveTime>0&&(this.keepaliveTime*=2,Sg.log(jf.LogVerbosity.ERROR,`Connection to ${(0,uZ.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):t.shutdown()},t=>{this.transitionToState([Re.ConnectivityState.CONNECTING],Re.ConnectivityState.TRANSIENT_FAILURE,`${t}`)})}transitionToState(e,t,o){var s,a;if(e.indexOf(this.connectivityState)===-1)return!1;this.trace(Re.ConnectivityState[this.connectivityState]+" -> "+Re.ConnectivityState[t]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+Re.ConnectivityState[t]);let n=this.connectivityState;switch(this.connectivityState=t,t){case Re.ConnectivityState.READY:this.stopBackoff();break;case Re.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case Re.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(s=this.transport)===null||s===void 0||s.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case Re.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(a=this.transport)===null||a===void 0||a.shutdown(),this.transport=null;break;default:throw new Error(`Invalid state: unknown ConnectivityState ${t}`)}for(let r of this.stateListeners)r(this,n,t,this.keepaliveTime,o);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.refcount===0&&(this.channelzTrace.addTrace("CT_INFO","Shutting down"),(0,Fr.unregisterChannelzRef)(this.channelzRef),process.nextTick(()=>{this.transitionToState([Re.ConnectivityState.CONNECTING,Re.ConnectivityState.READY],Re.ConnectivityState.IDLE)}))}unrefIfOneRef(){return this.refcount===1?(this.unref(),!0):!1}createCall(e,t,o,s){if(!this.transport)throw new Error("Cannot create call, subchannel not READY");let a;return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),a={onCallEnd:n=>{n.code===jf.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):a={},this.transport.createCall(e,t,o,s,a)}startConnecting(){process.nextTick(()=>{this.transitionToState([Re.ConnectivityState.IDLE],Re.ConnectivityState.CONNECTING)||this.connectivityState===Re.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e)}removeConnectivityStateListener(e){this.stateListeners.delete(e)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([Re.ConnectivityState.TRANSIENT_FAILURE],Re.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}isHealthy(){return!0}addHealthStateWatcher(e){}removeHealthStateWatcher(e){}getRealSubchannel(){return this}realSubchannelEquals(e){return e.getRealSubchannel()===this}throttleKeepalive(e){e>this.keepaliveTime&&(this.keepaliveTime=e)}};zf.Subchannel=gg});var Ag=S($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.setup=$n.DEFAULT_PORT=void 0;var r2=Ir(),i2=F("dns"),o2=F("util"),hZ=KE(),Tg=Ee(),yg=St(),mZ=Me(),_Z=Ee(),jn=Lt(),n2=F("net"),EZ=hl(),SZ="dns_resolver";function zn(i){mZ.trace(_Z.LogVerbosity.DEBUG,SZ,i)}$n.DEFAULT_PORT=443;var gZ=3e4,TZ=o2.promisify(i2.resolveTxt),yZ=o2.promisify(i2.lookup),vg=class{constructor(e,t,o){var s,a,n;this.target=e,this.listener=t,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,zn("Resolver constructed for target "+(0,jn.uriToString)(e));let r=(0,jn.splitHostPort)(e.path);r===null?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,n2.isIPv4)(r.host)||(0,n2.isIPv6)(r.host)?(this.ipResult=[{addresses:[{host:r.host,port:(s=r.port)!==null&&s!==void 0?s:$n.DEFAULT_PORT}]}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=r.host,this.port=(a=r.port)!==null&&a!==void 0?a:$n.DEFAULT_PORT),this.percentage=Math.random()*100,o["grpc.service_config_disable_resolution"]===1&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:Tg.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,jn.uriToString)(this.target)}`,metadata:new yg.Metadata};let l={initialDelay:o["grpc.initial_reconnect_backoff_ms"],maxDelay:o["grpc.max_reconnect_backoff_ms"]};this.backoff=new EZ.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},l),this.backoff.unref(),this.minTimeBetweenResolutionsMs=(n=o["grpc.dns_min_time_between_resolutions_ms"])!==null&&n!==void 0?n:gZ,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(this.ipResult!==null){this.returnedIpResult||(zn("Returning IP address for target "+(0,jn.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(this.dnsHostname===null)zn("Failed to parse DNS address "+(0,jn.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:Tg.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,jn.uriToString)(this.target)}`,metadata:new yg.Metadata})}),this.stopNextResolutionTimer();else{if(this.pendingLookupPromise!==null)return;zn("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let e=this.dnsHostname;this.pendingLookupPromise=yZ(e,{all:!0}),this.pendingLookupPromise.then(t=>{if(this.pendingLookupPromise===null)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop();let o=t.map(a=>({host:a.address,port:+this.port}));this.latestLookupResult=o.map(a=>({addresses:[a]}));let s="["+o.map(a=>a.host+":"+a.port).join(",")+"]";if(zn("Resolved addresses for target "+(0,jn.uriToString)(this.target)+": "+s),this.latestLookupResult.length===0){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},t=>{this.pendingLookupPromise!==null&&(zn("Resolution error for target "+(0,jn.uriToString)(this.target)+": "+t.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&this.pendingTxtPromise===null&&(this.pendingTxtPromise=TZ(e),this.pendingTxtPromise.then(t=>{if(this.pendingTxtPromise!==null){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,hZ.extractAndSelectServiceConfig)(t,this.percentage)}catch(o){this.latestServiceConfigError={code:Tg.Status.UNAVAILABLE,details:`Parsing service config failed with error ${o.message}`,metadata:new yg.Metadata}}this.latestLookupResult!==null&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},t=>{}))}}startNextResolutionTimer(){var e,t;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs),(t=(e=this.nextResolutionTimer).unref)===null||t===void 0||t.call(e),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){this.pendingLookupPromise===null&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){this.pendingLookupPromise===null&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?zn('resolution update delayed by "min time between resolutions" rate limit'):zn("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(e){return e.path}};function vZ(){(0,r2.registerResolver)("dns",vg),(0,r2.registerDefaultScheme)("dns")}$n.setup=vZ});var Og=S(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.getProxiedConnection=_s.mapProxyName=void 0;var wl=Me(),hs=Ee(),AZ=Ir(),OZ=F("http"),RZ=F("tls"),bZ=Me(),s2=fr(),ms=Lt(),CZ=F("url"),NZ=Ag(),xZ="proxy";function Yn(i){bZ.trace(hs.LogVerbosity.DEBUG,xZ,i)}function PZ(){let i="",e="";if(process.env.grpc_proxy)e="grpc_proxy",i=process.env.grpc_proxy;else if(process.env.https_proxy)e="https_proxy",i=process.env.https_proxy;else if(process.env.http_proxy)e="http_proxy",i=process.env.http_proxy;else return{};let t;try{t=new CZ.URL(i)}catch{return(0,wl.log)(hs.LogVerbosity.ERROR,`cannot parse value of "${e}" env var`),{}}if(t.protocol!=="http:")return(0,wl.log)(hs.LogVerbosity.ERROR,`"${t.protocol}" scheme not supported in proxy URI`),{};let o=null;t.username&&(t.password?((0,wl.log)(hs.LogVerbosity.INFO,"userinfo found in proxy URI"),o=`${t.username}:${t.password}`):o=t.username);let s=t.hostname,a=t.port;a===""&&(a="80");let n={address:`${s}:${a}`};return o&&(n.creds=o),Yn("Proxy server "+n.address+" set by environment variable "+e),n}function IZ(){let i=process.env.no_grpc_proxy,e="no_grpc_proxy";return i||(i=process.env.no_proxy,e="no_proxy"),i?(Yn("No proxy server list set by environment variable "+e),i.split(",")):[]}function MZ(i,e){var t;let o={target:i,extraOptions:{}};if(((t=e["grpc.enable_http_proxy"])!==null&&t!==void 0?t:1)===0||i.scheme==="unix")return o;let s=PZ();if(!s.address)return o;let a=(0,ms.splitHostPort)(i.path);if(!a)return o;let n=a.host;for(let l of IZ())if(l===n)return Yn("Not using proxy for target in no_proxy list: "+(0,ms.uriToString)(i)),o;let r={"grpc.http_connect_target":(0,ms.uriToString)(i)};return s.creds&&(r["grpc.http_connect_creds"]=s.creds),{target:{scheme:"dns",path:s.address},extraOptions:r}}_s.mapProxyName=MZ;function LZ(i,e,t){var o;if(!("grpc.http_connect_target"in e))return Promise.resolve({});let s=e["grpc.http_connect_target"],a=(0,ms.parseUri)(s);if(a===null)return Promise.resolve({});let n=(0,ms.splitHostPort)(a.path);if(n===null)return Promise.resolve({});let r=`${n.host}:${(o=n.port)!==null&&o!==void 0?o:NZ.DEFAULT_PORT}`,l={method:"CONNECT",path:r},c={Host:r};(0,s2.isTcpSubchannelAddress)(i)?(l.host=i.host,l.port=i.port):l.socketPath=i.path,"grpc.http_connect_creds"in e&&(c["Proxy-Authorization"]="Basic "+Buffer.from(e["grpc.http_connect_creds"]).toString("base64")),l.headers=c;let u=(0,s2.subchannelAddressToString)(i);return Yn("Using proxy "+u+" to connect to "+l.path),new Promise((d,_)=>{let E=OZ.request(l);E.once("connect",(A,T,R)=>{var O;if(E.removeAllListeners(),T.removeAllListeners(),A.statusCode===200)if(Yn("Successfully connected to "+l.path+" through proxy "+u),"secureContext"in t){let C=(0,AZ.getDefaultAuthority)(a),L=(0,ms.splitHostPort)(C),I=(O=L==null?void 0:L.host)!==null&&O!==void 0?O:C,z=RZ.connect(Object.assign({host:I,servername:I,socket:T},t),()=>{Yn("Successfully established a TLS connection to "+l.path+" through proxy "+u),d({socket:z,realTarget:a})});z.on("error",j=>{Yn("Failed to establish a TLS connection to "+l.path+" through proxy "+u+" with error "+j.message),_()})}else Yn("Successfully established a plaintext connection to "+l.path+" through proxy "+u),d({socket:T,realTarget:a});else(0,wl.log)(hs.LogVerbosity.ERROR,"Failed to connect to "+l.path+" through proxy "+u+" with status "+A.statusCode),_()}),E.once("error",A=>{E.removeAllListeners(),(0,wl.log)(hs.LogVerbosity.ERROR,"Failed to connect to proxy "+u+" with error "+A.message),_()}),E.end()})}_s.getProxiedConnection=LZ});var bg=S($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});$f.StreamDecoder=void 0;var qr;(function(i){i[i.NO_DATA=0]="NO_DATA",i[i.READING_SIZE=1]="READING_SIZE",i[i.READING_MESSAGE=2]="READING_MESSAGE"})(qr||(qr={}));var Rg=class{constructor(e){this.maxReadMessageLength=e,this.readState=qr.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let t=0,o,s=[];for(;t<e.length;)switch(this.readState){case qr.NO_DATA:this.readCompressFlag=e.slice(t,t+1),t+=1,this.readState=qr.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case qr.READING_SIZE:if(o=Math.min(e.length-t,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,t,t+o),this.readSizeRemaining-=o,t+=o,this.readSizeRemaining===0){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.maxReadMessageLength!==-1&&this.readMessageSize>this.maxReadMessageLength)throw new Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=qr.READING_MESSAGE;else{let a=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=qr.NO_DATA,s.push(a)}}break;case qr.READING_MESSAGE:if(o=Math.min(e.length-t,this.readMessageRemaining),this.readPartialMessage.push(e.slice(t,t+o)),this.readMessageRemaining-=o,t+=o,this.readMessageRemaining===0){let a=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),n=Buffer.concat(a,this.readMessageSize+5);this.readState=qr.NO_DATA,s.push(n)}break;default:throw new Error("Unexpected read state")}return s}};$f.StreamDecoder=Rg});var l2=S(Yf=>{"use strict";Object.defineProperty(Yf,"__esModule",{value:!0});Yf.Http2SubchannelCall=void 0;var un=F("http2"),wZ=F("os"),Ae=Ee(),dn=St(),DZ=bg(),UZ=Me(),kZ=Ee(),BZ="subchannel_call";function VZ(i){for(let[e,t]of Object.entries(wZ.constants.errno))if(t===i)return e;return"Unknown system error "+i}function a2(i){let e=`Received HTTP status code ${i}`,t;switch(i){case 400:t=Ae.Status.INTERNAL;break;case 401:t=Ae.Status.UNAUTHENTICATED;break;case 403:t=Ae.Status.PERMISSION_DENIED;break;case 404:t=Ae.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:t=Ae.Status.UNAVAILABLE;break;default:t=Ae.Status.UNKNOWN}return{code:t,details:e,metadata:new dn.Metadata}}var Cg=class{constructor(e,t,o,s,a){var n;this.http2Stream=e,this.callEventTracker=t,this.listener=o,this.transport=s,this.callId=a,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.finalStatus=null,this.internalError=null,this.serverEndedCall=!1;let r=(n=s.getOptions()["grpc.max_receive_message_length"])!==null&&n!==void 0?n:Ae.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new DZ.StreamDecoder(r),e.on("response",(l,c)=>{let u="";for(let d of Object.keys(l))u+="		"+d+": "+l[d]+`
`;if(this.trace(`Received server headers:
`+u),this.httpStatusCode=l[":status"],c&un.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(l);else{let d;try{d=dn.Metadata.fromHttp2Headers(l)}catch(_){this.endCall({code:Ae.Status.UNKNOWN,details:_.message,metadata:new dn.Metadata});return}this.listener.onReceiveMetadata(d)}}),e.on("trailers",l=>{this.handleTrailers(l)}),e.on("data",l=>{if(this.statusOutput)return;this.trace("receive HTTP/2 data frame of length "+l.length);let c;try{c=this.decoder.write(l)}catch(u){this.cancelWithStatus(Ae.Status.RESOURCE_EXHAUSTED,u.message);return}for(let u of c)this.trace("parsed message of length "+u.length),this.callEventTracker.addMessageReceived(),this.tryPush(u)}),e.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),e.on("close",()=>{this.serverEndedCall=!0,process.nextTick(()=>{var l;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),((l=this.finalStatus)===null||l===void 0?void 0:l.code)===Ae.Status.OK)return;let c,u="";switch(e.rstCode){case un.constants.NGHTTP2_NO_ERROR:if(this.finalStatus!==null)return;if(this.httpStatusCode&&this.httpStatusCode!==200){let d=a2(this.httpStatusCode);c=d.code,u=d.details}else c=Ae.Status.INTERNAL,u=`Received RST_STREAM with code ${e.rstCode} (Call ended without gRPC status)`;break;case un.constants.NGHTTP2_REFUSED_STREAM:c=Ae.Status.UNAVAILABLE,u="Stream refused by server";break;case un.constants.NGHTTP2_CANCEL:c=Ae.Status.CANCELLED,u="Call cancelled";break;case un.constants.NGHTTP2_ENHANCE_YOUR_CALM:c=Ae.Status.RESOURCE_EXHAUSTED,u="Bandwidth exhausted or memory limit exceeded";break;case un.constants.NGHTTP2_INADEQUATE_SECURITY:c=Ae.Status.PERMISSION_DENIED,u="Protocol not secure enough";break;case un.constants.NGHTTP2_INTERNAL_ERROR:c=Ae.Status.INTERNAL,this.internalError===null?u=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:this.internalError.code==="ECONNRESET"||this.internalError.code==="ETIMEDOUT"?(c=Ae.Status.UNAVAILABLE,u=this.internalError.message):u=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:c=Ae.Status.INTERNAL,u=`Received RST_STREAM with code ${e.rstCode}`}this.endCall({code:c,details:u,metadata:new dn.Metadata,rstCode:e.rstCode})})}),e.on("error",l=>{l.code!=="ERR_HTTP2_STREAM_ERROR"&&(this.trace("Node error event: message="+l.message+" code="+l.code+" errno="+VZ(l.errno)+" syscall="+l.syscall),this.internalError=l),this.callEventTracker.onStreamEnd(!1)})}getDeadlineInfo(){return[`remote_addr=${this.getPeer()}`]}onDisconnect(){this.endCall({code:Ae.Status.UNAVAILABLE,details:"Connection dropped",metadata:new dn.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(e){UZ.trace(kZ.LogVerbosity.DEBUG,BZ,"["+this.callId+"] "+e)}endCall(e){(this.finalStatus===null||this.finalStatus.code===Ae.Status.OK)&&(this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){this.finalStatus!==null&&(this.finalStatus.code!==Ae.Status.OK||this.readsClosed&&this.unpushedReadMessages.length===0&&!this.isReadFilterPending&&!this.isPushPending)&&this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,!this.statusOutput&&(this.listener.onReceiveMessage(e),this.maybeOutputStatus())})}tryPush(e){this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e))}handleTrailers(e){this.serverEndedCall=!0,this.callEventTracker.onStreamEnd(!0);let t="";for(let n of Object.keys(e))t+="		"+n+": "+e[n]+`
`;this.trace(`Received server trailers:
`+t);let o;try{o=dn.Metadata.fromHttp2Headers(e)}catch{o=new dn.Metadata}let s=o.getMap(),a;if(typeof s["grpc-status"]=="string"){let n=Number(s["grpc-status"]);this.trace("received status code "+n+" from server"),o.remove("grpc-status");let r="";if(typeof s["grpc-message"]=="string"){try{r=decodeURI(s["grpc-message"])}catch{r=s["grpc-message"]}o.remove("grpc-message"),this.trace('received status details string "'+r+'" from server')}a={code:n,details:r,metadata:o}}else this.httpStatusCode?(a=a2(this.httpStatusCode),a.metadata=o):a={code:Ae.Status.UNKNOWN,details:"No status information received",metadata:o};this.endCall(a)}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed)if(this.serverEndedCall)this.http2Stream.end();else{let t;((e=this.finalStatus)===null||e===void 0?void 0:e.code)===Ae.Status.OK?t=un.constants.NGHTTP2_NO_ERROR:t=un.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+t),this.http2Stream.close(t)}}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.endCall({code:e,details:t,metadata:new dn.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(this.finalStatus!==null&&this.finalStatus.code!==Ae.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let e=this.unpushedReadMessages.shift();this.push(e);return}this.http2Stream.resume()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length);let o=s=>{process.nextTick(()=>{var a;let n=Ae.Status.UNAVAILABLE;(s==null?void 0:s.code)==="ERR_STREAM_WRITE_AFTER_END"&&(n=Ae.Status.INTERNAL),s&&this.cancelWithStatus(n,`Write error: ${s.message}`),(a=e.callback)===null||a===void 0||a.call(e)})};this.trace("sending data chunk of length "+t.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(t,o)}catch(s){this.endCall({code:Ae.Status.UNAVAILABLE,details:`Write failed with error ${s.message}`,metadata:new dn.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}};Yf.Http2SubchannelCall=Cg});var Ng=S(Kf=>{"use strict";Object.defineProperty(Kf,"__esModule",{value:!0});Kf.getNextCallNumber=void 0;var FZ=0;function qZ(){return FZ++}Kf.getNextCallNumber=qZ});var d2=S(Jf=>{"use strict";Object.defineProperty(Jf,"__esModule",{value:!0});Jf.Http2SubchannelConnector=void 0;var Mg=F("http2"),c2=F("tls"),Wf=Bi(),Dl=Ee(),GZ=Og(),Ss=Me(),u2=Ir(),Xf=fr(),Es=Lt(),HZ=F("net"),jZ=l2(),zZ=Ng(),xg="transport",$Z="transport_flowctrl",YZ=IE().version,{HTTP2_HEADER_AUTHORITY:KZ,HTTP2_HEADER_CONTENT_TYPE:WZ,HTTP2_HEADER_METHOD:XZ,HTTP2_HEADER_PATH:JZ,HTTP2_HEADER_TE:QZ,HTTP2_HEADER_USER_AGENT:ZZ}=Mg.constants,eee=2e4,tee=Buffer.from("too_many_pings","ascii"),Pg=class{constructor(e,t,o,s){this.session=e,this.options=o,this.remoteName=s,this.keepaliveTimeMs=-1,this.keepaliveTimeoutMs=eee,this.keepaliveTimerId=null,this.pendingSendKeepalivePing=!1,this.keepaliveTimeoutId=null,this.keepaliveWithoutCalls=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,Xf.subchannelAddressToString)(t),o["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.streamTracker=new Wf.ChannelzCallTrackerStub):this.streamTracker=new Wf.ChannelzCallTracker,this.channelzRef=(0,Wf.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[o["grpc.primary_user_agent"],`grpc-node-js/${YZ}`,o["grpc.secondary_user_agent"]].filter(a=>a).join(" "),"grpc.keepalive_time_ms"in o&&(this.keepaliveTimeMs=o["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in o&&(this.keepaliveTimeoutMs=o["grpc.keepalive_timeout_ms"]),"grpc.keepalive_permit_without_calls"in o?this.keepaliveWithoutCalls=o["grpc.keepalive_permit_without_calls"]===1:this.keepaliveWithoutCalls=!1,e.once("close",()=>{this.trace("session closed"),this.stopKeepalivePings(),this.handleDisconnect()}),e.once("goaway",(a,n,r)=>{let l=!1;a===Mg.constants.NGHTTP2_ENHANCE_YOUR_CALM&&r&&r.equals(tee)&&(l=!0),this.trace("connection closed by GOAWAY with code "+a+" and data "+(r==null?void 0:r.toString())),this.reportDisconnectToOwner(l)}),e.once("error",a=>{this.trace("connection closed with error "+a.message)}),Ss.isTracerEnabled(xg)&&(e.on("remoteSettings",a=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(a))}),e.on("localSettings",a=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(a))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var e,t,o;let s=this.session.socket,a=s.remoteAddress?(0,Xf.stringToSubchannelAddress)(s.remoteAddress,s.remotePort):null,n=s.localAddress?(0,Xf.stringToSubchannelAddress)(s.localAddress,s.localPort):null,r;if(this.session.encrypted){let c=s,u=c.getCipher(),d=c.getCertificate(),_=c.getPeerCertificate();r={cipherSuiteStandardName:(e=u.standardName)!==null&&e!==void 0?e:null,cipherSuiteOtherName:u.standardName?null:u.name,localCertificate:d&&"raw"in d?d.raw:null,remoteCertificate:_&&"raw"in _?_.raw:null}}else r=null;return{remoteAddress:a,localAddress:n,security:r,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:(t=this.session.state.localWindowSize)!==null&&t!==void 0?t:null,remoteFlowControlWindow:(o=this.session.state.remoteWindowSize)!==null&&o!==void 0?o:null}}trace(e){Ss.trace(Dl.LogVerbosity.DEBUG,xg,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}keepaliveTrace(e){Ss.trace(Dl.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}flowControlTrace(e){Ss.trace(Dl.LogVerbosity.DEBUG,$Z,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}internalsTrace(e){Ss.trace(Dl.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}reportDisconnectToOwner(e){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(t=>t(e)))}handleDisconnect(){this.reportDisconnectToOwner(!1),setImmediate(()=>{for(let e of this.activeCalls)e.onDisconnect()})}addDisconnectListener(e){this.disconnectListeners.push(e)}clearKeepaliveTimer(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null)}clearKeepaliveTimeout(){this.keepaliveTimeoutId&&(clearTimeout(this.keepaliveTimeoutId),this.keepaliveTimeoutId=null)}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,t;if(this.clearKeepaliveTimer(),!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimeoutId||(this.keepaliveTimeoutId=setTimeout(()=>{this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),(t=(e=this.keepaliveTimeoutId).unref)===null||t===void 0||t.call(e));try{this.session.ping((o,s,a)=>{o&&(this.keepaliveTrace("Ping failed with error "+o.message),this.handleDisconnect()),this.keepaliveTrace("Received ping response"),this.clearKeepaliveTimeout(),this.maybeStartKeepalivePingTimer()})}catch{this.handleDisconnect()}}maybeStartKeepalivePingTimer(){var e,t;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):!this.keepaliveTimerId&&!this.keepaliveTimeoutId&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimerId=setTimeout(()=>{this.maybeSendPing()},this.keepaliveTimeMs),(t=(e=this.keepaliveTimerId).unref)===null||t===void 0||t.call(e)))}stopKeepalivePings(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null),this.clearKeepaliveTimeout()}removeActiveCall(e){this.activeCalls.delete(e),this.activeCalls.size===0&&this.session.unref()}addActiveCall(e){this.activeCalls.add(e),this.activeCalls.size===1&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(e,t,o,s,a){let n=e.toHttp2Headers();n[KZ]=t,n[ZZ]=this.userAgent,n[WZ]="application/grpc",n[XZ]="POST",n[JZ]=o,n[QZ]="trailers";let r;try{r=this.session.request(n)}catch(u){throw this.handleDisconnect(),u}this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed);let l,c;return this.channelzEnabled?(this.streamTracker.addCallStarted(),l={addMessageSent:()=>{var u;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,(u=a.addMessageSent)===null||u===void 0||u.call(a)},addMessageReceived:()=>{var u;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,(u=a.addMessageReceived)===null||u===void 0||u.call(a)},onCallEnd:u=>{var d;(d=a.onCallEnd)===null||d===void 0||d.call(a,u),this.removeActiveCall(c)},onStreamEnd:u=>{var d;u?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),(d=a.onStreamEnd)===null||d===void 0||d.call(a,u)}}):l={addMessageSent:()=>{var u;(u=a.addMessageSent)===null||u===void 0||u.call(a)},addMessageReceived:()=>{var u;(u=a.addMessageReceived)===null||u===void 0||u.call(a)},onCallEnd:u=>{var d;(d=a.onCallEnd)===null||d===void 0||d.call(a,u),this.removeActiveCall(c)},onStreamEnd:u=>{var d;(d=a.onStreamEnd)===null||d===void 0||d.call(a,u)}},c=new jZ.Http2SubchannelCall(r,l,s,this,(0,zZ.getNextCallNumber)()),this.addActiveCall(c),c}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}shutdown(){this.session.close(),(0,Wf.unregisterChannelzRef)(this.channelzRef)}},Ig=class{constructor(e){this.channelTarget=e,this.session=null,this.isShutdown=!1}trace(e){Ss.trace(Dl.LogVerbosity.DEBUG,xg,(0,Es.uriToString)(this.channelTarget)+" "+e)}createSession(e,t,o,s){return this.isShutdown?Promise.reject():new Promise((a,n)=>{var r,l,c,u;let d;s.realTarget?(d=(0,Es.uriToString)(s.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,Es.uriToString)(s.realTarget))):(d=null,this.trace("creating HTTP/2 session to "+(0,Xf.subchannelAddressToString)(e)));let _=(0,u2.getDefaultAuthority)((r=s.realTarget)!==null&&r!==void 0?r:this.channelTarget),E=t._getConnectionOptions()||{};E.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in o?E.maxSessionMemory=o["grpc-node.max_session_memory"]:E.maxSessionMemory=Number.MAX_SAFE_INTEGER;let A="http://";if("secureContext"in E){if(A="https://",o["grpc.ssl_target_name_override"]){let O=o["grpc.ssl_target_name_override"],C=(l=E.checkServerIdentity)!==null&&l!==void 0?l:c2.checkServerIdentity;E.checkServerIdentity=(L,I)=>C(O,I),E.servername=O}else{let O=(u=(c=(0,Es.splitHostPort)(_))===null||c===void 0?void 0:c.host)!==null&&u!==void 0?u:"localhost";E.servername=O}s.socket&&(E.createConnection=(O,C)=>s.socket)}else E.createConnection=(O,C)=>s.socket?s.socket:HZ.connect(e);E=Object.assign(Object.assign(Object.assign({},E),e),{enableTrace:o["grpc-node.tls_enable_trace"]===1});let T=Mg.connect(A+_,E);this.session=T;let R="Failed to connect";T.unref(),T.once("connect",()=>{T.removeAllListeners(),a(new Pg(T,e,o,d)),this.session=null}),T.once("close",()=>{this.session=null,setImmediate(()=>{n(`${R} (${new Date().toISOString()})`)})}),T.once("error",O=>{R=O.message,this.trace("connection failed with error "+R)})})}connect(e,t,o){var s,a,n;if(this.isShutdown)return Promise.reject();let r=t._getConnectionOptions()||{};if("secureContext"in r){if(r.ALPNProtocols=["h2"],o["grpc.ssl_target_name_override"]){let l=o["grpc.ssl_target_name_override"],c=(s=r.checkServerIdentity)!==null&&s!==void 0?s:c2.checkServerIdentity;r.checkServerIdentity=(u,d)=>c(l,d),r.servername=l}else if("grpc.http_connect_target"in o){let l=(0,u2.getDefaultAuthority)((a=(0,Es.parseUri)(o["grpc.http_connect_target"]))!==null&&a!==void 0?a:{path:"localhost"}),c=(0,Es.splitHostPort)(l);r.servername=(n=c==null?void 0:c.host)!==null&&n!==void 0?n:l}o["grpc-node.tls_enable_trace"]&&(r.enableTrace=!0)}return(0,GZ.getProxiedConnection)(e,o,r).then(l=>this.createSession(e,t,o,l))}shutdown(){var e;this.isShutdown=!0,(e=this.session)===null||e===void 0||e.close(),this.session=null}};Jf.Http2SubchannelConnector=Ig});var f2=S(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.getSubchannelPool=gs.SubchannelPool=void 0;var ree=MU(),nee=t2(),iee=fr(),oee=Lt(),see=d2(),aee=1e4,Ul=class{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(let t in this.pool){let s=this.pool[t].filter(a=>!a.subchannel.unrefIfOneRef());s.length>0&&(e=!1),this.pool[t]=s}e&&this.cleanupTimer!==null&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,t;this.cleanupTimer===null&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},aee),(t=(e=this.cleanupTimer).unref)===null||t===void 0||t.call(e))}getOrCreateSubchannel(e,t,o,s){this.ensureCleanupTask();let a=(0,oee.uriToString)(e);if(a in this.pool){let r=this.pool[a];for(let l of r)if((0,iee.subchannelAddressEqual)(t,l.subchannelAddress)&&(0,ree.channelOptionsEqual)(o,l.channelArguments)&&s._equals(l.channelCredentials))return l.subchannel}let n=new nee.Subchannel(e,t,o,s,new see.Http2SubchannelConnector(e));return a in this.pool||(this.pool[a]=[]),this.pool[a].push({subchannelAddress:t,channelArguments:o,channelCredentials:s,subchannel:n}),n.ref(),n}};gs.SubchannelPool=Ul;var lee=new Ul;function cee(i){return i?lee:new Ul}gs.getSubchannelPool=cee});var wg=S(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.FilterStackFactory=Ts.FilterStack=void 0;var Qf=class{constructor(e){this.filters=e}sendMetadata(e){let t=e;for(let o=0;o<this.filters.length;o++)t=this.filters[o].sendMetadata(t);return t}receiveMetadata(e){let t=e;for(let o=this.filters.length-1;o>=0;o--)t=this.filters[o].receiveMetadata(t);return t}sendMessage(e){let t=e;for(let o=0;o<this.filters.length;o++)t=this.filters[o].sendMessage(t);return t}receiveMessage(e){let t=e;for(let o=this.filters.length-1;o>=0;o--)t=this.filters[o].receiveMessage(t);return t}receiveTrailers(e){let t=e;for(let o=this.filters.length-1;o>=0;o--)t=this.filters[o].receiveTrailers(t);return t}push(e){this.filters.unshift(...e)}getFilters(){return this.filters}};Ts.FilterStack=Qf;var Lg=class i{constructor(e){this.factories=e}push(e){this.factories.unshift(...e)}clone(){return new i([...this.factories])}createFilter(){return new Qf(this.factories.map(e=>e.createFilter()))}};Ts.FilterStackFactory=Lg});var Dg=S(Zf=>{"use strict";Object.defineProperty(Zf,"__esModule",{value:!0});Zf.CompressionAlgorithms=void 0;var p2;(function(i){i[i.identity=0]="identity",i[i.deflate=1]="deflate",i[i.gzip=2]="gzip"})(p2||(Zf.CompressionAlgorithms=p2={}))});var kg=S(ep=>{"use strict";Object.defineProperty(ep,"__esModule",{value:!0});ep.BaseFilter=void 0;var Ug=class{async sendMetadata(e){return e}receiveMetadata(e){return e}async sendMessage(e){return e}async receiveMessage(e){return e}receiveTrailers(e){return e}};ep.BaseFilter=Ug});var _2=S(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.CompressionFilterFactory=vs.CompressionFilter=void 0;var tp=F("zlib"),m2=Dg(),rp=Ee(),uee=kg(),dee=Me(),fee=i=>typeof i=="number"&&typeof m2.CompressionAlgorithms[i]=="string",ys=class{async writeMessage(e,t){let o=e;t&&(o=await this.compressMessage(o));let s=Buffer.allocUnsafe(o.length+5);return s.writeUInt8(t?1:0,0),s.writeUInt32BE(o.length,1),o.copy(s,5),s}async readMessage(e){let t=e.readUInt8(0)===1,o=e.slice(5);return t&&(o=await this.decompressMessage(o)),o}},Vi=class extends ys{async compressMessage(e){return e}async writeMessage(e,t){let o=Buffer.allocUnsafe(e.length+5);return o.writeUInt8(0,0),o.writeUInt32BE(e.length,1),e.copy(o,5),o}decompressMessage(e){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}},Bg=class extends ys{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,o)=>{tp.deflate(e,(s,a)=>{s?o(s):t(a)})})}decompressMessage(e){return new Promise((t,o)=>{let s=0,a=[],n=tp.createInflate();n.on("data",r=>{a.push(r),s+=r.byteLength,this.maxRecvMessageLength!==-1&&s>this.maxRecvMessageLength&&(n.destroy(),o({code:rp.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),n.on("end",()=>{t(Buffer.concat(a))}),n.write(e),n.end()})}},Vg=class extends ys{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,o)=>{tp.gzip(e,(s,a)=>{s?o(s):t(a)})})}decompressMessage(e){return new Promise((t,o)=>{let s=0,a=[],n=tp.createGunzip();n.on("data",r=>{a.push(r),s+=r.byteLength,this.maxRecvMessageLength!==-1&&s>this.maxRecvMessageLength&&(n.destroy(),o({code:rp.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),n.on("end",()=>{t(Buffer.concat(a))}),n.write(e),n.end()})}},Fg=class extends ys{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}};function h2(i,e){switch(i){case"identity":return new Vi;case"deflate":return new Bg(e);case"gzip":return new Vg(e);default:return new Fg(i)}}var np=class extends uee.BaseFilter{constructor(e,t){var o,s;super(),this.sharedFilterConfig=t,this.sendCompression=new Vi,this.receiveCompression=new Vi,this.currentCompressionAlgorithm="identity";let a=e["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=(o=e["grpc.max_receive_message_length"])!==null&&o!==void 0?o:rp.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,a!==void 0)if(fee(a)){let n=m2.CompressionAlgorithms[a],r=(s=t.serverSupportedEncodingHeader)===null||s===void 0?void 0:s.split(",");(!r||r.includes(n))&&(this.currentCompressionAlgorithm=n,this.sendCompression=h2(this.currentCompressionAlgorithm,-1))}else dee.log(rp.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${a}`)}async sendMetadata(e){let t=await e;return t.set("grpc-accept-encoding","identity,deflate,gzip"),t.set("accept-encoding","identity"),this.currentCompressionAlgorithm==="identity"?t.remove("grpc-encoding"):t.set("grpc-encoding",this.currentCompressionAlgorithm),t}receiveMetadata(e){let t=e.get("grpc-encoding");if(t.length>0){let s=t[0];typeof s=="string"&&(this.receiveCompression=h2(s,this.maxReceiveMessageLength))}e.remove("grpc-encoding");let o=e.get("grpc-accept-encoding")[0];return o&&(this.sharedFilterConfig.serverSupportedEncodingHeader=o,o.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new Vi,this.currentCompressionAlgorithm="identity")),e.remove("grpc-accept-encoding"),e}async sendMessage(e){var t;let o=await e,s;return this.sendCompression instanceof Vi?s=!1:s=(((t=o.flags)!==null&&t!==void 0?t:0)&2)===0,{message:await this.sendCompression.writeMessage(o.message,s),flags:o.flags}}async receiveMessage(e){return this.receiveCompression.readMessage(await e)}};vs.CompressionFilter=np;var qg=class{constructor(e,t){this.options=t,this.sharedFilterConfig={}}createFilter(){return new np(this.options,this.sharedFilterConfig)}};vs.CompressionFilterFactory=qg});var kl=S(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.formatDateDifference=rr.deadlineToString=rr.getRelativeTimeout=rr.getDeadlineTimeoutString=rr.minDeadline=void 0;function pee(...i){let e=1/0;for(let t of i){let o=t instanceof Date?t.getTime():t;o<e&&(e=o)}return e}rr.minDeadline=pee;var hee=[["m",1],["S",1e3],["M",60*1e3],["H",60*60*1e3]];function mee(i){let e=new Date().getTime();i instanceof Date&&(i=i.getTime());let t=Math.max(i-e,0);for(let[o,s]of hee){let a=t/s;if(a<1e8)return String(Math.ceil(a))+o}throw new Error("Deadline is too far in the future")}rr.getDeadlineTimeoutString=mee;var _ee=2147483647;function Eee(i){let e=i instanceof Date?i.getTime():i,t=new Date().getTime(),o=e-t;return o<0?0:o>_ee?1/0:o}rr.getRelativeTimeout=Eee;function See(i){if(i instanceof Date)return i.toISOString();{let e=new Date(i);return Number.isNaN(e.getTime())?""+i:e.toISOString()}}rr.deadlineToString=See;function gee(i,e){return((e.getTime()-i.getTime())/1e3).toFixed(3)+"s"}rr.formatDateDifference=gee});var op=S(ip=>{"use strict";Object.defineProperty(ip,"__esModule",{value:!0});ip.restrictControlPlaneStatusCode=void 0;var Gr=Ee(),Tee=[Gr.Status.OK,Gr.Status.INVALID_ARGUMENT,Gr.Status.NOT_FOUND,Gr.Status.ALREADY_EXISTS,Gr.Status.FAILED_PRECONDITION,Gr.Status.ABORTED,Gr.Status.OUT_OF_RANGE,Gr.Status.DATA_LOSS];function yee(i,e){return Tee.includes(i)?{code:Gr.Status.INTERNAL,details:`Invalid status from control plane: ${i} ${Gr.Status[i]} ${e}`}:{code:i,details:e}}ip.restrictControlPlaneStatusCode=yee});var g2=S(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});lp.LoadBalancingCall=void 0;var E2=Kt(),sp=Ee(),S2=kl(),ap=St(),Bl=Dn(),vee=Lt(),Aee=Me(),Gg=op(),Oee=F("http2"),Ree="load_balancing_call",Hg=class{constructor(e,t,o,s,a,n,r){var l,c;this.channel=e,this.callConfig=t,this.methodName=o,this.host=s,this.credentials=a,this.deadline=n,this.callNumber=r,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null,this.childStartTime=null;let u=this.methodName.split("/"),d="";u.length>=2&&(d=u[1]);let _=(c=(l=(0,vee.splitHostPort)(this.host))===null||l===void 0?void 0:l.host)!==null&&c!==void 0?c:"localhost";this.serviceUrl=`https://${_}/${d}`,this.startTime=new Date}getDeadlineInfo(){var e,t;let o=[];return this.childStartTime?(this.childStartTime>this.startTime&&(!((e=this.metadata)===null||e===void 0)&&e.getOptions().waitForReady&&o.push("wait_for_ready"),o.push(`LB pick: ${(0,S2.formatDateDifference)(this.startTime,this.childStartTime)}`)),o.push(...this.child.getDeadlineInfo()),o):(!((t=this.metadata)===null||t===void 0)&&t.getOptions().waitForReady&&o.push("wait_for_ready"),o.push("Waiting for LB pick"),o)}trace(e){Aee.trace(sp.LogVerbosity.DEBUG,Ree,"["+this.callNumber+"] "+e)}outputStatus(e,t){var o,s;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+e.code+' details="'+e.details+'" start time='+this.startTime.toISOString());let a=Object.assign(Object.assign({},e),{progress:t});(o=this.listener)===null||o===void 0||o.onReceiveStatus(a),(s=this.onCallEnded)===null||s===void 0||s.call(this,a.code)}}doPick(){var e,t;if(this.ended)return;if(!this.metadata)throw new Error("doPick called before start");this.trace("Pick called");let o=this.metadata.clone(),s=this.channel.doPick(o,this.callConfig.pickInformation),a=s.subchannel?"("+s.subchannel.getChannelzRef().id+") "+s.subchannel.getAddress():""+s.subchannel;switch(this.trace("Pick result: "+Bl.PickResultType[s.pickResultType]+" subchannel: "+a+" status: "+((e=s.status)===null||e===void 0?void 0:e.code)+" "+((t=s.status)===null||t===void 0?void 0:t.details)),s.pickResultType){case Bl.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(l=>{var c,u,d;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}if(o.merge(l),o.get("authorization").length>1&&this.outputStatus({code:sp.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new ap.Metadata},"PROCESSED"),s.subchannel.getConnectivityState()!==E2.ConnectivityState.READY){this.trace("Picked subchannel "+a+" has state "+E2.ConnectivityState[s.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&o.set("grpc-timeout",(0,S2.getDeadlineTimeoutString)(this.deadline));try{this.child=s.subchannel.getRealSubchannel().createCall(o,this.host,this.methodName,{onReceiveMetadata:_=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(_)},onReceiveMessage:_=>{this.trace("Received message"),this.listener.onReceiveMessage(_)},onReceiveStatus:_=>{this.trace("Received status"),_.rstCode===Oee.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(_,"REFUSED"):this.outputStatus(_,"PROCESSED")}}),this.childStartTime=new Date}catch(_){this.trace("Failed to start call on picked subchannel "+a+" with error "+_.message),this.outputStatus({code:sp.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+_.message,metadata:new ap.Metadata},"NOT_STARTED");return}(u=(c=this.callConfig).onCommitted)===null||u===void 0||u.call(c),(d=s.onCallStarted)===null||d===void 0||d.call(s),this.onCallEnded=s.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},l=>{let{code:c,details:u}=(0,Gg.restrictControlPlaneStatusCode)(typeof l.code=="number"?l.code:sp.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${l.message}`);this.outputStatus({code:c,details:u,metadata:new ap.Metadata},"PROCESSED")});break;case Bl.PickResultType.DROP:let{code:n,details:r}=(0,Gg.restrictControlPlaneStatusCode)(s.status.code,s.status.details);setImmediate(()=>{this.outputStatus({code:n,details:r,metadata:s.status.metadata},"DROP")});break;case Bl.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:l,details:c}=(0,Gg.restrictControlPlaneStatusCode)(s.status.code,s.status.details);setImmediate(()=>{this.outputStatus({code:l,details:c,metadata:s.status.metadata},"PROCESSED")})}break;case Bl.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(e,t){var o;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),(o=this.child)===null||o===void 0||o.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new ap.Metadata},"PROCESSED")}getPeer(){var e,t;return(t=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.listener=t,this.metadata=e,this.doPick()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.child.sendMessageWithContext(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}};lp.LoadBalancingCall=Hg});var y2=S(cp=>{"use strict";Object.defineProperty(cp,"__esModule",{value:!0});cp.ResolvingCall=void 0;var Fi=Ee(),qi=kl(),T2=St(),bee=Me(),Cee=op(),Nee="resolving_call",jg=class{constructor(e,t,o,s,a,n){this.channel=e,this.method=t,this.filterStackFactory=s,this.credentials=a,this.callNumber=n,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadlineStartTime=null,this.configReceivedTime=null,this.childStartTime=null,this.deadline=o.deadline,this.host=o.host,o.parentCall&&(o.flags&Fi.Propagate.CANCELLATION&&o.parentCall.on("cancelled",()=>{this.cancelWithStatus(Fi.Status.CANCELLED,"Cancelled by parent call")}),o.flags&Fi.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+o.parentCall.getDeadline()),this.deadline=(0,qi.minDeadline)(this.deadline,o.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(e){bee.trace(Fi.LogVerbosity.DEBUG,Nee,"["+this.callNumber+"] "+e)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.deadlineStartTime=new Date,this.trace("Deadline: "+(0,qi.deadlineToString)(this.deadline));let e=(0,qi.getRelativeTimeout)(this.deadline);if(e!==1/0){this.trace("Deadline will be reached in "+e+"ms");let t=()=>{if(!this.deadlineStartTime){this.cancelWithStatus(Fi.Status.DEADLINE_EXCEEDED,"Deadline exceeded");return}let o=[],s=new Date;o.push(`Deadline exceeded after ${(0,qi.formatDateDifference)(this.deadlineStartTime,s)}`),this.configReceivedTime?(this.configReceivedTime>this.deadlineStartTime&&o.push(`name resolution: ${(0,qi.formatDateDifference)(this.deadlineStartTime,this.configReceivedTime)}`),this.childStartTime?this.childStartTime>this.configReceivedTime&&o.push(`metadata filters: ${(0,qi.formatDateDifference)(this.configReceivedTime,this.childStartTime)}`):o.push("waiting for metadata filters")):o.push("waiting for name resolution"),this.child&&o.push(...this.child.getDeadlineInfo()),this.cancelWithStatus(Fi.Status.DEADLINE_EXCEEDED,o.join(","))};e<=0?process.nextTick(t):this.deadlineTimer=setTimeout(t,e)}}outputStatus(e){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let t=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+t.code+' details="'+t.details+'"'),this.statusWatchers.forEach(o=>o(t)),process.nextTick(()=>{var o;(o=this.listener)===null||o===void 0||o.onReceiveStatus(t)})}}sendMessageOnChild(e,t){if(!this.child)throw new Error("sendMessageonChild called with child not populated");let o=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:t,flags:e.flags})).then(s=>{this.writeFilterPending=!1,o.sendMessageWithContext(e,s.message),this.pendingHalfClose&&o.halfClose()},s=>{this.cancelWithStatus(s.code,s.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw new Error("getConfig called before start");let e=this.channel.getConfig(this.method,this.metadata);if(e.type==="NONE"){this.channel.queueCallForConfig(this);return}else if(e.type==="ERROR"){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e.error);return}this.configReceivedTime=new Date;let t=e.config;if(t.status!==Fi.Status.OK){let{code:o,details:s}=(0,Cee.restrictControlPlaneStatusCode)(t.status,"Failed to route call to method "+this.method);this.outputStatus({code:o,details:s,metadata:new T2.Metadata});return}if(t.methodConfig.timeout){let o=new Date;o.setSeconds(o.getSeconds()+t.methodConfig.timeout.seconds),o.setMilliseconds(o.getMilliseconds()+t.methodConfig.timeout.nanos/1e6),this.deadline=(0,qi.minDeadline)(this.deadline,o),this.runDeadlineTimer()}this.filterStackFactory.push(t.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(o=>{this.child=this.channel.createInnerCall(t,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.childStartTime=new Date,this.child.start(o,{onReceiveMetadata:s=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(s))},onReceiveMessage:s=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(s).then(a=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(a),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},a=>{this.cancelWithStatus(a.code,a.details)})},onReceiveStatus:s=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=s:this.outputStatus(s)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},o=>{this.outputStatus(o)})}reportResolverError(e){var t;!((t=this.metadata)===null||t===void 0)&&t.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e)}cancelWithStatus(e,t){var o;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),(o=this.child)===null||o===void 0||o.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new T2.Metadata})}getPeer(){var e,t;return(t=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.metadata=e.clone(),this.listener=t,this.getConfig()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.sendMessageOnChild(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){this.credentials=this.credentials.compose(e)}addStatusWatcher(e){this.statusWatchers.push(e)}getCallNumber(){return this.callNumber}};cp.ResolvingCall=jg});var v2=S(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.RetryingCall=Kn.MessageBufferTracker=Kn.RetryThrottler=void 0;var up=Ee(),xee=kl(),Pee=St(),Iee=Me(),Mee="retrying_call",$g=class{constructor(e,t,o){this.maxTokens=e,this.tokenRatio=t,o?this.tokens=o.tokens*(e/o.maxTokens):this.tokens=e}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}};Kn.RetryThrottler=$g;var Yg=class{constructor(e,t){this.totalLimit=e,this.limitPerCall=t,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(e,t){var o;let s=(o=this.allocatedPerCall.get(t))!==null&&o!==void 0?o:0;return this.limitPerCall-s<e||this.totalLimit-this.totalAllocated<e?!1:(this.allocatedPerCall.set(t,s+e),this.totalAllocated+=e,!0)}free(e,t){var o;if(this.totalAllocated<e)throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > total allocated ${this.totalAllocated}`);this.totalAllocated-=e;let s=(o=this.allocatedPerCall.get(t))!==null&&o!==void 0?o:0;if(s<e)throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > allocated for call ${s}`);this.allocatedPerCall.set(t,s-e)}freeAll(e){var t;let o=(t=this.allocatedPerCall.get(e))!==null&&t!==void 0?t:0;if(this.totalAllocated<o)throw new Error(`Invalid buffer allocation state: call ${e} allocated ${o} > total allocated ${this.totalAllocated}`);this.totalAllocated-=o,this.allocatedPerCall.delete(e)}};Kn.MessageBufferTracker=Yg;var zg="grpc-previous-rpc-attempts",Kg=class{constructor(e,t,o,s,a,n,r,l,c){if(this.channel=e,this.callConfig=t,this.methodName=o,this.host=s,this.credentials=a,this.deadline=n,this.callNumber=r,this.bufferTracker=l,this.retryThrottler=c,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0,t.methodConfig.retryPolicy){this.state="RETRY";let u=t.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(u.initialBackoff.substring(0,u.initialBackoff.length-1))}else t.methodConfig.hedgingPolicy?this.state="HEDGING":this.state="TRANSPARENT_ONLY";this.startTime=new Date}getDeadlineInfo(){if(this.underlyingCalls.length===0)return[];let e=[],t=this.underlyingCalls[this.underlyingCalls.length-1];return this.underlyingCalls.length>1&&e.push(`previous attempts: ${this.underlyingCalls.length-1}`),t.startTime>this.startTime&&e.push(`time to current attempt start: ${(0,xee.formatDateDifference)(this.startTime,t.startTime)}`),e.push(...t.call.getDeadlineInfo()),e}getCallNumber(){return this.callNumber}trace(e){Iee.trace(up.LogVerbosity.DEBUG,Mee,"["+this.callNumber+"] "+e)}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'" start time='+this.startTime.toISOString()),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var t;(t=this.listener)===null||t===void 0||t.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata})})}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.reportStatus({code:e,details:t,metadata:new Pee.Metadata});for(let{call:o}of this.underlyingCalls)o.cancelWithStatus(e,t)}getPeer(){return this.committedCallIndex!==null?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(e){var t;return(t=this.writeBuffer[e-this.writeBufferOffset])!==null&&t!==void 0?t:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if(this.state!=="COMMITTED")return;let e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let t=this.writeBufferOffset;t<e;t++){let o=this.getBufferEntry(t);o.allocated&&this.bufferTracker.free(o.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset),this.writeBufferOffset=e}commitCall(e){if(this.state!=="COMMITTED"&&this.underlyingCalls[e].state!=="COMPLETED"){this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e),this.state="COMMITTED",this.committedCallIndex=e;for(let t=0;t<this.underlyingCalls.length;t++)t!==e&&this.underlyingCalls[t].state!=="COMPLETED"&&(this.underlyingCalls[t].state="COMPLETED",this.underlyingCalls[t].call.cancelWithStatus(up.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if(this.state==="COMMITTED")return;let e=-1,t=-1;for(let[o,s]of this.underlyingCalls.entries())s.state==="ACTIVE"&&s.nextMessageToSend>e&&(e=s.nextMessageToSend,t=o);t===-1?this.state="TRANSPARENT_ONLY":this.commitCall(t)}isStatusCodeInList(e,t){return e.some(o=>o===t||o.toString().toLowerCase()===up.Status[t].toLowerCase())}getNextRetryBackoffMs(){var e;let t=(e=this.callConfig)===null||e===void 0?void 0:e.methodConfig.retryPolicy;if(!t)return 0;let o=Math.random()*this.nextRetryBackoffSec*1e3,s=Number(t.maxBackoff.substring(0,t.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*t.backoffMultiplier,s),o}maybeRetryCall(e,t){if(this.state!=="RETRY"){t(!1);return}let o=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(o.maxAttempts,5)){t(!1);return}let s;if(e===null)s=this.getNextRetryBackoffMs();else if(e<0){this.state="TRANSPARENT_ONLY",t(!1);return}else s=e,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var a,n;if(this.state!=="RETRY"){t(!1);return}(!((n=(a=this.retryThrottler)===null||a===void 0?void 0:a.canRetryCall())!==null&&n!==void 0)||n)&&(t(!0),this.attempts+=1,this.startNewAttempt())},s)}countActiveCalls(){let e=0;for(let t of this.underlyingCalls)(t==null?void 0:t.state)==="ACTIVE"&&(e+=1);return e}handleProcessedStatus(e,t,o){var s,a,n;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(t),this.reportStatus(e);break;case"HEDGING":if(this.isStatusCodeInList((s=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)!==null&&s!==void 0?s:[],e.code)){(a=this.retryThrottler)===null||a===void 0||a.addCallFailed();let r;if(o===null)r=0;else if(o<0){this.state="TRANSPARENT_ONLY",this.commitCall(t),this.reportStatus(e);return}else r=o;setTimeout(()=>{this.maybeStartHedgingAttempt(),this.countActiveCalls()===0&&(this.commitCall(t),this.reportStatus(e))},r)}else this.commitCall(t),this.reportStatus(e);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)?((n=this.retryThrottler)===null||n===void 0||n.addCallFailed(),this.maybeRetryCall(o,r=>{r||(this.commitCall(t),this.reportStatus(e))})):(this.commitCall(t),this.reportStatus(e));break}}getPushback(e){let t=e.get("grpc-retry-pushback-ms");if(t.length===0)return null;try{return parseInt(t[0])}catch{return-1}}handleChildStatus(e,t){var o;if(this.underlyingCalls[t].state==="COMPLETED")return;if(this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[t].call.getCallNumber()+"] in state "+this.underlyingCalls[t].state),this.underlyingCalls[t].state="COMPLETED",e.code===up.Status.OK){(o=this.retryThrottler)===null||o===void 0||o.addCallSucceeded(),this.commitCall(t),this.reportStatus(e);return}if(this.state==="COMMITTED"){this.reportStatus(e);return}let s=this.getPushback(e.metadata);switch(e.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(e,t,s):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(t),this.reportStatus(e);break;case"PROCESSED":this.handleProcessedStatus(e,t,s);break}}maybeStartHedgingAttempt(){if(this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let e=this.callConfig.methodConfig.hedgingPolicy;this.attempts>=Math.min(e.maxAttempts,5)||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer())}maybeStartHedgingTimer(){var e,t,o;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let s=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(s.maxAttempts,5))return;let a=(e=s.hedgingDelay)!==null&&e!==void 0?e:"0s",n=Number(a.substring(0,a.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},n*1e3),(o=(t=this.hedgingTimer).unref)===null||o===void 0||o.call(t)}startNewAttempt(){let e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);let t=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0,startTime:new Date});let o=this.attempts-1,s=this.initialMetadata.clone();o>0&&s.set(zg,`${o}`);let a=!1;e.start(s,{onReceiveMetadata:n=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]"),this.commitCall(t),a=!0,o>0&&n.set(zg,`${o}`),this.underlyingCalls[t].state==="ACTIVE"&&this.listener.onReceiveMetadata(n)},onReceiveMessage:n=>{this.trace("Received message from child ["+e.getCallNumber()+"]"),this.commitCall(t),this.underlyingCalls[t].state==="ACTIVE"&&this.listener.onReceiveMessage(n)},onReceiveStatus:n=>{this.trace("Received status from child ["+e.getCallNumber()+"]"),!a&&o>0&&n.metadata.set(zg,`${o}`),this.handleChildStatus(n,t)}}),this.sendNextChildMessage(t),this.readStarted&&e.startRead()}start(e,t){this.trace("start called"),this.listener=t,this.initialMetadata=e,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(e){var t,o;let s=this.underlyingCalls[e],a=s.nextMessageToSend;(o=(t=this.getBufferEntry(a)).callback)===null||o===void 0||o.call(t),this.clearSentMessages(),s.nextMessageToSend+=1,this.sendNextChildMessage(e)}sendNextChildMessage(e){let t=this.underlyingCalls[e];if(t.state!=="COMPLETED"&&this.getBufferEntry(t.nextMessageToSend)){let o=this.getBufferEntry(t.nextMessageToSend);switch(o.entryType){case"MESSAGE":t.call.sendMessageWithContext({callback:s=>{this.handleChildWriteCompleted(e)}},o.message.message);break;case"HALF_CLOSE":t.nextMessageToSend+=1,t.call.halfClose();break;case"FREED":break}}}sendMessageWithContext(e,t){var o;this.trace("write() called with message of length "+t.length);let s={message:t,flags:e.flags},a=this.getNextBufferIndex(),n={entryType:"MESSAGE",message:s,allocated:this.bufferTracker.allocate(t.length,this.callNumber)};if(this.writeBuffer.push(n),n.allocated){(o=e.callback)===null||o===void 0||o.call(e);for(let[r,l]of this.underlyingCalls.entries())l.state==="ACTIVE"&&l.nextMessageToSend===a&&l.call.sendMessageWithContext({callback:c=>{this.handleChildWriteCompleted(r)}},t)}else{if(this.commitCallWithMostMessages(),this.committedCallIndex===null)return;let r=this.underlyingCalls[this.committedCallIndex];n.callback=e.callback,r.state==="ACTIVE"&&r.nextMessageToSend===a&&r.call.sendMessageWithContext({callback:l=>{this.handleChildWriteCompleted(this.committedCallIndex)}},t)}}startRead(){this.trace("startRead called"),this.readStarted=!0;for(let e of this.underlyingCalls)(e==null?void 0:e.state)==="ACTIVE"&&e.call.startRead()}halfClose(){this.trace("halfClose called");let e=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1});for(let t of this.underlyingCalls)(t==null?void 0:t.state)==="ACTIVE"&&t.nextMessageToSend===e&&(t.nextMessageToSend+=1,t.call.halfClose())}setCredentials(e){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}};Kn.RetryingCall=Kg});var fp=S(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});dp.BaseSubchannelWrapper=void 0;var Wg=class{constructor(e){this.child=e,this.healthy=!0,this.healthListeners=new Set,e.addHealthStateWatcher(t=>{this.healthy&&this.updateHealthListeners()})}updateHealthListeners(){for(let e of this.healthListeners)e(this.isHealthy())}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e)}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}isHealthy(){return this.healthy&&this.child.isHealthy()}addHealthStateWatcher(e){this.healthListeners.add(e)}removeHealthStateWatcher(e){this.healthListeners.delete(e)}setHealthy(e){e!==this.healthy&&(this.healthy=e,this.child.isHealthy()&&this.updateHealthListeners())}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(e){return this.getRealSubchannel()===e.getRealSubchannel()}};dp.BaseSubchannelWrapper=Wg});var R2=S(mp=>{"use strict";Object.defineProperty(mp,"__esModule",{value:!0});mp.InternalChannel=void 0;var Lee=ef(),wee=IU(),Dee=f2(),A2=Dn(),Vl=Ee(),Uee=wg(),kee=_2(),O2=Ir(),Xg=Me(),Bee=Og(),pp=Lt(),Hr=Kt(),Fl=Bi(),Vee=g2(),Fee=kl(),qee=y2(),Jg=Ng(),Gee=op(),Qg=v2(),Hee=fp(),jee=2147483647,zee=1e3,$ee=30*60*1e3,hp=new Map,Yee=1<<24,Kee=1<<20,Zg=class extends Hee.BaseSubchannelWrapper{constructor(e,t){super(e),this.channel=t,this.refCount=0,this.subchannelStateListener=(o,s,a,n)=>{t.throttleKeepalive(n)},e.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}},eT=class{constructor(e,t,o){var s,a,n,r,l,c,u,d;if(this.credentials=t,this.options=o,this.connectivityState=Hr.ConnectivityState.IDLE,this.currentPicker=new A2.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new Fl.ChannelzCallTracker,this.childrenTracker=new Fl.ChannelzChildrenTracker,this.randomChannelId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),typeof e!="string")throw new TypeError("Channel target must be a string");if(!(t instanceof Lee.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(o&&typeof o!="object")throw new TypeError("Channel options must be an object");this.originalTarget=e;let _=(0,pp.parseUri)(e);if(_===null)throw new Error(`Could not parse target name "${e}"`);let E=(0,O2.mapUriDefaultScheme)(_);if(E===null)throw new Error(`Could not find a default scheme for target name "${e}"`);this.callRefTimer=setInterval(()=>{},jee),(a=(s=this.callRefTimer).unref)===null||a===void 0||a.call(s),this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzTrace=new Fl.ChannelzTrace,this.channelzRef=(0,Fl.registerChannelzChannel)(e,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,O2.getDefaultAuthority)(E);let A=(0,Bee.mapProxyName)(E,o);this.target=A.target,this.options=Object.assign({},this.options,A.extraOptions),this.subchannelPool=(0,Dee.getSubchannelPool)(((n=o["grpc.use_local_subchannel_pool"])!==null&&n!==void 0?n:0)===0),this.retryBufferTracker=new Qg.MessageBufferTracker((r=o["grpc.retry_buffer_size"])!==null&&r!==void 0?r:Yee,(l=o["grpc.per_rpc_retry_buffer_size"])!==null&&l!==void 0?l:Kee),this.keepaliveTime=(c=o["grpc.keepalive_time_ms"])!==null&&c!==void 0?c:-1,this.idleTimeoutMs=Math.max((u=o["grpc.client_idle_timeout_ms"])!==null&&u!==void 0?u:$ee,zee);let T={createSubchannel:(O,C)=>{let L=this.subchannelPool.getOrCreateSubchannel(this.target,O,Object.assign({},this.options,C),this.credentials);L.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",L.getChannelzRef());let I=new Zg(L,this);return this.wrappedSubchannels.add(I),I},updateState:(O,C)=>{this.currentPicker=C;let L=this.pickQueue.slice();this.pickQueue=[],L.length>0&&this.callRefTimerUnref();for(let I of L)I.doPick();this.updateState(O)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:O=>{this.channelzEnabled&&this.childrenTracker.refChild(O)},removeChannelzChild:O=>{this.channelzEnabled&&this.childrenTracker.unrefChild(O)}};this.resolvingLoadBalancer=new wee.ResolvingLoadBalancer(this.target,T,o,(O,C)=>{O.retryThrottling?hp.set(this.getTarget(),new Qg.RetryThrottler(O.retryThrottling.maxTokens,O.retryThrottling.tokenRatio,hp.get(this.getTarget()))):hp.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=C,this.currentResolutionError=null,process.nextTick(()=>{let L=this.configSelectionQueue;this.configSelectionQueue=[],L.length>0&&this.callRefTimerUnref();for(let I of L)I.getConfig()})},O=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+O.code+' and details "'+O.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),this.configSelector===null&&(this.currentResolutionError=Object.assign(Object.assign({},(0,Gee.restrictControlPlaneStatusCode)(O.code,O.details)),{metadata:O.metadata}));let C=this.configSelectionQueue;this.configSelectionQueue=[],C.length>0&&this.callRefTimerUnref();for(let L of C)L.reportResolverError(O)}),this.filterStackFactory=new Uee.FilterStackFactory([new kee.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(o,void 0,2));let R=new Error;(0,Xg.trace)(Vl.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+`) Channel constructed 
`+((d=R.stack)===null||d===void 0?void 0:d.substring(R.stack.indexOf(`
`)+1))),this.lastActivityTimestamp=new Date}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(e,t){(0,Xg.trace)(t??Vl.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,pp.uriToString)(this.target)+" "+e)}callRefTimerRef(){var e,t,o,s;!((t=(e=this.callRefTimer).hasRef)===null||t===void 0)&&t.call(e)||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(s=(o=this.callRefTimer).ref)===null||s===void 0||s.call(o))}callRefTimerUnref(){var e,t;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(t=(e=this.callRefTimer).unref)===null||t===void 0||t.call(e))}removeConnectivityStateWatcher(e){let t=this.connectivityStateWatchers.findIndex(o=>o===e);t>=0&&this.connectivityStateWatchers.splice(t,1)}updateState(e){(0,Xg.trace)(Vl.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,pp.uriToString)(this.target)+" "+Hr.ConnectivityState[this.connectivityState]+" -> "+Hr.ConnectivityState[e]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+Hr.ConnectivityState[e]),this.connectivityState=e;let t=this.connectivityStateWatchers.slice();for(let o of t)e!==o.currentState&&(o.timer&&clearTimeout(o.timer),this.removeConnectivityStateWatcher(o),o.callback());e!==Hr.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(e){if(e>this.keepaliveTime){this.keepaliveTime=e;for(let t of this.wrappedSubchannels)t.throttleKeepalive(e)}}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e)}doPick(e,t){return this.currentPicker.pick({metadata:e,extraPickInfo:t})}queueCallForPick(e){this.pickQueue.push(e),this.callRefTimerRef()}getConfig(e,t){return this.resolvingLoadBalancer.exitIdle(),this.configSelector?{type:"SUCCESS",config:this.configSelector(e,t,this.randomChannelId)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(e){this.configSelectionQueue.push(e),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(Hr.ConnectivityState.IDLE),this.currentPicker=new A2.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}startIdleTimeout(e){var t,o;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}let a=new Date().valueOf()-this.lastActivityTimestamp.valueOf();a>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-a)},e),(o=(t=this.idleTimer).unref)===null||o===void 0||o.call(t)}maybeStartIdleTimer(){this.connectivityState!==Hr.ConnectivityState.SHUTDOWN&&!this.idleTimer&&this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(e){this.channelzEnabled&&(e.code===Vl.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(e,t,o,s,a){let n=(0,Jg.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+n+'] method="'+t+'"'),new Vee.LoadBalancingCall(this,e,t,o,s,a,n)}createRetryingCall(e,t,o,s,a){let n=(0,Jg.getNextCallNumber)();return this.trace("createRetryingCall ["+n+'] method="'+t+'"'),new Qg.RetryingCall(this,e,t,o,s,a,n,this.retryBufferTracker,hp.get(this.getTarget()))}createInnerCall(e,t,o,s,a){return this.options["grpc.enable_retries"]===0?this.createLoadBalancingCall(e,t,o,s,a):this.createRetryingCall(e,t,o,s,a)}createResolvingCall(e,t,o,s,a){let n=(0,Jg.getNextCallNumber)();this.trace("createResolvingCall ["+n+'] method="'+e+'", deadline='+(0,Fee.deadlineToString)(t));let r={deadline:t,flags:a??Vl.Propagate.DEFAULTS,host:o??this.defaultAuthority,parentCall:s},l=new qee.ResolvingCall(this,e,r,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),n);return this.onCallStart(),l.addStatusWatcher(c=>{this.onCallEnd(c)}),l}close(){this.resolvingLoadBalancer.destroy(),this.updateState(Hr.ConnectivityState.SHUTDOWN),clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,Fl.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,pp.uriToString)(this.target)}getConnectivityState(e){let t=this.connectivityState;return e&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),t}watchConnectivityState(e,t,o){if(this.connectivityState===Hr.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");let s=null;if(t!==1/0){let n=t instanceof Date?t:new Date(t),r=new Date;if(t===-1/0||n<=r){process.nextTick(o,new Error("Deadline passed without connectivity state change"));return}s=setTimeout(()=>{this.removeConnectivityStateWatcher(a),o(new Error("Deadline passed without connectivity state change"))},n.getTime()-r.getTime())}let a={currentState:e,callback:o,timer:s};this.connectivityStateWatchers.push(a)}getChannelzRef(){return this.channelzRef}createCall(e,t,o,s,a){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof t=="number"||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===Hr.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");return this.createResolvingCall(e,t,o,s,a)}};mp.InternalChannel=eT});var yS=S(_p=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});_p.ChannelImplementation=void 0;var Wee=ef(),Xee=R2(),tT=class{constructor(e,t,o){if(typeof e!="string")throw new TypeError("Channel target must be a string");if(!(t instanceof Wee.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(o&&typeof o!="object")throw new TypeError("Channel options must be an object");this.internalChannel=new Xee.InternalChannel(e,t,o)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,t,o){this.internalChannel.watchConnectivityState(e,t,o)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,t,o,s,a){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof t=="number"||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(e,t,o,s,a)}};_p.ChannelImplementation=tT});var C2=S(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.ServerDuplexStreamImpl=nr.ServerWritableStreamImpl=nr.ServerReadableStreamImpl=nr.ServerUnaryCallImpl=nr.serverErrorToStatus=void 0;var Jee=F("events"),sT=F("stream"),aT=Ee(),b2=St();function lT(i,e){var t;let o={code:aT.Status.UNKNOWN,details:"message"in i?i.message:"Unknown Error",metadata:(t=e??i.metadata)!==null&&t!==void 0?t:null};return"code"in i&&typeof i.code=="number"&&Number.isInteger(i.code)&&(o.code=i.code,"details"in i&&typeof i.details=="string"&&(o.details=i.details)),o}nr.serverErrorToStatus=lT;var rT=class extends Jee.EventEmitter{constructor(e,t,o,s){super(),this.path=e,this.call=t,this.metadata=o,this.request=s,this.cancelled=!1}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}};nr.ServerUnaryCallImpl=rT;var nT=class extends sT.Readable{constructor(e,t,o){super({objectMode:!0}),this.path=e,this.call=t,this.metadata=o,this.cancelled=!1}_read(e){this.call.startRead()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}};nr.ServerReadableStreamImpl=nT;var iT=class extends sT.Writable{constructor(e,t,o,s){super({objectMode:!0}),this.path=e,this.call=t,this.metadata=o,this.request=s,this.pendingStatus={code:aT.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new b2.Metadata,this.on("error",a=>{this.pendingStatus=lT(a),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}_write(e,t,o){this.call.sendMessage(e,o)}_final(e){var t;e(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(t=this.pendingStatus.metadata)!==null&&t!==void 0?t:this.trailingMetadata}))}end(e){return e&&(this.trailingMetadata=e),super.end()}};nr.ServerWritableStreamImpl=iT;var oT=class extends sT.Duplex{constructor(e,t,o){super({objectMode:!0}),this.path=e,this.call=t,this.metadata=o,this.pendingStatus={code:aT.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new b2.Metadata,this.on("error",s=>{this.pendingStatus=lT(s),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}_read(e){this.call.startRead()}_write(e,t,o){this.call.sendMessage(e,o)}_final(e){var t;e(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(t=this.pendingStatus.metadata)!==null&&t!==void 0?t:this.trailingMetadata}))}end(e){return e&&(this.trailingMetadata=e),super.end()}};nr.ServerDuplexStreamImpl=oT});var dT=S(Ep=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});Ep.ServerCredentials=void 0;var N2=jE(),ql=class{static createInsecure(){return new cT}static createSsl(e,t,o=!1){var s;if(e!==null&&!Buffer.isBuffer(e))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(t))throw new TypeError("keyCertPairs must be an array");if(typeof o!="boolean")throw new TypeError("checkClientCertificate must be a boolean");let a=[],n=[];for(let r=0;r<t.length;r++){let l=t[r];if(l===null||typeof l!="object")throw new TypeError(`keyCertPair[${r}] must be an object`);if(!Buffer.isBuffer(l.private_key))throw new TypeError(`keyCertPair[${r}].private_key must be a Buffer`);if(!Buffer.isBuffer(l.cert_chain))throw new TypeError(`keyCertPair[${r}].cert_chain must be a Buffer`);a.push(l.cert_chain),n.push(l.private_key)}return new uT({ca:(s=e??(0,N2.getDefaultRootsData)())!==null&&s!==void 0?s:void 0,cert:a,key:n,requestCert:o,ciphers:N2.CIPHER_SUITES})}};Ep.ServerCredentials=ql;var cT=class i extends ql{_isSecure(){return!1}_getSettings(){return null}_equals(e){return e instanceof i}},uT=class i extends ql{constructor(e){super(),this.options=e}_isSecure(){return!0}_getSettings(){return this.options}_equals(e){if(this===e)return!0;if(!(e instanceof i))return!1;if(Buffer.isBuffer(this.options.ca)&&Buffer.isBuffer(e.options.ca)){if(!this.options.ca.equals(e.options.ca))return!1}else if(this.options.ca!==e.options.ca)return!1;if(Array.isArray(this.options.cert)&&Array.isArray(e.options.cert)){if(this.options.cert.length!==e.options.cert.length)return!1;for(let t=0;t<this.options.cert.length;t++){let o=this.options.cert[t],s=e.options.cert[t];if(Buffer.isBuffer(o)&&Buffer.isBuffer(s)){if(!o.equals(s))return!1}else if(o!==s)return!1}}else if(this.options.cert!==e.options.cert)return!1;if(Array.isArray(this.options.key)&&Array.isArray(e.options.key)){if(this.options.key.length!==e.options.key.length)return!1;for(let t=0;t<this.options.key.length;t++){let o=this.options.key[t],s=e.options.key[t];if(Buffer.isBuffer(o)&&Buffer.isBuffer(s)){if(!o.equals(s))return!1}else if(o!==s)return!1}}else if(this.options.key!==e.options.key)return!1;return this.options.requestCert===e.options.requestCert}}});var ST=S(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.getServerInterceptingCall=Ct.BaseServerInterceptingCall=Ct.ServerInterceptingCall=Ct.ResponderBuilder=Ct.isInterceptingServerListener=Ct.ServerListenerBuilder=void 0;var x2=St(),bt=Ee(),As=F("http2"),P2=Kd(),I2=F("zlib"),Qee=bg(),D2=Me(),U2="server_call";function Gi(i){D2.trace(bt.LogVerbosity.DEBUG,U2,i)}var pT=class{constructor(){this.metadata=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveHalfClose(e){return this.halfClose=e,this}withOnCancel(e){return this.cancel=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveHalfClose:this.halfClose,onCancel:this.cancel}}};Ct.ServerListenerBuilder=pT;function Zee(i){return i.onReceiveMetadata!==void 0&&i.onReceiveMetadata.length===1}Ct.isInterceptingServerListener=Zee;var hT=class{constructor(e,t){this.listener=e,this.nextListener=t,this.cancelled=!1,this.processingMetadata=!1,this.hasPendingMessage=!1,this.pendingMessage=null,this.processingMessage=!1,this.hasPendingHalfClose=!1}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingHalfClose(){this.hasPendingHalfClose&&(this.nextListener.onReceiveHalfClose(),this.hasPendingHalfClose=!1)}onReceiveMetadata(e){this.cancelled||(this.processingMetadata=!0,this.listener.onReceiveMetadata(e,t=>{this.processingMetadata=!1,!this.cancelled&&(this.nextListener.onReceiveMetadata(t),this.processPendingMessage(),this.processPendingHalfClose())}))}onReceiveMessage(e){this.cancelled||(this.processingMessage=!0,this.listener.onReceiveMessage(e,t=>{this.processingMessage=!1,!this.cancelled&&(this.processingMetadata?(this.pendingMessage=t,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(t),this.processPendingHalfClose()))}))}onReceiveHalfClose(){this.cancelled||this.listener.onReceiveHalfClose(()=>{this.cancelled||(this.processingMetadata||this.processingMessage?this.hasPendingHalfClose=!0:this.nextListener.onReceiveHalfClose())})}onCancel(){this.cancelled=!0,this.listener.onCancel(),this.nextListener.onCancel()}},mT=class{constructor(){this.start=void 0,this.metadata=void 0,this.message=void 0,this.status=void 0}withStart(e){return this.start=e,this}withSendMetadata(e){return this.metadata=e,this}withSendMessage(e){return this.message=e,this}withSendStatus(e){return this.status=e,this}build(){return{start:this.start,sendMetadata:this.metadata,sendMessage:this.message,sendStatus:this.status}}};Ct.ResponderBuilder=mT;var Sp={onReceiveMetadata:(i,e)=>{e(i)},onReceiveMessage:(i,e)=>{e(i)},onReceiveHalfClose:i=>{i()},onCancel:()=>{}},gp={start:i=>{i()},sendMetadata:(i,e)=>{e(i)},sendMessage:(i,e)=>{e(i)},sendStatus:(i,e)=>{e(i)}},_T=class{constructor(e,t){var o,s,a,n;this.nextCall=e,this.processingMetadata=!1,this.processingMessage=!1,this.pendingMessage=null,this.pendingMessageCallback=null,this.pendingStatus=null,this.responder={start:(o=t==null?void 0:t.start)!==null&&o!==void 0?o:gp.start,sendMetadata:(s=t==null?void 0:t.sendMetadata)!==null&&s!==void 0?s:gp.sendMetadata,sendMessage:(a=t==null?void 0:t.sendMessage)!==null&&a!==void 0?a:gp.sendMessage,sendStatus:(n=t==null?void 0:t.sendStatus)!==null&&n!==void 0?n:gp.sendStatus}}processPendingMessage(){this.pendingMessageCallback&&(this.nextCall.sendMessage(this.pendingMessage,this.pendingMessageCallback),this.pendingMessage=null,this.pendingMessageCallback=null)}processPendingStatus(){this.pendingStatus&&(this.nextCall.sendStatus(this.pendingStatus),this.pendingStatus=null)}start(e){this.responder.start(t=>{var o,s,a,n;let r={onReceiveMetadata:(o=t==null?void 0:t.onReceiveMetadata)!==null&&o!==void 0?o:Sp.onReceiveMetadata,onReceiveMessage:(s=t==null?void 0:t.onReceiveMessage)!==null&&s!==void 0?s:Sp.onReceiveMessage,onReceiveHalfClose:(a=t==null?void 0:t.onReceiveHalfClose)!==null&&a!==void 0?a:Sp.onReceiveHalfClose,onCancel:(n=t==null?void 0:t.onCancel)!==null&&n!==void 0?n:Sp.onCancel},l=new hT(r,e);this.nextCall.start(l)})}sendMetadata(e){this.processingMetadata=!0,this.responder.sendMetadata(e,t=>{this.processingMetadata=!1,this.nextCall.sendMetadata(t),this.processPendingMessage(),this.processPendingStatus()})}sendMessage(e,t){this.processingMessage=!0,this.responder.sendMessage(e,o=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=o,this.pendingMessageCallback=t):this.nextCall.sendMessage(o,t)})}sendStatus(e){this.responder.sendStatus(e,t=>{this.processingMetadata||this.processingMessage?this.pendingStatus=t:this.nextCall.sendStatus(t)})}startRead(){this.nextCall.startRead()}getPeer(){return this.nextCall.getPeer()}getDeadline(){return this.nextCall.getDeadline()}};Ct.ServerInterceptingCall=_T;var k2="grpc-accept-encoding",ET="grpc-encoding",M2="grpc-message",L2="grpc-status",fT="grpc-timeout",ete=/(\d{1,8})\s*([HMSmun])/,tte={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},rte={[k2]:"identity,deflate,gzip",[ET]:"identity"},w2={[As.constants.HTTP2_HEADER_STATUS]:As.constants.HTTP_STATUS_OK,[As.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},nte={waitForTrailers:!0},Tp=class{constructor(e,t,o,s,a){this.stream=e,this.callEventTracker=o,this.handler=s,this.listener=null,this.deadlineTimer=null,this.deadline=1/0,this.maxSendMessageSize=bt.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=bt.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.cancelled=!1,this.metadataSent=!1,this.wantTrailers=!1,this.cancelNotified=!1,this.incomingEncoding="identity",this.readQueue=[],this.isReadPending=!1,this.receivedHalfClose=!1,this.streamEnded=!1,this.stream.once("error",c=>{}),this.stream.once("close",()=>{var c;Gi("Request to method "+((c=this.handler)===null||c===void 0?void 0:c.path)+" stream closed with rstCode "+this.stream.rstCode),this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!1),this.callEventTracker.onCallEnd({code:bt.Status.CANCELLED,details:"Stream closed before sending status",metadata:null})),this.notifyOnCancel()}),this.stream.on("data",c=>{this.handleDataFrame(c)}),this.stream.pause(),this.stream.on("end",()=>{this.handleEndEvent()}),"grpc.max_send_message_length"in a&&(this.maxSendMessageSize=a["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in a&&(this.maxReceiveMessageSize=a["grpc.max_receive_message_length"]),this.decoder=new Qee.StreamDecoder(this.maxReceiveMessageSize);let n=x2.Metadata.fromHttp2Headers(t);D2.isTracerEnabled(U2)&&Gi("Request to "+this.handler.path+" received headers "+JSON.stringify(n.toJSON()));let r=n.get(fT);r.length>0&&this.handleTimeoutHeader(r[0]);let l=n.get(ET);l.length>0&&(this.incomingEncoding=l[0]),n.remove(fT),n.remove(ET),n.remove(k2),n.remove(As.constants.HTTP2_HEADER_ACCEPT_ENCODING),n.remove(As.constants.HTTP2_HEADER_TE),n.remove(As.constants.HTTP2_HEADER_CONTENT_TYPE),this.metadata=n}handleTimeoutHeader(e){let t=e.toString().match(ete);if(t===null){let a={code:bt.Status.INTERNAL,details:`Invalid ${fT} value "${e}"`,metadata:null};process.nextTick(()=>{this.sendStatus(a)});return}let o=+t[1]*tte[t[2]]|0,s=new Date;this.deadline=s.setMilliseconds(s.getMilliseconds()+o),this.deadlineTimer=setTimeout(()=>{let a={code:bt.Status.DEADLINE_EXCEEDED,details:"Deadline exceeded",metadata:null};this.sendStatus(a)},o)}checkCancelled(){return!this.cancelled&&(this.stream.destroyed||this.stream.closed)&&(this.notifyOnCancel(),this.cancelled=!0),this.cancelled}notifyOnCancel(){this.cancelNotified||(this.cancelNotified=!0,this.cancelled=!0,process.nextTick(()=>{var e;(e=this.listener)===null||e===void 0||e.onCancel()}),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.resume())}maybeSendMetadata(){this.metadataSent||this.sendMetadata(new x2.Metadata)}serializeMessage(e){let t=this.handler.serialize(e),o=t.byteLength,s=Buffer.allocUnsafe(o+5);return s.writeUInt8(0,0),s.writeUInt32BE(o,1),t.copy(s,5),s}decompressMessage(e,t){let o=e.subarray(5);if(t==="identity")return o;if(t==="deflate"||t==="gzip"){let s;return t==="deflate"?s=I2.createInflate():s=I2.createGunzip(),new Promise((a,n)=>{let r=0,l=[];s.on("data",c=>{l.push(c),r+=c.byteLength,this.maxReceiveMessageSize!==-1&&r>this.maxReceiveMessageSize&&(s.destroy(),n({code:bt.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`}))}),s.on("end",()=>{a(Buffer.concat(l))}),s.write(o),s.end()})}else return Promise.reject({code:bt.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${t}"`})}async decompressAndMaybePush(e){if(e.type!=="COMPRESSED")throw new Error(`Invalid queue entry type: ${e.type}`);let o=e.compressedMessage.readUInt8(0)===1?this.incomingEncoding:"identity",s;try{s=await this.decompressMessage(e.compressedMessage,o)}catch(a){this.sendStatus(a);return}try{e.parsedMessage=this.handler.deserialize(s)}catch(a){this.sendStatus({code:bt.Status.INTERNAL,details:`Error deserializing request: ${a.message}`});return}e.type="READABLE",this.maybePushNextMessage()}maybePushNextMessage(){if(this.listener&&this.isReadPending&&this.readQueue.length>0&&this.readQueue[0].type!=="COMPRESSED"){this.isReadPending=!1;let e=this.readQueue.shift();e.type==="READABLE"?this.listener.onReceiveMessage(e.parsedMessage):this.listener.onReceiveHalfClose()}}handleDataFrame(e){var t;if(this.checkCancelled())return;Gi("Request to "+this.handler.path+" received data frame of size "+e.length);let o;try{o=this.decoder.write(e)}catch(s){this.sendStatus({code:bt.Status.RESOURCE_EXHAUSTED,details:s.message});return}for(let s of o){this.stream.pause();let a={type:"COMPRESSED",compressedMessage:s,parsedMessage:null};this.readQueue.push(a),this.decompressAndMaybePush(a),(t=this.callEventTracker)===null||t===void 0||t.addMessageReceived()}}handleEndEvent(){this.readQueue.push({type:"HALF_CLOSE",compressedMessage:null,parsedMessage:null}),this.receivedHalfClose=!0,this.maybePushNextMessage()}start(e){Gi("Request to "+this.handler.path+" start called"),!this.checkCancelled()&&(this.listener=e,e.onReceiveMetadata(this.metadata))}sendMetadata(e){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let t=e?e.toHttp2Headers():null,o=Object.assign(Object.assign(Object.assign({},w2),rte),t);this.stream.respond(o,nte)}sendMessage(e,t){if(this.checkCancelled())return;let o;try{o=this.serializeMessage(e)}catch(s){this.sendStatus({code:bt.Status.INTERNAL,details:`Error serializing response: ${(0,P2.getErrorMessage)(s)}`,metadata:null});return}if(this.maxSendMessageSize!==-1&&o.length-5>this.maxSendMessageSize){this.sendStatus({code:bt.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${o.length} vs. ${this.maxSendMessageSize})`,metadata:null});return}this.maybeSendMetadata(),Gi("Request to "+this.handler.path+" sent data frame of size "+o.length),this.stream.write(o,s=>{var a;if(s){this.sendStatus({code:bt.Status.INTERNAL,details:`Error writing message: ${(0,P2.getErrorMessage)(s)}`,metadata:null});return}(a=this.callEventTracker)===null||a===void 0||a.addMessageSent(),t()})}sendStatus(e){var t,o;if(!this.checkCancelled())if(Gi("Request to method "+((t=this.handler)===null||t===void 0?void 0:t.path)+" ended with status code: "+bt.Status[e.code]+" details: "+e.details),this.metadataSent)this.wantTrailers?this.notifyOnCancel():(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var s;this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(e));let a=Object.assign({[L2]:e.code,[M2]:encodeURI(e.details)},(s=e.metadata)===null||s===void 0?void 0:s.toHttp2Headers());this.stream.sendTrailers(a),this.notifyOnCancel()}),this.stream.end());else{this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(e));let s=Object.assign(Object.assign({[L2]:e.code,[M2]:encodeURI(e.details)},w2),(o=e.metadata)===null||o===void 0?void 0:o.toHttp2Headers());this.stream.respond(s,{endStream:!0}),this.notifyOnCancel()}}startRead(){Gi("Request to "+this.handler.path+" startRead called"),!this.checkCancelled()&&(this.isReadPending=!0,this.readQueue.length===0?this.receivedHalfClose||this.stream.resume():this.maybePushNextMessage())}getPeer(){var e;let t=(e=this.stream.session)===null||e===void 0?void 0:e.socket;return t!=null&&t.remoteAddress?t.remotePort?`${t.remoteAddress}:${t.remotePort}`:t.remoteAddress:"unknown"}getDeadline(){return this.deadline}};Ct.BaseServerInterceptingCall=Tp;function ite(i,e,t,o,s,a){let n={path:s.path,requestStream:s.type==="clientStream"||s.type==="bidi",responseStream:s.type==="serverStream"||s.type==="bidi",requestDeserialize:s.deserialize,responseSerialize:s.serialize},r=new Tp(e,t,o,s,a);return i.reduce((l,c)=>c(n,l),r)}Ct.getServerInterceptingCall=ite});var H2=S(Xn=>{"use strict";var ote=Xn&&Xn.__runInitializers||function(i,e,t){for(var o=arguments.length>2,s=0;s<e.length;s++)t=o?e[s].call(i,t):e[s].call(i);return o?t:void 0},ste=Xn&&Xn.__esDecorate||function(i,e,t,o,s,a){function n(O){if(O!==void 0&&typeof O!="function")throw new TypeError("Function expected");return O}for(var r=o.kind,l=r==="getter"?"get":r==="setter"?"set":"value",c=!e&&i?o.static?i:i.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,o.name):{}),d,_=!1,E=t.length-1;E>=0;E--){var A={};for(var T in o)A[T]=T==="access"?{}:o[T];for(var T in o.access)A.access[T]=o.access[T];A.addInitializer=function(O){if(_)throw new TypeError("Cannot add initializers after decoration has completed");a.push(n(O||null))};var R=(0,t[E])(r==="accessor"?{get:u.get,set:u.set}:u[l],A);if(r==="accessor"){if(R===void 0)continue;if(R===null||typeof R!="object")throw new TypeError("Object expected");(d=n(R.get))&&(u.get=d),(d=n(R.set))&&(u.set=d),(d=n(R.init))&&s.unshift(d)}else(d=n(R))&&(r==="field"?s.unshift(d):u[l]=d)}c&&Object.defineProperty(c,o.name,u),_=!0};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.Server=void 0;var Ut=F("http2"),ate=F("util"),Xe=Ee(),Rs=C2(),lte=dT(),B2=Ir(),gT=Me(),Wn=fr(),Er=Lt(),rt=Bi(),V2=ST(),Os=~(1<<31),TT=~(1<<31),cte=2e4,F2=~(1<<31),{HTTP2_HEADER_PATH:q2}=Ut.constants,ute="server",G2=Buffer.from("max_age");function dte(){}function fte(i){return function(e,t){return ate.deprecate(e,i)}}function yT(i){return{code:Xe.Status.UNIMPLEMENTED,details:`The server does not implement the method ${i}`}}function pte(i,e){let t=yT(e);switch(i){case"unary":return(o,s)=>{s(t,null)};case"clientStream":return(o,s)=>{s(t,null)};case"serverStream":return o=>{o.emit("error",t)};case"bidi":return o=>{o.emit("error",t)};default:throw new Error(`Invalid handlerType ${i}`)}}var hte=(()=>{var i;let e=[],t;return i=class{constructor(s){var a,n,r,l,c,u;this.boundPorts=(ote(this,e),new Map),this.http2Servers=new Map,this.sessionIdleTimeouts=new Map,this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.options=s??{},this.options["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.channelzTrace=new rt.ChannelzTraceStub,this.callTracker=new rt.ChannelzCallTrackerStub,this.listenerChildrenTracker=new rt.ChannelzChildrenTrackerStub,this.sessionChildrenTracker=new rt.ChannelzChildrenTrackerStub):(this.channelzTrace=new rt.ChannelzTrace,this.callTracker=new rt.ChannelzCallTracker,this.listenerChildrenTracker=new rt.ChannelzChildrenTracker,this.sessionChildrenTracker=new rt.ChannelzChildrenTracker),this.channelzRef=(0,rt.registerChannelzServer)("server",()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=(a=this.options["grpc.max_connection_age_ms"])!==null&&a!==void 0?a:Os,this.maxConnectionAgeGraceMs=(n=this.options["grpc.max_connection_age_grace_ms"])!==null&&n!==void 0?n:Os,this.keepaliveTimeMs=(r=this.options["grpc.keepalive_time_ms"])!==null&&r!==void 0?r:TT,this.keepaliveTimeoutMs=(l=this.options["grpc.keepalive_timeout_ms"])!==null&&l!==void 0?l:cte,this.sessionIdleTimeout=(c=this.options["grpc.max_connection_idle_ms"])!==null&&c!==void 0?c:F2,this.commonServerOptions={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER},"grpc-node.max_session_memory"in this.options?this.commonServerOptions.maxSessionMemory=this.options["grpc-node.max_session_memory"]:this.commonServerOptions.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(this.commonServerOptions.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]}),this.interceptors=(u=this.options.interceptors)!==null&&u!==void 0?u:[],this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfo(s){var a,n,r;let l=this.sessions.get(s),c=s.socket,u=c.remoteAddress?(0,Wn.stringToSubchannelAddress)(c.remoteAddress,c.remotePort):null,d=c.localAddress?(0,Wn.stringToSubchannelAddress)(c.localAddress,c.localPort):null,_;if(s.encrypted){let A=c,T=A.getCipher(),R=A.getCertificate(),O=A.getPeerCertificate();_={cipherSuiteStandardName:(a=T.standardName)!==null&&a!==void 0?a:null,cipherSuiteOtherName:T.standardName?null:T.name,localCertificate:R&&"raw"in R?R.raw:null,remoteCertificate:O&&"raw"in O?O.raw:null}}else _=null;return{remoteAddress:u,localAddress:d,security:_,remoteName:null,streamsStarted:l.streamTracker.callsStarted,streamsSucceeded:l.streamTracker.callsSucceeded,streamsFailed:l.streamTracker.callsFailed,messagesSent:l.messagesSent,messagesReceived:l.messagesReceived,keepAlivesSent:l.keepAlivesSent,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:l.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:l.lastMessageSentTimestamp,lastMessageReceivedTimestamp:l.lastMessageReceivedTimestamp,localFlowControlWindow:(n=s.state.localWindowSize)!==null&&n!==void 0?n:null,remoteFlowControlWindow:(r=s.state.remoteWindowSize)!==null&&r!==void 0?r:null}}trace(s){gT.trace(Xe.LogVerbosity.DEBUG,ute,"("+this.channelzRef.id+") "+s)}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(s,a){if(s===null||typeof s!="object"||a===null||typeof a!="object")throw new Error("addService() requires two objects as arguments");let n=Object.keys(s);if(n.length===0)throw new Error("Cannot add an empty service to a server");n.forEach(r=>{let l=s[r],c;l.requestStream?l.responseStream?c="bidi":c="clientStream":l.responseStream?c="serverStream":c="unary";let u=a[r],d;if(u===void 0&&typeof l.originalName=="string"&&(u=a[l.originalName]),u!==void 0?d=u.bind(a):d=pte(c,r),this.register(l.path,d,l.responseSerialize,l.requestDeserialize,c)===!1)throw new Error(`Method handler for ${l.path} already provided.`)})}removeService(s){if(s===null||typeof s!="object")throw new Error("removeService() requires object as argument");Object.keys(s).forEach(n=>{let r=s[n];this.unregister(r.path)})}bind(s,a){throw new Error("Not implemented. Use bindAsync() instead")}registerListenerToChannelz(s){return(0,rt.registerChannelzSocket)((0,Wn.subchannelAddressToString)(s),()=>({localAddress:s,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}createHttp2Server(s){let a;if(s._isSecure()){let n=Object.assign(this.commonServerOptions,s._getSettings());n.enableTrace=this.options["grpc-node.tls_enable_trace"]===1,a=Ut.createSecureServer(n),a.on("secureConnection",r=>{r.on("error",l=>{this.trace("An incoming TLS connection closed with error: "+l.message)})})}else a=Ut.createServer(this.commonServerOptions);return a.setTimeout(0,dte),this._setupHandlers(a),a}bindOneAddress(s,a){this.trace("Attempting to bind "+(0,Wn.subchannelAddressToString)(s));let n=this.createHttp2Server(a.credentials);return new Promise((r,l)=>{let c=u=>{this.trace("Failed to bind "+(0,Wn.subchannelAddressToString)(s)+" with error "+u.message),r({port:"port"in s?s.port:1,error:u.message})};n.once("error",c),n.listen(s,()=>{let u=n.address(),d;typeof u=="string"?d={path:u}:d={host:u.address,port:u.port};let _=this.registerListenerToChannelz(d);this.listenerChildrenTracker.refChild(_),this.http2Servers.set(n,{channelzRef:_,sessions:new Set}),a.listeningServers.add(n),this.trace("Successfully bound "+(0,Wn.subchannelAddressToString)(d)),r({port:"port"in d?d.port:1}),n.removeListener("error",c)})})}async bindManyPorts(s,a){if(s.length===0)return{count:0,port:0,errors:[]};if((0,Wn.isTcpSubchannelAddress)(s[0])&&s[0].port===0){let n=await this.bindOneAddress(s[0],a);if(n.error){let r=await this.bindManyPorts(s.slice(1),a);return Object.assign(Object.assign({},r),{errors:[n.error,...r.errors]})}else{let r=s.slice(1).map(u=>(0,Wn.isTcpSubchannelAddress)(u)?{host:u.host,port:n.port}:u),l=await Promise.all(r.map(u=>this.bindOneAddress(u,a))),c=[n,...l];return{count:c.filter(u=>u.error===void 0).length,port:n.port,errors:c.filter(u=>u.error).map(u=>u.error)}}}else{let n=await Promise.all(s.map(r=>this.bindOneAddress(r,a)));return{count:n.filter(r=>r.error===void 0).length,port:n[0].port,errors:n.filter(r=>r.error).map(r=>r.error)}}}async bindAddressList(s,a){let n=await this.bindManyPorts(s,a);if(n.count>0)return n.count<s.length&&gT.log(Xe.LogVerbosity.INFO,`WARNING Only ${n.count} addresses added out of total ${s.length} resolved`),n.port;{let r=`No address added out of total ${s.length} resolved`;throw gT.log(Xe.LogVerbosity.ERROR,r),new Error(`${r} errors: [${n.errors.join(",")}]`)}}resolvePort(s){return new Promise((a,n)=>{let r={onSuccessfulResolution:(c,u,d)=>{r.onSuccessfulResolution=()=>{};let _=[].concat(...c.map(E=>E.addresses));if(_.length===0){n(new Error(`No addresses resolved for port ${s}`));return}a(_)},onError:c=>{n(new Error(c.details))}};(0,B2.createResolver)(s,r,this.options).updateResolution()})}async bindPort(s,a){let n=await this.resolvePort(s);if(a.cancelled)throw this.completeUnbind(a),new Error("bindAsync operation cancelled by unbind call");let r=await this.bindAddressList(n,a);if(a.cancelled)throw this.completeUnbind(a),new Error("bindAsync operation cancelled by unbind call");return r}normalizePort(s){let a=(0,Er.parseUri)(s);if(a===null)throw new Error(`Could not parse port "${s}"`);let n=(0,B2.mapUriDefaultScheme)(a);if(n===null)throw new Error(`Could not get a default scheme for port "${s}"`);return n}bindAsync(s,a,n){if(this.shutdown)throw new Error("bindAsync called after shutdown");if(typeof s!="string")throw new TypeError("port must be a string");if(a===null||!(a instanceof lte.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");if(typeof n!="function")throw new TypeError("callback must be a function");this.trace("bindAsync port="+s);let r=this.normalizePort(s),l=(_,E)=>{process.nextTick(()=>n(_,E))},c=this.boundPorts.get((0,Er.uriToString)(r));if(c){if(!a._equals(c.credentials)){l(new Error(`${s} already bound with incompatible credentials`),0);return}c.cancelled=!1,c.completionPromise?c.completionPromise.then(_=>n(null,_),_=>n(_,0)):l(null,c.portNumber);return}c={mapKey:(0,Er.uriToString)(r),originalUri:r,completionPromise:null,cancelled:!1,portNumber:0,credentials:a,listeningServers:new Set};let u=(0,Er.splitHostPort)(r.path),d=this.bindPort(r,c);c.completionPromise=d,(u==null?void 0:u.port)===0?d.then(_=>{let E={scheme:r.scheme,authority:r.authority,path:(0,Er.combineHostPort)({host:u.host,port:_})};c.mapKey=(0,Er.uriToString)(E),c.completionPromise=null,c.portNumber=_,this.boundPorts.set(c.mapKey,c),n(null,_)},_=>{n(_,0)}):(this.boundPorts.set(c.mapKey,c),d.then(_=>{c.completionPromise=null,c.portNumber=_,n(null,_)},_=>{n(_,0)}))}closeServer(s,a){this.trace("Closing server with address "+JSON.stringify(s.address()));let n=this.http2Servers.get(s);s.close(()=>{n&&(this.listenerChildrenTracker.unrefChild(n.channelzRef),(0,rt.unregisterChannelzRef)(n.channelzRef)),this.http2Servers.delete(s),a==null||a()})}closeSession(s,a){var n;this.trace("Closing session initiated by "+((n=s.socket)===null||n===void 0?void 0:n.remoteAddress));let r=this.sessions.get(s),l=()=>{r&&(this.sessionChildrenTracker.unrefChild(r.ref),(0,rt.unregisterChannelzRef)(r.ref)),a==null||a()};s.closed?queueMicrotask(l):s.close(l)}completeUnbind(s){for(let a of s.listeningServers){let n=this.http2Servers.get(a);if(this.closeServer(a,()=>{s.listeningServers.delete(a)}),n)for(let r of n.sessions)this.closeSession(r)}this.boundPorts.delete(s.mapKey)}unbind(s){this.trace("unbind port="+s);let a=this.normalizePort(s),n=(0,Er.splitHostPort)(a.path);if((n==null?void 0:n.port)===0)throw new Error("Cannot unbind port 0");let r=this.boundPorts.get((0,Er.uriToString)(a));r&&(this.trace("unbinding "+r.mapKey+" originally bound as "+(0,Er.uriToString)(r.originalUri)),r.completionPromise?r.cancelled=!0:this.completeUnbind(r))}drain(s,a){var n,r;this.trace("drain port="+s+" graceTimeMs="+a);let l=this.normalizePort(s),c=(0,Er.splitHostPort)(l.path);if((c==null?void 0:c.port)===0)throw new Error("Cannot drain port 0");let u=this.boundPorts.get((0,Er.uriToString)(l));if(!u)return;let d=new Set;for(let _ of u.listeningServers){let E=this.http2Servers.get(_);if(E)for(let A of E.sessions)d.add(A),this.closeSession(A,()=>{d.delete(A)})}(r=(n=setTimeout(()=>{for(let _ of d)_.destroy(Ut.constants.NGHTTP2_CANCEL)},a)).unref)===null||r===void 0||r.call(n)}forceShutdown(){for(let s of this.boundPorts.values())s.cancelled=!0;this.boundPorts.clear();for(let s of this.http2Servers.keys())this.closeServer(s);this.sessions.forEach((s,a)=>{this.closeSession(a),a.destroy(Ut.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),(0,rt.unregisterChannelzRef)(this.channelzRef),this.shutdown=!0}register(s,a,n,r,l){return this.handlers.has(s)?!1:(this.handlers.set(s,{func:a,serialize:n,deserialize:r,type:l,path:s}),!0)}unregister(s){return this.handlers.delete(s)}start(){if(this.http2Servers.size===0||[...this.http2Servers.keys()].every(s=>!s.listening))throw new Error("server must be bound in order to start");if(this.started===!0)throw new Error("server is already started");this.started=!0}tryShutdown(s){var a;let n=c=>{(0,rt.unregisterChannelzRef)(this.channelzRef),s(c)},r=0;function l(){r--,r===0&&n()}this.shutdown=!0;for(let[c,u]of this.http2Servers.entries()){r++;let d=u.channelzRef.name;this.trace("Waiting for server "+d+" to close"),this.closeServer(c,()=>{this.trace("Server "+d+" finished closing"),l()});for(let _ of u.sessions.keys()){r++;let E=(a=_.socket)===null||a===void 0?void 0:a.remoteAddress;this.trace("Waiting for session "+E+" to close"),this.closeSession(_,()=>{this.trace("Session "+E+" finished closing"),l()})}}r===0&&n()}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(s,a){let n=a[Ut.constants.HTTP2_HEADER_CONTENT_TYPE];return typeof n!="string"||!n.startsWith("application/grpc")?(s.respond({[Ut.constants.HTTP2_HEADER_STATUS]:Ut.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1):!0}_retrieveHandler(s){this.trace("Received call to method "+s+" at address "+this.serverAddressString);let a=this.handlers.get(s);return a===void 0?(this.trace("No handler registered for method "+s+". Sending UNIMPLEMENTED status."),null):a}_respondWithError(s,a,n=null){var r,l;let c=Object.assign({"grpc-status":(r=s.code)!==null&&r!==void 0?r:Xe.Status.INTERNAL,"grpc-message":s.details,[Ut.constants.HTTP2_HEADER_STATUS]:Ut.constants.HTTP_STATUS_OK,[Ut.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},(l=s.metadata)===null||l===void 0?void 0:l.toHttp2Headers());a.respond(c,{endStream:!0}),this.callTracker.addCallFailed(),n==null||n.streamTracker.addCallFailed()}_channelzHandler(s,a){this.onStreamOpened(s);let n=this.sessions.get(s.session);if(this.callTracker.addCallStarted(),n==null||n.streamTracker.addCallStarted(),!this._verifyContentType(s,a)){this.callTracker.addCallFailed(),n==null||n.streamTracker.addCallFailed();return}let r=a[q2],l=this._retrieveHandler(r);if(!l){this._respondWithError(yT(r),s,n);return}let c={addMessageSent:()=>{n&&(n.messagesSent+=1,n.lastMessageSentTimestamp=new Date)},addMessageReceived:()=>{n&&(n.messagesReceived+=1,n.lastMessageReceivedTimestamp=new Date)},onCallEnd:d=>{d.code===Xe.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()},onStreamEnd:d=>{n&&(d?n.streamTracker.addCallSucceeded():n.streamTracker.addCallFailed())}},u=(0,V2.getServerInterceptingCall)(this.interceptors,s,a,c,l,this.options);this._runHandlerForCall(u,l)||(this.callTracker.addCallFailed(),n==null||n.streamTracker.addCallFailed(),u.sendStatus({code:Xe.Status.INTERNAL,details:`Unknown handler type: ${l.type}`}))}_streamHandler(s,a){if(this.onStreamOpened(s),this._verifyContentType(s,a)!==!0)return;let n=a[q2],r=this._retrieveHandler(n);if(!r){this._respondWithError(yT(n),s,null);return}let l=(0,V2.getServerInterceptingCall)(this.interceptors,s,a,null,r,this.options);this._runHandlerForCall(l,r)||l.sendStatus({code:Xe.Status.INTERNAL,details:`Unknown handler type: ${r.type}`})}_runHandlerForCall(s,a){let{type:n}=a;if(n==="unary")mte(s,a);else if(n==="clientStream")_te(s,a);else if(n==="serverStream")Ete(s,a);else if(n==="bidi")Ste(s,a);else return!1;return!0}_setupHandlers(s){if(s===null)return;let a=s.address(),n="null";a&&(typeof a=="string"?n=a:n=a.address+":"+a.port),this.serverAddressString=n;let r=this.channelzEnabled?this._channelzHandler:this._streamHandler,l=this.channelzEnabled?this._channelzSessionHandler(s):this._sessionHandler(s);s.on("stream",r.bind(this)),s.on("session",l)}_sessionHandler(s){return a=>{var n,r,l;(n=this.http2Servers.get(s))===null||n===void 0||n.sessions.add(a);let c=null,u=null,d=null,_=null,E=!1,A=this.enableIdleTimeout(a);if(this.maxConnectionAgeMs!==Os){let T=this.maxConnectionAgeMs/10,R=Math.random()*T*2-T;c=setTimeout(()=>{var O,C;E=!0,this.trace("Connection dropped by max connection age: "+((O=a.socket)===null||O===void 0?void 0:O.remoteAddress));try{a.goaway(Ut.constants.NGHTTP2_NO_ERROR,~(1<<31),G2)}catch{a.destroy();return}a.close(),this.maxConnectionAgeGraceMs!==Os&&(u=setTimeout(()=>{a.destroy()},this.maxConnectionAgeGraceMs),(C=u.unref)===null||C===void 0||C.call(u))},this.maxConnectionAgeMs+R),(r=c.unref)===null||r===void 0||r.call(c)}this.keepaliveTimeMs<TT&&(d=setInterval(()=>{var T;_=setTimeout(()=>{E=!0,a.close()},this.keepaliveTimeoutMs),(T=_.unref)===null||T===void 0||T.call(_);try{a.ping((R,O,C)=>{_&&clearTimeout(_),R&&(E=!0,this.trace("Connection dropped due to error of a ping frame "+R.message+" return in "+O),a.close())})}catch{clearTimeout(_),a.destroy()}},this.keepaliveTimeMs),(l=d.unref)===null||l===void 0||l.call(d)),a.on("close",()=>{var T,R;E||this.trace(`Connection dropped by client ${(T=a.socket)===null||T===void 0?void 0:T.remoteAddress}`),c&&clearTimeout(c),u&&clearTimeout(u),d&&(clearInterval(d),_&&clearTimeout(_)),A!==null&&(clearTimeout(A.timeout),this.sessionIdleTimeouts.delete(a)),(R=this.http2Servers.get(s))===null||R===void 0||R.sessions.delete(a)})}}_channelzSessionHandler(s){return a=>{var n,r,l,c,u;let d=(0,rt.registerChannelzSocket)((r=(n=a.socket)===null||n===void 0?void 0:n.remoteAddress)!==null&&r!==void 0?r:"unknown",this.getChannelzSessionInfo.bind(this,a),this.channelzEnabled),_={ref:d,streamTracker:new rt.ChannelzCallTracker,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};(l=this.http2Servers.get(s))===null||l===void 0||l.sessions.add(a),this.sessions.set(a,_);let E=`${a.socket.remoteAddress}:${a.socket.remotePort}`;this.channelzTrace.addTrace("CT_INFO","Connection established by client "+E),this.trace("Connection established by client "+E),this.sessionChildrenTracker.refChild(d);let A=null,T=null,R=null,O=null,C=!1,L=this.enableIdleTimeout(a);if(this.maxConnectionAgeMs!==Os){let I=this.maxConnectionAgeMs/10,z=Math.random()*I*2-I;A=setTimeout(()=>{var j;C=!0,this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+E);try{a.goaway(Ut.constants.NGHTTP2_NO_ERROR,~(1<<31),G2)}catch{a.destroy();return}a.close(),this.maxConnectionAgeGraceMs!==Os&&(T=setTimeout(()=>{a.destroy()},this.maxConnectionAgeGraceMs),(j=T.unref)===null||j===void 0||j.call(T))},this.maxConnectionAgeMs+z),(c=A.unref)===null||c===void 0||c.call(A)}this.keepaliveTimeMs<TT&&(R=setInterval(()=>{var I;O=setTimeout(()=>{C=!0,this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+E),a.close()},this.keepaliveTimeoutMs),(I=O.unref)===null||I===void 0||I.call(O);try{a.ping((z,j,q)=>{O&&clearTimeout(O),z&&(C=!0,this.channelzTrace.addTrace("CT_INFO","Connection dropped due to error of a ping frame "+z.message+" return in "+j),a.close())}),_.keepAlivesSent+=1}catch{clearTimeout(O),a.destroy()}},this.keepaliveTimeMs),(u=R.unref)===null||u===void 0||u.call(R)),a.on("close",()=>{var I;C||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+E),this.sessionChildrenTracker.unrefChild(d),(0,rt.unregisterChannelzRef)(d),A&&clearTimeout(A),T&&clearTimeout(T),R&&(clearInterval(R),O&&clearTimeout(O)),L!==null&&(clearTimeout(L.timeout),this.sessionIdleTimeouts.delete(a)),(I=this.http2Servers.get(s))===null||I===void 0||I.sessions.delete(a),this.sessions.delete(a)})}}enableIdleTimeout(s){var a,n;if(this.sessionIdleTimeout>=F2)return null;let r={activeStreams:0,lastIdle:Date.now(),onClose:this.onStreamClose.bind(this,s),timeout:setTimeout(this.onIdleTimeout,this.sessionIdleTimeout,this,s)};(n=(a=r.timeout).unref)===null||n===void 0||n.call(a),this.sessionIdleTimeouts.set(s,r);let{socket:l}=s;return this.trace("Enable idle timeout for "+l.remoteAddress+":"+l.remotePort),r}onIdleTimeout(s,a){let{socket:n}=a,r=s.sessionIdleTimeouts.get(a);r!==void 0&&r.activeStreams===0&&Date.now()-r.lastIdle>=s.sessionIdleTimeout&&(s.trace("Session idle timeout triggered for "+(n==null?void 0:n.remoteAddress)+":"+(n==null?void 0:n.remotePort)+" last idle at "+r.lastIdle),s.closeSession(a))}onStreamOpened(s){let a=s.session,n=this.sessionIdleTimeouts.get(a);n&&(n.activeStreams+=1,s.once("close",n.onClose))}onStreamClose(s){var a,n;let r=this.sessionIdleTimeouts.get(s);r&&(r.activeStreams-=1,r.activeStreams===0&&(r.lastIdle=Date.now(),r.timeout.refresh(),this.trace("Session onStreamClose"+((a=s.socket)===null||a===void 0?void 0:a.remoteAddress)+":"+((n=s.socket)===null||n===void 0?void 0:n.remotePort)+" at "+r.lastIdle)))}},(()=>{let o=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[fte("Calling start() is no longer necessary. It can be safely omitted.")],ste(i,null,t,{kind:"method",name:"start",static:!1,private:!1,access:{has:s=>"start"in s,get:s=>s.start},metadata:o},null,e),o&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})})(),i})();Xn.Server=hte;async function mte(i,e){let t;function o(n,r,l,c){if(n){i.sendStatus((0,Rs.serverErrorToStatus)(n,l));return}i.sendMessage(r,()=>{i.sendStatus({code:Xe.Status.OK,details:"OK",metadata:l??null})})}let s,a=null;i.start({onReceiveMetadata(n){s=n,i.startRead()},onReceiveMessage(n){if(a){i.sendStatus({code:Xe.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${e.path}`,metadata:null});return}a=n,i.startRead()},onReceiveHalfClose(){if(!a){i.sendStatus({code:Xe.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${e.path}`,metadata:null});return}t=new Rs.ServerWritableStreamImpl(e.path,i,s,a);try{e.func(t,o)}catch(n){i.sendStatus({code:Xe.Status.UNKNOWN,details:`Server method handler threw error ${n.message}`,metadata:null})}},onCancel(){t&&(t.cancelled=!0,t.emit("cancelled","cancelled"))}})}function _te(i,e){let t;function o(s,a,n,r){if(s){i.sendStatus((0,Rs.serverErrorToStatus)(s,n));return}i.sendMessage(a,()=>{i.sendStatus({code:Xe.Status.OK,details:"OK",metadata:n??null})})}i.start({onReceiveMetadata(s){t=new Rs.ServerDuplexStreamImpl(e.path,i,s);try{e.func(t,o)}catch(a){i.sendStatus({code:Xe.Status.UNKNOWN,details:`Server method handler threw error ${a.message}`,metadata:null})}},onReceiveMessage(s){t.push(s)},onReceiveHalfClose(){t.push(null)},onCancel(){t&&(t.cancelled=!0,t.emit("cancelled","cancelled"),t.destroy())}})}function Ete(i,e){let t,o,s=null;i.start({onReceiveMetadata(a){o=a,i.startRead()},onReceiveMessage(a){if(s){i.sendStatus({code:Xe.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${e.path}`,metadata:null});return}s=a,i.startRead()},onReceiveHalfClose(){if(!s){i.sendStatus({code:Xe.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${e.path}`,metadata:null});return}t=new Rs.ServerWritableStreamImpl(e.path,i,o,s);try{e.func(t)}catch(a){i.sendStatus({code:Xe.Status.UNKNOWN,details:`Server method handler threw error ${a.message}`,metadata:null})}},onCancel(){t&&(t.cancelled=!0,t.emit("cancelled","cancelled"),t.destroy())}})}function Ste(i,e){let t;i.start({onReceiveMetadata(o){t=new Rs.ServerDuplexStreamImpl(e.path,i,o);try{e.func(t)}catch(s){i.sendStatus({code:Xe.Status.UNKNOWN,details:`Server method handler threw error ${s.message}`,metadata:null})}},onReceiveMessage(o){t.push(o)},onReceiveHalfClose(){t.push(null)},onCancel(){t&&(t.cancelled=!0,t.emit("cancelled","cancelled"),t.destroy())}})}});var j2=S(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});yp.StatusBuilder=void 0;var vT=class{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){let e={};return this.code!==null&&(e.code=this.code),this.details!==null&&(e.details=this.details),this.metadata!==null&&(e.metadata=this.metadata),e}};yp.StatusBuilder=vT});var AT=S(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});Jn.isDuration=Jn.durationToMs=Jn.msToDuration=void 0;function gte(i){return{seconds:i/1e3|0,nanos:i%1e3*1e6|0}}Jn.msToDuration=gte;function Tte(i){return i.seconds*1e3+i.nanos/1e6|0}Jn.durationToMs=Tte;function yte(i){return typeof i.seconds=="number"&&typeof i.nanos=="number"}Jn.isDuration=yte});var vp=S(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.setup=ir.LeafLoadBalancer=ir.PickFirstLoadBalancer=ir.shuffled=ir.PickFirstLoadBalancingConfig=void 0;var RT=Mi(),He=Kt(),bs=Dn(),vte=Me(),Ate=Ee(),z2=fr(),$2=F("net"),Ote="pick_first";function OT(i){vte.trace(Ate.LogVerbosity.DEBUG,Ote,i)}var Gl="pick_first",Rte=250,Cs=class i{constructor(e){this.shuffleAddressList=e}getLoadBalancerName(){return Gl}toJsonObject(){return{[Gl]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(e){if("shuffleAddressList"in e&&typeof e.shuffleAddressList!="boolean")throw new Error("pick_first config field shuffleAddressList must be a boolean if provided");return new i(e.shuffleAddressList===!0)}};ir.PickFirstLoadBalancingConfig=Cs;var bT=class{constructor(e){this.subchannel=e}pick(e){return{pickResultType:bs.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}};function Y2(i){let e=i.slice();for(let t=e.length-1;t>1;t--){let o=Math.floor(Math.random()*(t+1)),s=e[t];e[t]=e[o],e[o]=s}return e}ir.shuffled=Y2;function bte(i){let e=[],t=[],o=[],s=(0,z2.isTcpSubchannelAddress)(i[0])&&(0,$2.isIPv6)(i[0].host);for(let r of i)(0,z2.isTcpSubchannelAddress)(r)&&(0,$2.isIPv6)(r.host)?t.push(r):o.push(r);let a=s?t:o,n=s?o:t;for(let r=0;r<Math.max(a.length,n.length);r++)r<a.length&&e.push(a[r]),r<n.length&&e.push(n[r]);return e}var K2="grpc-node.internal.pick-first.report_health_status",Hl=class{constructor(e,t){this.channelControlHelper=e,this.children=[],this.currentState=He.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(o,s,a,n,r)=>{this.onSubchannelStateUpdate(o,s,a,r)},this.pickedSubchannelHealthListener=()=>this.calculateAndReportNewState(),this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.requestedResolutionSinceLastUpdate=!1,this.lastError=null,this.latestAddressList=null,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout),this.reportHealthStatus=t[K2]}allChildrenHaveReportedTF(){return this.children.every(e=>e.hasReportedTransientFailure)}calculateAndReportNewState(){this.currentPick?this.reportHealthStatus&&!this.currentPick.isHealthy()?this.updateState(He.ConnectivityState.TRANSIENT_FAILURE,new bs.UnavailablePicker({details:`Picked subchannel ${this.currentPick.getAddress()} is unhealthy`})):this.updateState(He.ConnectivityState.READY,new bT(this.currentPick)):this.children.length===0?this.updateState(He.ConnectivityState.IDLE,new bs.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(He.ConnectivityState.TRANSIENT_FAILURE,new bs.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(He.ConnectivityState.CONNECTING,new bs.QueuePicker(this))}requestReresolution(){this.requestedResolutionSinceLastUpdate=!0,this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()&&(this.requestedResolutionSinceLastUpdate||this.requestReresolution(),!this.stickyTransientFailureMode)){this.stickyTransientFailureMode=!0;for(let{subchannel:e}of this.children)e.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(this.currentPick!==null){let e=this.currentPick;this.currentPick=null,e.unref(),e.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(e.getChannelzRef()),this.reportHealthStatus&&e.removeHealthStateWatcher(this.pickedSubchannelHealthListener)}}onSubchannelStateUpdate(e,t,o,s){var a;if(!((a=this.currentPick)===null||a===void 0)&&a.realSubchannelEquals(e)){o!==He.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState(),this.requestReresolution());return}for(let[n,r]of this.children.entries())if(e.realSubchannelEquals(r.subchannel)){o===He.ConnectivityState.READY&&this.pickSubchannel(r.subchannel),o===He.ConnectivityState.TRANSIENT_FAILURE&&(r.hasReportedTransientFailure=!0,s&&(this.lastError=s),this.maybeEnterStickyTransientFailureMode(),n===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(n+1)),r.subchannel.startConnecting();return}}startNextSubchannelConnecting(e){if(clearTimeout(this.connectionDelayTimeout),!this.triedAllSubchannels){for(let[t,o]of this.children.entries())if(t>=e){let s=o.subchannel.getConnectivityState();if(s===He.ConnectivityState.IDLE||s===He.ConnectivityState.CONNECTING){this.startConnecting(t);return}}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting(e){var t,o;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.children[e].subchannel.getConnectivityState()===He.ConnectivityState.IDLE&&(OT("Start connecting to subchannel with address "+this.children[e].subchannel.getAddress()),process.nextTick(()=>{var s;(s=this.children[e])===null||s===void 0||s.subchannel.startConnecting()})),this.connectionDelayTimeout=setTimeout(()=>{this.startNextSubchannelConnecting(e+1)},Rte),(o=(t=this.connectionDelayTimeout).unref)===null||o===void 0||o.call(t)}pickSubchannel(e){this.currentPick&&e.realSubchannelEquals(this.currentPick)||(OT("Pick subchannel with address "+e.getAddress()),this.stickyTransientFailureMode=!1,this.removeCurrentPick(),this.currentPick=e,e.ref(),this.reportHealthStatus&&e.addHealthStateWatcher(this.pickedSubchannelHealthListener),this.channelControlHelper.addChannelzChild(e.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState(e,t){OT(He.ConnectivityState[this.currentState]+" -> "+He.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.children)this.currentPick&&e.subchannel.realSubchannelEquals(this.currentPick)||e.subchannel.removeConnectivityStateListener(this.subchannelStateListener),e.subchannel.unref(),this.channelControlHelper.removeChannelzChild(e.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1,this.requestedResolutionSinceLastUpdate=!1}connectToAddressList(e){let t=e.map(o=>({subchannel:this.channelControlHelper.createSubchannel(o,{}),hasReportedTransientFailure:!1}));for(let{subchannel:o}of t)o.ref(),this.channelControlHelper.addChannelzChild(o.getChannelzRef());this.resetSubchannelList(),this.children=t;for(let{subchannel:o}of this.children)if(o.addConnectivityStateListener(this.subchannelStateListener),o.getConnectivityState()===He.ConnectivityState.READY){this.pickSubchannel(o);return}for(let o of this.children)o.subchannel.getConnectivityState()===He.ConnectivityState.TRANSIENT_FAILURE&&(o.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(e,t){if(!(t instanceof Cs))return;t.getShuffleAddressList()&&(e=Y2(e));let o=[].concat(...e.map(a=>a.addresses));if(o.length===0)throw new Error("No addresses in endpoint list passed to pick_first");let s=bte(o);this.latestAddressList=s,this.connectToAddressList(s)}exitIdle(){this.currentState===He.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return Gl}};ir.PickFirstLoadBalancer=Hl;var Cte=new Cs(!1),CT=class{constructor(e,t,o){this.endpoint=e,this.latestState=He.ConnectivityState.IDLE;let s=(0,RT.createChildChannelControlHelper)(t,{updateState:(a,n)=>{this.latestState=a,this.latestPicker=n,t.updateState(a,n)}});this.pickFirstBalancer=new Hl(s,Object.assign(Object.assign({},o),{[K2]:!0})),this.latestPicker=new bs.QueuePicker(this.pickFirstBalancer)}startConnecting(){this.pickFirstBalancer.updateAddressList([this.endpoint],Cte)}updateEndpoint(e){this.endpoint=e,this.latestState!==He.ConnectivityState.IDLE&&this.startConnecting()}getConnectivityState(){return this.latestState}getPicker(){return this.latestPicker}getEndpoint(){return this.endpoint}exitIdle(){this.pickFirstBalancer.exitIdle()}destroy(){this.pickFirstBalancer.destroy()}};ir.LeafLoadBalancer=CT;function Nte(){(0,RT.registerLoadBalancerType)(Gl,Hl,Cs),(0,RT.registerDefaultLoadBalancerType)(Gl)}ir.setup=Nte});var xT=S(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.BaseSubchannelWrapper=Y.registerAdminService=Y.FilterStackFactory=Y.BaseFilter=Y.PickResultType=Y.QueuePicker=Y.UnavailablePicker=Y.ChildLoadBalancerHandler=Y.EndpointMap=Y.endpointHasAddress=Y.endpointToString=Y.subchannelAddressToString=Y.LeafLoadBalancer=Y.isLoadBalancerNameRegistered=Y.parseLoadBalancingConfig=Y.selectLbConfigFromList=Y.registerLoadBalancerType=Y.createChildChannelControlHelper=Y.BackoffTimeout=Y.durationToMs=Y.uriToString=Y.createResolver=Y.registerResolver=Y.log=Y.trace=void 0;var W2=Me();Object.defineProperty(Y,"trace",{enumerable:!0,get:function(){return W2.trace}});Object.defineProperty(Y,"log",{enumerable:!0,get:function(){return W2.log}});var X2=Ir();Object.defineProperty(Y,"registerResolver",{enumerable:!0,get:function(){return X2.registerResolver}});Object.defineProperty(Y,"createResolver",{enumerable:!0,get:function(){return X2.createResolver}});var xte=Lt();Object.defineProperty(Y,"uriToString",{enumerable:!0,get:function(){return xte.uriToString}});var Pte=AT();Object.defineProperty(Y,"durationToMs",{enumerable:!0,get:function(){return Pte.durationToMs}});var Ite=hl();Object.defineProperty(Y,"BackoffTimeout",{enumerable:!0,get:function(){return Ite.BackoffTimeout}});var jl=Mi();Object.defineProperty(Y,"createChildChannelControlHelper",{enumerable:!0,get:function(){return jl.createChildChannelControlHelper}});Object.defineProperty(Y,"registerLoadBalancerType",{enumerable:!0,get:function(){return jl.registerLoadBalancerType}});Object.defineProperty(Y,"selectLbConfigFromList",{enumerable:!0,get:function(){return jl.selectLbConfigFromList}});Object.defineProperty(Y,"parseLoadBalancingConfig",{enumerable:!0,get:function(){return jl.parseLoadBalancingConfig}});Object.defineProperty(Y,"isLoadBalancerNameRegistered",{enumerable:!0,get:function(){return jl.isLoadBalancerNameRegistered}});var Mte=vp();Object.defineProperty(Y,"LeafLoadBalancer",{enumerable:!0,get:function(){return Mte.LeafLoadBalancer}});var Ap=fr();Object.defineProperty(Y,"subchannelAddressToString",{enumerable:!0,get:function(){return Ap.subchannelAddressToString}});Object.defineProperty(Y,"endpointToString",{enumerable:!0,get:function(){return Ap.endpointToString}});Object.defineProperty(Y,"endpointHasAddress",{enumerable:!0,get:function(){return Ap.endpointHasAddress}});Object.defineProperty(Y,"EndpointMap",{enumerable:!0,get:function(){return Ap.EndpointMap}});var Lte=lf();Object.defineProperty(Y,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return Lte.ChildLoadBalancerHandler}});var NT=Dn();Object.defineProperty(Y,"UnavailablePicker",{enumerable:!0,get:function(){return NT.UnavailablePicker}});Object.defineProperty(Y,"QueuePicker",{enumerable:!0,get:function(){return NT.QueuePicker}});Object.defineProperty(Y,"PickResultType",{enumerable:!0,get:function(){return NT.PickResultType}});var wte=kg();Object.defineProperty(Y,"BaseFilter",{enumerable:!0,get:function(){return wte.BaseFilter}});var Dte=wg();Object.defineProperty(Y,"FilterStackFactory",{enumerable:!0,get:function(){return Dte.FilterStackFactory}});var Ute=df();Object.defineProperty(Y,"registerAdminService",{enumerable:!0,get:function(){return Ute.registerAdminService}});var kte=fp();Object.defineProperty(Y,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return kte.BaseSubchannelWrapper}})});var J2=S(Op=>{"use strict";Object.defineProperty(Op,"__esModule",{value:!0});Op.setup=void 0;var Bte=Ir(),PT=class{constructor(e,t,o){this.listener=t,this.hasReturnedResult=!1,this.endpoints=[];let s;e.authority===""?s="/"+e.path:s=e.path,this.endpoints=[{addresses:[{path:s}]}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.endpoints,null,null,null,{}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return"localhost"}};function Vte(){(0,Bte.registerResolver)("unix",PT)}Op.setup=Vte});var rV=S(Cp=>{"use strict";Object.defineProperty(Cp,"__esModule",{value:!0});Cp.setup=void 0;var Q2=F("net"),Rp=Ee(),IT=St(),Z2=Ir(),eV=Lt(),Fte=Me(),qte="ip_resolver";function tV(i){Fte.trace(Rp.LogVerbosity.DEBUG,qte,i)}var MT="ipv4",LT="ipv6",Gte=443,bp=class{constructor(e,t,o){var s;this.listener=t,this.endpoints=[],this.error=null,this.hasReturnedResult=!1,tV("Resolver constructed for target "+(0,eV.uriToString)(e));let a=[];if(!(e.scheme===MT||e.scheme===LT)){this.error={code:Rp.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new IT.Metadata};return}let n=e.path.split(",");for(let r of n){let l=(0,eV.splitHostPort)(r);if(l===null){this.error={code:Rp.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${r}`,metadata:new IT.Metadata};return}if(e.scheme===MT&&!(0,Q2.isIPv4)(l.host)||e.scheme===LT&&!(0,Q2.isIPv6)(l.host)){this.error={code:Rp.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${r}`,metadata:new IT.Metadata};return}a.push({host:l.host,port:(s=l.port)!==null&&s!==void 0?s:Gte})}this.endpoints=a.map(r=>({addresses:[r]})),tV("Parsed "+e.scheme+" address list "+a)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.endpoints,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return e.path.split(",")[0]}};function Hte(){(0,Z2.registerResolver)(MT,bp),(0,Z2.registerResolver)(LT,bp)}Cp.setup=Hte});var sV=S(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.setup=Ns.RoundRobinLoadBalancer=void 0;var oV=Mi(),kt=Kt(),wT=Dn(),jte=Me(),zte=Ee(),nV=fr(),$te=vp(),Yte="round_robin";function iV(i){jte.trace(zte.LogVerbosity.DEBUG,Yte,i)}var Np="round_robin",DT=class i{getLoadBalancerName(){return Np}constructor(){}toJsonObject(){return{[Np]:{}}}static createFromJson(e){return new i}},UT=class{constructor(e,t=0){this.children=e,this.nextIndex=t}pick(e){let t=this.children[this.nextIndex].picker;return this.nextIndex=(this.nextIndex+1)%this.children.length,t.pick(e)}peekNextEndpoint(){return this.children[this.nextIndex].endpoint}},xp=class{constructor(e,t){this.channelControlHelper=e,this.options=t,this.children=[],this.currentState=kt.ConnectivityState.IDLE,this.currentReadyPicker=null,this.updatesPaused=!1,this.lastError=null,this.childChannelControlHelper=(0,oV.createChildChannelControlHelper)(e,{updateState:(o,s)=>{this.calculateAndUpdateState()}})}countChildrenWithState(e){return this.children.filter(t=>t.getConnectivityState()===e).length}calculateAndUpdateState(){if(!this.updatesPaused){if(this.countChildrenWithState(kt.ConnectivityState.READY)>0){let e=this.children.filter(o=>o.getConnectivityState()===kt.ConnectivityState.READY),t=0;if(this.currentReadyPicker!==null){let o=this.currentReadyPicker.peekNextEndpoint();t=e.findIndex(s=>(0,nV.endpointEqual)(s.getEndpoint(),o)),t<0&&(t=0)}this.updateState(kt.ConnectivityState.READY,new UT(e.map(o=>({endpoint:o.getEndpoint(),picker:o.getPicker()})),t))}else this.countChildrenWithState(kt.ConnectivityState.CONNECTING)>0?this.updateState(kt.ConnectivityState.CONNECTING,new wT.QueuePicker(this)):this.countChildrenWithState(kt.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(kt.ConnectivityState.TRANSIENT_FAILURE,new wT.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(kt.ConnectivityState.IDLE,new wT.QueuePicker(this));for(let e of this.children)e.getConnectivityState()===kt.ConnectivityState.IDLE&&e.exitIdle()}}updateState(e,t){iV(kt.ConnectivityState[this.currentState]+" -> "+kt.ConnectivityState[e]),e===kt.ConnectivityState.READY?this.currentReadyPicker=t:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.children)e.destroy()}updateAddressList(e,t){this.resetSubchannelList(),iV("Connect to endpoint list "+e.map(nV.endpointToString)),this.updatesPaused=!0,this.children=e.map(o=>new $te.LeafLoadBalancer(o,this.childChannelControlHelper,this.options));for(let o of this.children)o.startConnecting();this.updatesPaused=!1,this.calculateAndUpdateState()}exitIdle(){}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return Np}};Ns.RoundRobinLoadBalancer=xp;function Kte(){(0,oV.registerLoadBalancerType)(Np,xp,DT)}Ns.setup=Kte});var cV=S(Qn=>{"use strict";var kT;Object.defineProperty(Qn,"__esModule",{value:!0});Qn.setup=Qn.OutlierDetectionLoadBalancer=Qn.OutlierDetectionLoadBalancingConfig=void 0;var Wte=Kt(),aV=Ee(),Hi=AT(),lV=xT(),Xte=Mi(),Jte=lf(),Qte=Dn(),BT=fr(),Zte=fp(),ere=Me(),tre="outlier_detection";function nt(i){ere.trace(aV.LogVerbosity.DEBUG,tre,i)}var jT="outlier_detection",rre=((kT=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)!==null&&kT!==void 0?kT:"true")==="true",nre={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},ire={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function xs(i,e,t,o){if(e in i&&i[e]!==void 0&&typeof i[e]!==t){let s=o?`${o}.${e}`:e;throw new Error(`outlier detection config ${s} parse error: expected ${t}, got ${typeof i[e]}`)}}function VT(i,e,t){let o=t?`${t}.${e}`:e;if(e in i&&i[e]!==void 0){if(!(0,Hi.isDuration)(i[e]))throw new Error(`outlier detection config ${o} parse error: expected Duration, got ${typeof i[e]}`);if(!(i[e].seconds>=0&&i[e].seconds<=315576e6&&i[e].nanos>=0&&i[e].nanos<=999999999))throw new Error(`outlier detection config ${o} parse error: values out of range for non-negative Duaration`)}}function Pp(i,e,t){let o=t?`${t}.${e}`:e;if(xs(i,e,"number",t),e in i&&i[e]!==void 0&&!(i[e]>=0&&i[e]<=100))throw new Error(`outlier detection config ${o} parse error: value out of range for percentage (0-100)`)}var zl=class i{constructor(e,t,o,s,a,n,r){if(this.childPolicy=r,r.getLoadBalancerName()==="pick_first")throw new Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=e??1e4,this.baseEjectionTimeMs=t??3e4,this.maxEjectionTimeMs=o??3e5,this.maxEjectionPercent=s??10,this.successRateEjection=a?Object.assign(Object.assign({},nre),a):null,this.failurePercentageEjection=n?Object.assign(Object.assign({},ire),n):null}getLoadBalancerName(){return jT}toJsonObject(){var e,t;return{outlier_detection:{interval:(0,Hi.msToDuration)(this.intervalMs),base_ejection_time:(0,Hi.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,Hi.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:(e=this.successRateEjection)!==null&&e!==void 0?e:void 0,failure_percentage_ejection:(t=this.failurePercentageEjection)!==null&&t!==void 0?t:void 0,child_policy:[this.childPolicy.toJsonObject()]}}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}static createFromJson(e){var t;if(VT(e,"interval"),VT(e,"base_ejection_time"),VT(e,"max_ejection_time"),Pp(e,"max_ejection_percent"),"success_rate_ejection"in e&&e.success_rate_ejection!==void 0){if(typeof e.success_rate_ejection!="object")throw new Error("outlier detection config success_rate_ejection must be an object");xs(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),Pp(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),xs(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),xs(e.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in e&&e.failure_percentage_ejection!==void 0){if(typeof e.failure_percentage_ejection!="object")throw new Error("outlier detection config failure_percentage_ejection must be an object");Pp(e.failure_percentage_ejection,"threshold","failure_percentage_ejection"),Pp(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),xs(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),xs(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}if(!("child_policy"in e)||!Array.isArray(e.child_policy))throw new Error("outlier detection config child_policy must be an array");let o=(0,Xte.selectLbConfigFromList)(e.child_policy);if(!o)throw new Error("outlier detection config child_policy: no valid recognized policy found");return new i(e.interval?(0,Hi.durationToMs)(e.interval):null,e.base_ejection_time?(0,Hi.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0,Hi.durationToMs)(e.max_ejection_time):null,(t=e.max_ejection_percent)!==null&&t!==void 0?t:null,e.success_rate_ejection,e.failure_percentage_ejection,o)}};Qn.OutlierDetectionLoadBalancingConfig=zl;var qT=class extends Zte.BaseSubchannelWrapper{constructor(e,t){super(e),this.mapEntry=t,this.refCount=0}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let e=this.mapEntry.subchannelWrappers.indexOf(this);e>=0&&this.mapEntry.subchannelWrappers.splice(e,1)}}eject(){this.setHealthy(!1)}uneject(){this.setHealthy(!0)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}};function FT(){return{success:0,failure:0}}var GT=class{constructor(){this.activeBucket=FT(),this.inactiveBucket=FT()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=FT()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}},HT=class{constructor(e,t){this.wrappedPicker=e,this.countCalls=t}pick(e){let t=this.wrappedPicker.pick(e);if(t.pickResultType===Qte.PickResultType.COMPLETE){let o=t.subchannel,s=o.getMapEntry();if(s){let a=t.onCallEnded;return this.countCalls&&(a=n=>{var r;n===aV.Status.OK?s.counter.addSuccess():s.counter.addFailure(),(r=t.onCallEnded)===null||r===void 0||r.call(t,n)}),Object.assign(Object.assign({},t),{subchannel:o.getWrappedSubchannel(),onCallEnded:a})}else return Object.assign(Object.assign({},t),{subchannel:o.getWrappedSubchannel()})}else return t}},Ip=class{constructor(e,t){this.entryMap=new BT.EndpointMap,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new Jte.ChildLoadBalancerHandler((0,lV.createChildChannelControlHelper)(e,{createSubchannel:(o,s)=>{let a=e.createSubchannel(o,s),n=this.entryMap.getForSubchannelAddress(o),r=new qT(a,n);return(n==null?void 0:n.currentEjectionTimestamp)!==null&&r.eject(),n==null||n.subchannelWrappers.push(r),r},updateState:(o,s)=>{o===Wte.ConnectivityState.READY?e.updateState(o,new HT(s,this.isCountingEnabled())):e.updateState(o,s)}}),t),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return this.latestConfig!==null&&(this.latestConfig.getSuccessRateEjectionConfig()!==null||this.latestConfig.getFailurePercentageEjectionConfig()!==null)}getCurrentEjectionPercent(){let e=0;for(let t of this.entryMap.values())t.currentEjectionTimestamp!==null&&(e+=1);return e*100/this.entryMap.size}runSuccessRateCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getSuccessRateEjectionConfig();if(!t)return;nt("Running success rate check");let o=t.request_volume,s=0,a=[];for(let[d,_]of this.entryMap.entries()){let E=_.counter.getLastSuccesses(),A=_.counter.getLastFailures();nt("Stats for "+(0,BT.endpointToString)(d)+": successes="+E+" failures="+A+" targetRequestVolume="+o),E+A>=o&&(s+=1,a.push(E/(E+A)))}if(nt("Found "+s+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+a+"]"),s<t.minimum_hosts)return;let n=a.reduce((d,_)=>d+_)/a.length,r=0;for(let d of a){let _=d-n;r+=_*_}let l=r/a.length,c=Math.sqrt(l),u=n-c*(t.stdev_factor/1e3);nt("stdev="+c+" ejectionThreshold="+u);for(let[d,_]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let E=_.counter.getLastSuccesses(),A=_.counter.getLastFailures();if(E+A<o)continue;let T=E/(E+A);if(nt("Checking candidate "+d+" successRate="+T),T<u){let R=Math.random()*100;nt("Candidate "+d+" randomNumber="+R+" enforcement_percentage="+t.enforcement_percentage),R<t.enforcement_percentage&&(nt("Ejecting candidate "+d),this.eject(_,e))}}}runFailurePercentageCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getFailurePercentageEjectionConfig();if(!t)return;nt("Running failure percentage check. threshold="+t.threshold+" request volume threshold="+t.request_volume);let o=0;for(let s of this.entryMap.values()){let a=s.counter.getLastSuccesses(),n=s.counter.getLastFailures();a+n>=t.request_volume&&(o+=1)}if(!(o<t.minimum_hosts))for(let[s,a]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let n=a.counter.getLastSuccesses(),r=a.counter.getLastFailures();if(nt("Candidate successes="+n+" failures="+r),n+r<t.request_volume)continue;if(r*100/(r+n)>t.threshold){let c=Math.random()*100;nt("Candidate "+s+" randomNumber="+c+" enforcement_percentage="+t.enforcement_percentage),c<t.enforcement_percentage&&(nt("Ejecting candidate "+s),this.eject(a,e))}}}eject(e,t){e.currentEjectionTimestamp=new Date,e.ejectionTimeMultiplier+=1;for(let o of e.subchannelWrappers)o.eject()}uneject(e){e.currentEjectionTimestamp=null;for(let t of e.subchannelWrappers)t.uneject()}switchAllBuckets(){for(let e of this.entryMap.values())e.counter.switchBuckets()}startTimer(e){var t,o;this.ejectionTimer=setTimeout(()=>this.runChecks(),e),(o=(t=this.ejectionTimer).unref)===null||o===void 0||o.call(t)}runChecks(){let e=new Date;if(nt("Ejection timer running"),this.switchAllBuckets(),!!this.latestConfig){this.timerStartTime=e,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(e),this.runFailurePercentageCheck(e);for(let[t,o]of this.entryMap.entries())if(o.currentEjectionTimestamp===null)o.ejectionTimeMultiplier>0&&(o.ejectionTimeMultiplier-=1);else{let s=this.latestConfig.getBaseEjectionTimeMs(),a=this.latestConfig.getMaxEjectionTimeMs(),n=new Date(o.currentEjectionTimestamp.getTime());n.setMilliseconds(n.getMilliseconds()+Math.min(s*o.ejectionTimeMultiplier,Math.max(s,a))),n<new Date&&(nt("Unejecting "+t),this.uneject(o))}}}updateAddressList(e,t,o){if(!(t instanceof zl))return;for(let a of e)this.entryMap.has(a)||(nt("Adding map entry for "+(0,BT.endpointToString)(a)),this.entryMap.set(a,{counter:new GT,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));this.entryMap.deleteMissing(e);let s=t.getChildPolicy();if(this.childBalancer.updateAddressList(e,s,o),t.getSuccessRateEjectionConfig()||t.getFailurePercentageEjectionConfig())if(this.timerStartTime){nt("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let a=t.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(a)}else nt("Starting new timer"),this.timerStartTime=new Date,this.startTimer(t.getIntervalMs()),this.switchAllBuckets();else{nt("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer);for(let a of this.entryMap.values())this.uneject(a),a.ejectionTimeMultiplier=0}this.latestConfig=t}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return jT}};Qn.OutlierDetectionLoadBalancer=Ip;function ore(){rre&&(0,lV.registerLoadBalancerType)(jT,Ip,zl)}Qn.setup=ore});var $l=S(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});D.experimental=D.ServerInterceptingCall=D.ResponderBuilder=D.ServerListenerBuilder=D.addAdminServicesToServer=D.getChannelzHandlers=D.getChannelzServiceDefinition=D.InterceptorConfigurationError=D.InterceptingCall=D.RequesterBuilder=D.ListenerBuilder=D.StatusBuilder=D.getClientChannel=D.ServerCredentials=D.Server=D.setLogVerbosity=D.setLogger=D.load=D.loadObject=D.CallCredentials=D.ChannelCredentials=D.waitForClientReady=D.closeClient=D.Channel=D.makeGenericClientConstructor=D.makeClientConstructor=D.loadPackageDefinition=D.Client=D.compressionAlgorithms=D.propagate=D.connectivityState=D.status=D.logVerbosity=D.Metadata=D.credentials=void 0;var Mp=GE();Object.defineProperty(D,"CallCredentials",{enumerable:!0,get:function(){return Mp.CallCredentials}});var sre=yS();Object.defineProperty(D,"Channel",{enumerable:!0,get:function(){return sre.ChannelImplementation}});var are=Dg();Object.defineProperty(D,"compressionAlgorithms",{enumerable:!0,get:function(){return are.CompressionAlgorithms}});var lre=Kt();Object.defineProperty(D,"connectivityState",{enumerable:!0,get:function(){return lre.ConnectivityState}});var Lp=ef();Object.defineProperty(D,"ChannelCredentials",{enumerable:!0,get:function(){return Lp.ChannelCredentials}});var uV=TS();Object.defineProperty(D,"Client",{enumerable:!0,get:function(){return uV.Client}});var zT=Ee();Object.defineProperty(D,"logVerbosity",{enumerable:!0,get:function(){return zT.LogVerbosity}});Object.defineProperty(D,"status",{enumerable:!0,get:function(){return zT.Status}});Object.defineProperty(D,"propagate",{enumerable:!0,get:function(){return zT.Propagate}});var dV=Me(),$T=AS();Object.defineProperty(D,"loadPackageDefinition",{enumerable:!0,get:function(){return $T.loadPackageDefinition}});Object.defineProperty(D,"makeClientConstructor",{enumerable:!0,get:function(){return $T.makeClientConstructor}});Object.defineProperty(D,"makeGenericClientConstructor",{enumerable:!0,get:function(){return $T.makeClientConstructor}});var cre=St();Object.defineProperty(D,"Metadata",{enumerable:!0,get:function(){return cre.Metadata}});var ure=H2();Object.defineProperty(D,"Server",{enumerable:!0,get:function(){return ure.Server}});var dre=dT();Object.defineProperty(D,"ServerCredentials",{enumerable:!0,get:function(){return dre.ServerCredentials}});var fre=j2();Object.defineProperty(D,"StatusBuilder",{enumerable:!0,get:function(){return fre.StatusBuilder}});D.credentials={combineChannelCredentials:(i,...e)=>e.reduce((t,o)=>t.compose(o),i),combineCallCredentials:(i,...e)=>e.reduce((t,o)=>t.compose(o),i),createInsecure:Lp.ChannelCredentials.createInsecure,createSsl:Lp.ChannelCredentials.createSsl,createFromSecureContext:Lp.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:Mp.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:Mp.CallCredentials.createFromGoogleCredential,createEmpty:Mp.CallCredentials.createEmpty};var pre=i=>i.close();D.closeClient=pre;var hre=(i,e,t)=>i.waitForReady(e,t);D.waitForClientReady=hre;var mre=(i,e)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};D.loadObject=mre;var _re=(i,e,t)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};D.load=_re;var Ere=i=>{dV.setLogger(i)};D.setLogger=Ere;var Sre=i=>{dV.setLoggerVerbosity(i)};D.setLogVerbosity=Sre;var gre=i=>uV.Client.prototype.getChannel.call(i);D.getClientChannel=gre;var wp=ES();Object.defineProperty(D,"ListenerBuilder",{enumerable:!0,get:function(){return wp.ListenerBuilder}});Object.defineProperty(D,"RequesterBuilder",{enumerable:!0,get:function(){return wp.RequesterBuilder}});Object.defineProperty(D,"InterceptingCall",{enumerable:!0,get:function(){return wp.InterceptingCall}});Object.defineProperty(D,"InterceptorConfigurationError",{enumerable:!0,get:function(){return wp.InterceptorConfigurationError}});var fV=Bi();Object.defineProperty(D,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return fV.getChannelzServiceDefinition}});Object.defineProperty(D,"getChannelzHandlers",{enumerable:!0,get:function(){return fV.getChannelzHandlers}});var Tre=df();Object.defineProperty(D,"addAdminServicesToServer",{enumerable:!0,get:function(){return Tre.addAdminServicesToServer}});var YT=ST();Object.defineProperty(D,"ServerListenerBuilder",{enumerable:!0,get:function(){return YT.ServerListenerBuilder}});Object.defineProperty(D,"ResponderBuilder",{enumerable:!0,get:function(){return YT.ResponderBuilder}});Object.defineProperty(D,"ServerInterceptingCall",{enumerable:!0,get:function(){return YT.ServerInterceptingCall}});var yre=xT();D.experimental=yre;var vre=Ag(),Are=J2(),Ore=rV(),Rre=vp(),bre=sV(),Cre=cV(),Nre=Bi();vre.setup(),Are.setup(),Ore.setup(),Rre.setup(),bre.setup(),Cre.setup(),Nre.setup()});var pV=S(Dp=>{"use strict";Object.defineProperty(Dp,"__esModule",{value:!0});Dp.createServiceClientConstructor=void 0;var xre=$l();function Pre(i,e){let t={export:{path:i,requestStream:!1,responseStream:!1,requestSerialize:o=>o,requestDeserialize:o=>o,responseSerialize:o=>o,responseDeserialize:o=>o}};return xre.makeGenericClientConstructor(t,e)}Dp.createServiceClientConstructor=Pre});var WT=S(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});jr.GrpcExporterTransport=jr.createEmptyMetadata=jr.createSslCredentials=jr.createInsecureCredentials=void 0;var Ire=0,Mre=2;function Lre(i){return i==="gzip"?Mre:Ire}function wre(){let{credentials:i}=$l();return i.createInsecure()}jr.createInsecureCredentials=wre;function Dre(i,e,t){let{credentials:o}=$l();return o.createSsl(i,e,t)}jr.createSslCredentials=Dre;function Ure(){let{Metadata:i}=$l();return new i}jr.createEmptyMetadata=Ure;var KT=class{constructor(e){this._parameters=e}shutdown(){var e;(e=this._client)===null||e===void 0||e.close()}send(e){let t=Buffer.from(e);if(this._client==null){let{createServiceClientConstructor:o}=pV();try{this._metadata=this._parameters.metadata()}catch(a){return Promise.resolve({status:"failure",error:a})}let s=o(this._parameters.grpcPath,this._parameters.grpcName);try{this._client=new s(this._parameters.address,this._parameters.credentials(),{"grpc.default_compression_algorithm":Lre(this._parameters.compression)})}catch(a){return Promise.resolve({status:"failure",error:a})}}return new Promise(o=>{let s=Date.now()+this._parameters.timeoutMillis;if(this._metadata==null)return o({error:new Error("metadata was null"),status:"failure"});this._client.export(t,this._metadata,{deadline:s},(a,n)=>{o(a?{status:"failure",error:a}:{data:n,status:"success"})})})}};jr.GrpcExporterTransport=KT});var ZT=S(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.configureCompression=Bt.getCredentialsFromEnvironment=Bt.configureCredentials=Bt.validateAndNormalizeUrl=Bt.DEFAULT_COLLECTOR_URL=void 0;var Ps=(w(),ee(Je)),zr=(W(),ee(fi)),JT=F("path"),kre=F("url"),QT=F("fs"),XT=(Uo(),ee(dE)),hV=WT();Bt.DEFAULT_COLLECTOR_URL="http://localhost:4317";function Bre(i){var e;i.match(/^([\w]{1,8}):\/\//)||(i=`https://${i}`);let o=new kre.URL(i);return o.protocol==="unix:"?i:(o.pathname&&o.pathname!=="/"&&Ps.diag.warn("URL path should not be set when using grpc, the path part of the URL will be ignored."),o.protocol!==""&&!(!((e=o.protocol)===null||e===void 0)&&e.match(/^(http)s?:$/))&&Ps.diag.warn("URL protocol should be http(s)://. Using http://."),o.host)}Bt.validateAndNormalizeUrl=Bre;function Vre(i,e){let t;return i||(e.startsWith("https://")?t=!1:e.startsWith("http://")||e===Bt.DEFAULT_COLLECTOR_URL?t=!0:t=Fre(),t?(0,hV.createInsecureCredentials)():mV())}Bt.configureCredentials=Vre;function Fre(){let i=(0,zr.getEnv)().OTEL_EXPORTER_OTLP_TRACES_INSECURE||(0,zr.getEnv)().OTEL_EXPORTER_OTLP_INSECURE;return i?i.toLowerCase()==="true":!1}function mV(){let i=qre(),e=Gre(),t=Hre();return(0,hV.createSslCredentials)(i,e,t)}Bt.getCredentialsFromEnvironment=mV;function qre(){let i=(0,zr.getEnv)().OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE||(0,zr.getEnv)().OTEL_EXPORTER_OTLP_CERTIFICATE;if(i)try{return QT.readFileSync(JT.resolve(process.cwd(),i))}catch{Ps.diag.warn("Failed to read root certificate file");return}else return}function Gre(){let i=(0,zr.getEnv)().OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY||(0,zr.getEnv)().OTEL_EXPORTER_OTLP_CLIENT_KEY;if(i)try{return QT.readFileSync(JT.resolve(process.cwd(),i))}catch{Ps.diag.warn("Failed to read client certificate private key file");return}else return}function Hre(){let i=(0,zr.getEnv)().OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE||(0,zr.getEnv)().OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE;if(i)try{return QT.readFileSync(JT.resolve(process.cwd(),i))}catch{Ps.diag.warn("Failed to read client certificate chain file");return}else return}function jre(i){if(i!=null)return i;let e=(0,zr.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,zr.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION;return e==="gzip"?XT.CompressionAlgorithm.GZIP:(e==="none"||Ps.diag.warn('Unknown compression "'+e+'", falling back to "none"'),XT.CompressionAlgorithm.NONE)}Bt.configureCompression=jre});var yV=S(Up=>{"use strict";Object.defineProperty(Up,"__esModule",{value:!0});Up.OTLPGRPCExporterNodeBase=void 0;var _V=(w(),ee(Je)),EV=(W(),ee(fi)),SV=(Uo(),ee(dE)),gV=WT(),TV=ZT(),ey=class extends SV.OTLPExporterBase{constructor(e={},t,o,s,a){var n;super(e),this.grpcQueue=[],this._serializer=a,e.headers&&_V.diag.warn("Headers cannot be set when using grpc");let r=EV.baggageUtils.parseKeyPairsIntoRecord((0,EV.getEnv)().OTEL_EXPORTER_OTLP_HEADERS),l=Object.assign({},r,t),c=()=>(0,TV.configureCredentials)(void 0,this.getUrlFromConfig(e));if(e.credentials!=null){let _=e.credentials;c=()=>_}let u=(n=e.metadata)===null||n===void 0?void 0:n.clone(),d=()=>{let _=u??(0,gV.createEmptyMetadata)();for(let[E,A]of Object.entries(l))_.get(E).length<1&&_.set(E,A);return _};this.compression=(0,TV.configureCompression)(e.compression),this._transport=new gV.GrpcExporterTransport({address:this.getDefaultUrl(e),compression:this.compression,credentials:c,grpcName:o,grpcPath:s,metadata:d,timeoutMillis:this.timeoutMillis})}onInit(){}onShutdown(){this._transport.shutdown()}send(e,t,o){if(this._shutdownOnce.isCalled){_V.diag.debug("Shutdown already started. Cannot send objects");return}let s=this._serializer.serializeRequest(e);if(s==null){o(new Error("Could not serialize message"));return}let a=this._transport.send(s).then(r=>{if(r.status==="success"){t();return}r.status==="failure"&&r.error&&o(r.error),o(new SV.OTLPExporterError("Export failed with unknown error"))},o);this._sendingPromises.push(a);let n=()=>{let r=this._sendingPromises.indexOf(a);this._sendingPromises.splice(r,1)};a.then(n,n)}};Up.OTLPGRPCExporterNodeBase=ey});var AV=S(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});Zn.validateAndNormalizeUrl=Zn.DEFAULT_COLLECTOR_URL=Zn.OTLPGRPCExporterNodeBase=void 0;var zre=yV();Object.defineProperty(Zn,"OTLPGRPCExporterNodeBase",{enumerable:!0,get:function(){return zre.OTLPGRPCExporterNodeBase}});var vV=ZT();Object.defineProperty(Zn,"DEFAULT_COLLECTOR_URL",{enumerable:!0,get:function(){return vV.DEFAULT_COLLECTOR_URL}});Object.defineProperty(Zn,"validateAndNormalizeUrl",{enumerable:!0,get:function(){return vV.validateAndNormalizeUrl}})});var OV=S(kp=>{"use strict";Object.defineProperty(kp,"__esModule",{value:!0});kp.VERSION=void 0;kp.VERSION="0.52.1"});var RV=S(Vp=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});Vp.OTLPTraceExporter=void 0;var Bp=(W(),ee(fi)),ty=AV(),$re=(fl(),ee(ZD)),Yre=OV(),Kre={"User-Agent":`OTel-OTLP-Exporter-JavaScript/${Yre.VERSION}`},ry=class extends ty.OTLPGRPCExporterNodeBase{constructor(e={}){let t=Object.assign(Object.assign({},Kre),Bp.baggageUtils.parseKeyPairsIntoRecord((0,Bp.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS));super(e,t,"TraceExportService","/opentelemetry.proto.collector.trace.v1.TraceService/Export",$re.ProtobufTraceSerializer)}getDefaultUrl(e){return(0,ty.validateAndNormalizeUrl)(this.getUrlFromConfig(e))}getUrlFromConfig(e){return typeof e.url=="string"?e.url:(0,Bp.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT||(0,Bp.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT||ty.DEFAULT_COLLECTOR_URL}};Vp.OTLPTraceExporter=ry});var bV=S(ji=>{"use strict";var Wre=ji&&ji.__createBinding||(Object.create?function(i,e,t,o){o===void 0&&(o=t),Object.defineProperty(i,o,{enumerable:!0,get:function(){return e[t]}})}:function(i,e,t,o){o===void 0&&(o=t),i[o]=e[t]}),Xre=ji&&ji.__exportStar||function(i,e){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Wre(e,i,t)};Object.defineProperty(ji,"__esModule",{value:!0});Xre(RV(),ji)});import*as Jre from"http";import*as Qre from"https";import*as CV from"url";function Fp(i,e){let t=CV.parse(i),o=Object.assign({method:"POST",headers:Object.assign({"Content-Type":"application/json"},e)},t);return function(a,n){if(a.length===0)return v.debug("Zipkin send with empty spans"),n({code:te.SUCCESS});let{request:r}=o.protocol==="http:"?Jre:Qre,l=r(o,u=>{let d="";u.on("data",_=>{d+=_}),u.on("end",()=>{let _=u.statusCode||0;return v.debug(`Zipkin response status code: ${_}, body: ${d}`),_<400?n({code:te.SUCCESS}):n({code:te.FAILED,error:new Error(`Got unexpected status code from zipkin: ${_}`)})})});l.on("error",u=>n({code:te.FAILED,error:u}));let c=JSON.stringify(a);v.debug(`Zipkin request payload: ${c}`),l.write(c,"utf8"),l.end()}}var NV=m(()=>{w();W()});var xV=m(()=>{NV()});var ny=m(()=>{xV()});var zi,PV=m(()=>{(function(i){i.CLIENT="CLIENT",i.SERVER="SERVER",i.CONSUMER="CONSUMER",i.PRODUCER="PRODUCER"})(zi||(zi={}))});function LV(i,e,t,o){return{traceId:i.spanContext().traceId,parentId:i.parentSpanId,name:i.name,id:i.spanContext().spanId,kind:ene[i.kind],timestamp:ft(i.startTime),duration:Math.round(ft(i.duration)),localEndpoint:{serviceName:e},tags:tne(i,t,o),annotations:i.events.length?rne(i.events):void 0}}function tne({attributes:i,resource:e,status:t,droppedAttributesCount:o,droppedEventsCount:s,droppedLinksCount:a},n,r){let l={};for(let c of Object.keys(i))l[c]=String(i[c]);return t.code!==Tr.UNSET&&(l[n]=String(Tr[t.code])),t.code===Tr.ERROR&&t.message&&(l[r]=t.message),o&&(l["otel.dropped_attributes_count"]=String(o)),s&&(l["otel.dropped_events_count"]=String(s)),a&&(l["otel.dropped_links_count"]=String(a)),Object.keys(e.attributes).forEach(c=>l[c]=String(e.attributes[c])),l}function rne(i){return i.map(e=>({timestamp:Math.round(ft(e.time)),value:e.name}))}var ene,IV,MV,wV=m(()=>{w();W();PV();ene={[Ft.CLIENT]:zi.CLIENT,[Ft.SERVER]:zi.SERVER,[Ft.CONSUMER]:zi.CONSUMER,[Ft.PRODUCER]:zi.PRODUCER,[Ft.INTERNAL]:void 0},IV="otel.status_code",MV="error"});function DV(i){return function(){return i()}}var UV=m(()=>{});var iy,kV=m(()=>{w();W();ny();wV();qt();UV();iy=class{constructor(e={}){this.DEFAULT_SERVICE_NAME="OpenTelemetry Service",this._sendingPromises=[],this._urlStr=e.url||X().OTEL_EXPORTER_ZIPKIN_ENDPOINT,this._send=Fp(this._urlStr,e.headers),this._serviceName=e.serviceName,this._statusCodeTagName=e.statusCodeTagName||IV,this._statusDescriptionTagName=e.statusDescriptionTagName||MV,this._isShutdown=!1,typeof e.getExportRequestHeaders=="function"?this._getHeaders=DV(e.getExportRequestHeaders):this._beforeSend=function(){}}export(e,t){let o=String(this._serviceName||e[0].resource.attributes[Yr]||this.DEFAULT_SERVICE_NAME);if(v.debug("Zipkin exporter export"),this._isShutdown){setTimeout(()=>t({code:te.FAILED,error:new Error("Exporter has been shutdown")}));return}let s=new Promise(n=>{this._sendSpans(e,o,r=>{n(),t(r)})});this._sendingPromises.push(s);let a=()=>{let n=this._sendingPromises.indexOf(s);this._sendingPromises.splice(n,1)};s.then(a,a)}shutdown(){return v.debug("Zipkin exporter shutdown"),this._isShutdown=!0,this.forceFlush()}forceFlush(){return new Promise((e,t)=>{Promise.all(this._sendingPromises).then(()=>{e()},t)})}_beforeSend(){this._getHeaders&&(this._send=Fp(this._urlStr,this._getHeaders()))}_sendSpans(e,t,o){let s=e.map(a=>LV(a,String(a.attributes[Yr]||a.resource.attributes[Yr]||t),this._statusCodeTagName,this._statusDescriptionTagName));return this._beforeSend(),this._send(s,a=>{if(o)return o(a)})}}});var BV={};Ie(BV,{ZipkinExporter:()=>iy,prepareSend:()=>Fp});var VV=m(()=>{ny();kV()});var qV=S(Hp=>{"use strict";var oy;Object.defineProperty(Hp,"__esModule",{value:!0});Hp.TracerProviderWithEnvExporters=void 0;var Is=(w(),ee(Je)),qp=(W(),ee(fi)),Gp=(vi(),ee(Ro)),nne=od(),FV=(aU(),ee(sU)),ine=(mU(),ee(hU)),one=bV(),sne=(VV(),ee(BV)),Yl=class extends nne.NodeTracerProvider{constructor(e={}){super(e),this._configuredExporters=[],this._hasSpanProcessors=!1;let t=this.filterBlanksAndNulls(Array.from(new Set((0,qp.getEnv)().OTEL_TRACES_EXPORTER.split(","))));t[0]==="none"?Is.diag.warn('OTEL_TRACES_EXPORTER contains "none". SDK will not be initialized.'):t.length===0?(Is.diag.warn("OTEL_TRACES_EXPORTER is empty. Using default otlp exporter."),t=["otlp"],this.createExportersFromList(t),this._spanProcessors=this.configureSpanProcessors(this._configuredExporters),this._spanProcessors.forEach(o=>{this.addSpanProcessor(o)})):(t.length>1&&t.includes("none")&&(Is.diag.warn('OTEL_TRACES_EXPORTER contains "none" along with other exporters. Using default otlp exporter.'),t=["otlp"]),this.createExportersFromList(t),this._configuredExporters.length>0?(this._spanProcessors=this.configureSpanProcessors(this._configuredExporters),this._spanProcessors.forEach(o=>{this.addSpanProcessor(o)})):Is.diag.warn("Unable to set up trace exporter(s) due to invalid exporter and/or protocol values."))}static configureOtlp(){let e=this.getOtlpProtocol();switch(e){case"grpc":return new one.OTLPTraceExporter;case"http/json":return new ine.OTLPTraceExporter;case"http/protobuf":return new FV.OTLPTraceExporter;default:return Is.diag.warn(`Unsupported OTLP traces protocol: ${e}. Using http/protobuf.`),new FV.OTLPTraceExporter}}static getOtlpProtocol(){var e,t,o;let s=(0,qp.getEnvWithoutDefaults)();return(o=(t=(e=s.OTEL_EXPORTER_OTLP_TRACES_PROTOCOL)!==null&&e!==void 0?e:s.OTEL_EXPORTER_OTLP_PROTOCOL)!==null&&t!==void 0?t:(0,qp.getEnv)().OTEL_EXPORTER_OTLP_TRACES_PROTOCOL)!==null&&o!==void 0?o:(0,qp.getEnv)().OTEL_EXPORTER_OTLP_PROTOCOL}static configureJaeger(){try{let{JaegerExporter:e}=F("@opentelemetry/exporter-jaeger");return new e}catch(e){throw new Error(`Could not instantiate JaegerExporter. This could be due to the JaegerExporter's lack of support for bundling. If possible, use @opentelemetry/exporter-trace-otlp-proto instead. Original Error: ${e}`)}}addSpanProcessor(e){super.addSpanProcessor(e),this._hasSpanProcessors=!0}register(e){this._hasSpanProcessors&&super.register(e)}createExportersFromList(e){e.forEach(t=>{let o=this._getSpanExporter(t);o?this._configuredExporters.push(o):Is.diag.warn(`Unrecognized OTEL_TRACES_EXPORTER value: ${t}.`)})}configureSpanProcessors(e){return e.map(t=>t instanceof Gp.ConsoleSpanExporter?new Gp.SimpleSpanProcessor(t):new Gp.BatchSpanProcessor(t))}filterBlanksAndNulls(e){return e.map(t=>t.trim()).filter(t=>t!=="null"&&t!=="")}};Hp.TracerProviderWithEnvExporters=Yl;oy=Yl;Yl._registeredExporters=new Map([["otlp",()=>oy.configureOtlp()],["zipkin",()=>new sne.ZipkinExporter],["jaeger",()=>oy.configureJaeger()],["console",()=>new Gp.ConsoleSpanExporter]])});var GV=S(jp=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});jp.getResourceDetectorsFromEnv=void 0;var ane=(w(),ee(Je)),Kl=(Sn(),ee(Lc)),lne="env",cne="host",une="os",dne="process",fne="serviceinstance";function pne(){var i,e;let t=new Map([[lne,Kl.envDetectorSync],[cne,Kl.hostDetectorSync],[une,Kl.osDetectorSync],[fne,Kl.serviceInstanceIdDetectorSync],[dne,Kl.processDetectorSync]]),o=(e=(i=process.env.OTEL_NODE_RESOURCE_DETECTORS)===null||i===void 0?void 0:i.split(","))!==null&&e!==void 0?e:["all"];return o.includes("all")?[...t.values()].flat():o.includes("none")?[]:o.flatMap(s=>{let a=t.get(s);return a||ane.diag.error(`Invalid resource detector "${s}" specified in the environment variable OTEL_NODE_RESOURCE_DETECTORS`),a||[]})}jp.getResourceDetectorsFromEnv=pne});var jV=S(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});zp.NodeSDK=void 0;var Wl=(w(),ee(Je)),hne=(da(),ee(yP)),mne=(U1(),ee(D1)),Ms=(Sn(),ee(Lc)),_ne=(Mm(),ee(Im)),Ene=(Mu(),ee(Jm)),Sne=(vi(),ee(Ro)),gne=od(),Tne=(qt(),ee(x0)),yne=qV(),HV=(W(),ee(fi)),vne=GV(),sy=class{constructor(e={}){var t,o,s,a,n,r,l;let c=(0,HV.getEnv)(),u=(0,HV.getEnvWithoutDefaults)();c.OTEL_SDK_DISABLED&&(this._disabled=!0),u.OTEL_LOG_LEVEL&&Wl.diag.setLogger(new Wl.DiagConsoleLogger,{logLevel:u.OTEL_LOG_LEVEL}),this._configuration=e,this._resource=(t=e.resource)!==null&&t!==void 0?t:new Ms.Resource({});let d=[];if(process.env.OTEL_NODE_RESOURCE_DETECTORS!=null?d=(0,vne.getResourceDetectorsFromEnv)():d=[Ms.envDetector,Ms.processDetector,Ms.hostDetector],this._resourceDetectors=(o=e.resourceDetectors)!==null&&o!==void 0?o:d,this._serviceName=e.serviceName,this._autoDetectResources=(s=e.autoDetectResources)!==null&&s!==void 0?s:!0,e.traceExporter||e.spanProcessor||e.spanProcessors){let _={};e.sampler&&(_.sampler=e.sampler),e.spanLimits&&(_.spanLimits=e.spanLimits),e.idGenerator&&(_.idGenerator=e.idGenerator),e.spanProcessor&&Wl.diag.warn("The 'spanProcessor' option is deprecated. Please use 'spanProcessors' instead.");let E=(a=e.spanProcessor)!==null&&a!==void 0?a:new Sne.BatchSpanProcessor(e.traceExporter),A=(n=e.spanProcessors)!==null&&n!==void 0?n:[E];this._tracerProviderConfig={tracerConfig:_,spanProcessors:A,contextManager:e.contextManager,textMapPropagator:e.textMapPropagator}}if(e.logRecordProcessor&&(this._loggerProviderConfig={logRecordProcessor:e.logRecordProcessor}),e.metricReader||e.views){let _={};e.metricReader&&(_.reader=e.metricReader),e.views&&(_.views=e.views),this._meterProviderConfig=_}this._instrumentations=(l=(r=e.instrumentations)===null||r===void 0?void 0:r.flat())!==null&&l!==void 0?l:[]}start(){var e,t,o,s,a,n;if(this._disabled)return;if((0,mne.registerInstrumentations)({instrumentations:this._instrumentations}),this._autoDetectResources){let c={detectors:this._resourceDetectors};this._resource=this._resource.merge((0,Ms.detectResourcesSync)(c))}this._resource=this._serviceName===void 0?this._resource:this._resource.merge(new Ms.Resource({[Tne.SEMRESATTRS_SERVICE_NAME]:this._serviceName}));let r=this._tracerProviderConfig?gne.NodeTracerProvider:yne.TracerProviderWithEnvExporters,l=new r(Object.assign(Object.assign({},this._configuration),{resource:this._resource}));if(this._tracerProvider=l,this._tracerProviderConfig)for(let c of this._tracerProviderConfig.spanProcessors)l.addSpanProcessor(c);if(l.register({contextManager:(t=(e=this._tracerProviderConfig)===null||e===void 0?void 0:e.contextManager)!==null&&t!==void 0?t:(o=this._configuration)===null||o===void 0?void 0:o.contextManager,propagator:(s=this._tracerProviderConfig)===null||s===void 0?void 0:s.textMapPropagator}),this._loggerProviderConfig){let c=new _ne.LoggerProvider({resource:this._resource});c.addLogRecordProcessor(this._loggerProviderConfig.logRecordProcessor),this._loggerProvider=c,hne.logs.setGlobalLoggerProvider(c)}if(this._meterProviderConfig){let c=[];this._meterProviderConfig.reader&&c.push(this._meterProviderConfig.reader);let u=new Ene.MeterProvider({resource:this._resource,views:(n=(a=this._meterProviderConfig)===null||a===void 0?void 0:a.views)!==null&&n!==void 0?n:[],readers:c});this._meterProvider=u,Wl.metrics.setGlobalMeterProvider(u);for(let d of this._instrumentations)d.setMeterProvider(Wl.metrics.getMeterProvider())}}shutdown(){let e=[];return this._tracerProvider&&e.push(this._tracerProvider.shutdown()),this._loggerProvider&&e.push(this._loggerProvider.shutdown()),this._meterProvider&&e.push(this._meterProvider.shutdown()),Promise.all(e).then(()=>{})}};zp.NodeSDK=sy});var $V=S(zV=>{"use strict";Object.defineProperty(zV,"__esModule",{value:!0})});var KV=S(Ne=>{"use strict";var Ane=Ne&&Ne.__createBinding||(Object.create?function(i,e,t,o){o===void 0&&(o=t),Object.defineProperty(i,o,{enumerable:!0,get:function(){return e[t]}})}:function(i,e,t,o){o===void 0&&(o=t),i[o]=e[t]}),YV=Ne&&Ne.__exportStar||function(i,e){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ane(e,i,t)};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.tracing=Ne.resources=Ne.node=Ne.metrics=Ne.logs=Ne.core=Ne.contextBase=Ne.api=void 0;Ne.api=(w(),ee(Je));Ne.contextBase=(w(),ee(Je));Ne.core=(W(),ee(fi));Ne.logs=(Mm(),ee(Im));Ne.metrics=(Mu(),ee(Jm));Ne.node=od();Ne.resources=(Sn(),ee(Lc));Ne.tracing=(vi(),ee(Ro));YV(jV(),Ne);YV($V(),Ne)});w();Sn();var XV=pn(KV(),1);import{env as Xl,version as One}from"node:process";w();W();fl();var $p=class{#t;#e;constructor(){this.#t=new Qe(this.#r,this),this.#e=v.createComponentLogger({namespace:"netlify-span-exporter"})}convert(e){return Nn(e,{useHex:!0,useLongBits:!1})}export(e,t){if(this.#e.debug(`export ${e.length} spans`),this.#t.isCalled){t({code:te.FAILED,error:new Error("Exporter has been shutdown")});return}return this.#n(e,t)}shutdown(){return this.#e.debug("Shutting down"),this.#t.call()}forceFlush(){return this.#e.debug("force flush"),Promise.resolve()}#r(){return this.forceFlush()}#n(e,t){if(console.log("__nfOTLPTrace",JSON.stringify(this.convert(e))),t)return t({code:te.SUCCESS})}};Xl.NETLIFY_DEBUG_OPENTELEMETRY&&v.setLogger(new rc,{logLevel:ve.ALL,suppressOverrideMessage:!0});var WV,Rne=new ce({"service.name":SERVICE_NAME??"lambda-function","service.version":SERVICE_VERSION,"process.runtime.name":"nodejs","process.runtime.version":One.slice(1),"deployment.environment":(WV=Xl.URL)!=null&&WV.includes("netlifystg.com")?"staging":"production","http.url":Xl.URL,"netlify.site.id":Xl.SITE_ID,"netlify.site.name":Xl.SITE_NAME}),bne=new XV.default.NodeSDK({resource:Rne,traceExporter:new $p});bne.start();
/*! Bundled license information:

@grpc/proto-loader/build/src/util.js:
  (**
   * @license
   * Copyright 2018 gRPC authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   *)

long/umd/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)

@grpc/proto-loader/build/src/index.js:
  (**
   * @license
   * Copyright 2018 gRPC authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   *)
*/
